(window.discover_bundle_jsonpfunction=window.discover_bundle_jsonpfunction||[]).push([[1],{100:function(e,t,o){"use strict";o.d(t,"a",(function(){return X}));var n=o(3),r=o.n(n),i=o(41),a=(o(146),o(13)),s=o(14);const l="kibana-json",c={border:"all",fontSize:"s",cellPadding:"s",rowHover:"none"},d=[25,50,100,250],u={showColumnSelector:{allowHide:!1,allowReorder:!0}};function b(e){switch(e){case s.KBN_FIELD_TYPES.IP:case s.KBN_FIELD_TYPES.GEO_SHAPE:case s.KBN_FIELD_TYPES.NUMBER:return"numeric";case s.KBN_FIELD_TYPES.BOOLEAN:return"boolean";case s.KBN_FIELD_TYPES.STRING:return"string";case s.KBN_FIELD_TYPES.DATE:return"datetime";default:return l}}var p=o(67),m=o.n(p),f=o(0),g=o(103),h=o(82),j=o(19),x=o(5);function v(e){const t=e._routing||"";return[e._index,e._id,t].join("||")}function _({hit:e,hits:t,indexPattern:o,columns:r,onFilter:i,onClose:s,onRemoveColumn:l,onAddColumn:c,setExpandedDoc:d}){const u=Object(j.a)(),b=Object(n.useMemo)((()=>(null==t?void 0:t.find((({_id:t})=>t===(null==e?void 0:e._id))))||e),[e,t]),p=Object(n.useMemo)((()=>t?t.length:0),[t]),_=Object(n.useMemo)((()=>{const o=v(e);return!t||p<=1?-1:function(e,t){return e.findIndex((e=>v(e)===t))}(t,o)}),[t,e,p]),w=Object(n.useCallback)((e=>{t&&t[e]&&d(t[e])}),[t,d]),O=Object(n.useCallback)((e=>{e.key!==a.keys.ARROW_LEFT&&e.key!==a.keys.ARROW_RIGHT||(e.preventDefault(),e.stopPropagation(),w(_+(e.key===a.keys.ARROW_RIGHT?1:-1)))}),[_,w]),{singleDocProps:y,surrDocsProps:D}=Object(h.b)({indexPatternId:o.id,rowIndex:e._index,rowId:e._id,filterManager:u.filterManager,addBasePath:u.addBasePath,columns:r});return Object(x.jsx)(a.EuiPortal,null,Object(x.jsx)(a.EuiFlyout,{onClose:s,size:"m","data-test-subj":"docTableDetailsFlyout",onKeyDown:O,ownFocus:!1},Object(x.jsx)(a.EuiFlyoutHeader,{hasBorder:!0},Object(x.jsx)(a.EuiTitle,{size:"s",className:"dscTable__flyoutHeader","data-test-subj":"docTableRowDetailsTitle"},Object(x.jsx)("h2",null,f.i18n.translate("discover.grid.tableRow.detailHeading",{defaultMessage:"Expanded document"}))),Object(x.jsx)(a.EuiSpacer,{size:"s"}),Object(x.jsx)(a.EuiFlexGroup,{responsive:!1,gutterSize:"s",alignItems:"center"},Object(x.jsx)(a.EuiHideFor,{sizes:["xs","s","m"]},Object(x.jsx)(a.EuiFlexItem,{grow:!1},Object(x.jsx)(a.EuiText,{size:"s"},Object(x.jsx)("strong",null,f.i18n.translate("discover.grid.tableRow.viewText",{defaultMessage:"View:"}))))),Object(x.jsx)(a.EuiFlexItem,{grow:!1},Object(x.jsx)(a.EuiButtonEmpty,m()({size:"s",iconSize:"s",iconType:"document",flush:"left","data-test-subj":"docTableRowAction"},y),f.i18n.translate("discover.grid.tableRow.viewSingleDocumentLinkTextSimple",{defaultMessage:"Single document"}))),o.isTimeBased()&&o.id&&Object(x.jsx)(a.EuiFlexGroup,{alignItems:"center",responsive:!1,gutterSize:"none"},Object(x.jsx)(a.EuiFlexItem,{grow:!1},Object(x.jsx)(a.EuiButtonEmpty,m()({size:"s",iconSize:"s",iconType:"documents",flush:"left"},D,{"data-test-subj":"docTableRowAction"}),f.i18n.translate("discover.grid.tableRow.viewSurroundingDocumentsLinkTextSimple",{defaultMessage:"Surrounding documents"}))),Object(x.jsx)(a.EuiFlexItem,{grow:!1},Object(x.jsx)(a.EuiIconTip,{content:f.i18n.translate("discover.grid.tableRow.viewSurroundingDocumentsHover",{defaultMessage:"Inspect documents that occurred before and after this document. Only pinned filters remain active in the Surrounding documents view."}),type:"questionInCircle",color:"subdued",position:"right",iconProps:{className:"eui-alignTop"}}))),-1!==_&&Object(x.jsx)(a.EuiFlexItem,{"data-test-subj":`dscDocNavigationPage-${_}`},Object(x.jsx)(a.EuiPagination,{"aria-label":f.i18n.translate("discover.grid.flyout.documentNavigation",{defaultMessage:"Document navigation"}),pageCount:p,activePage:_,onPageClick:w,className:"dscTable__flyoutDocumentNavigation",compressed:!0,"data-test-subj":"dscDocNavigation"})))),Object(x.jsx)(a.EuiFlyoutBody,null,Object(x.jsx)(g.a,{hit:b,columns:r,indexPattern:o,filter:(e,t,o)=>{i(e,t,o),u.toastNotifications.addSuccess(f.i18n.translate("discover.grid.flyout.toastFilterAdded",{defaultMessage:"Filter was added"}))},onRemoveColumn:e=>{l(e),u.toastNotifications.addSuccess(f.i18n.translate("discover.grid.flyout.toastColumnRemoved",{defaultMessage:"Column '{columnName}' was removed",values:{columnName:e}}))},onAddColumn:e=>{c(e),u.toastNotifications.addSuccess(f.i18n.translate("discover.grid.flyout.toastColumnAdded",{defaultMessage:"Column '{columnName}' was added",values:{columnName:e}}))}}))))}const w={},O=r.a.createContext(w);var y=o(47),D=(o(81),o(46)),T=o(91);const k=({json:e,width:t,hasLineNumbers:o})=>{const r=JSON.stringify(e,null,2),i=Object(n.useCallback)((e=>{var t;const o=e.getDomNode();if(!o)return;const n=e.getOption(D.monaco.editor.EditorOption.lineHeight),r=(null===(t=e.getModel())||void 0===t?void 0:t.getLineCount())||1,i=e.getTopForLineNumber(r+1)+n;o.style.height=`${i}px`,e.layout()}),[]);return Object(x.jsx)(T.b,{jsonValue:r,width:t,hasLineNumbers:o,onEditorDidMount:i})};var C=o(71),E=o(108),S=o(7);function F(e,t){return Object.fromEntries(Object.entries(e).filter((([e])=>0===e.indexOf(`${t}.`))))}const M=({rowIndex:e,setCellProps:t})=>{const{expanded:o,setExpanded:r,rows:i,isDarkMode:s}=Object(n.useContext)(O),l=i[e];Object(n.useEffect)((()=>{l.isAnchor?t({className:"dscDocsGrid__cell--highlight"}):o&&l&&o._id===l._id?t({style:{backgroundColor:s?y.euiDarkVars.euiColorHighlight:y.euiLightVars.euiColorHighlight}}):t({style:void 0})}),[o,l,t,s]);const c=l===o,d=f.i18n.translate("discover.grid.viewDoc",{defaultMessage:"Toggle dialog with details"});return Object(x.jsx)(a.EuiToolTip,{content:d,delay:"long"},Object(x.jsx)(a.EuiButtonIcon,{size:"xs",iconSize:"s","aria-label":d,"data-test-subj":"docTableExpandToggleColumn",onClick:()=>r(c?void 0:l),color:c?"primary":"text",iconType:c?"minimize":"expand",isSelected:c}))};function N(e,t,o,n){const r=e.rows[t],i=Object(s.flattenHit)(r,e.indexPattern),a=e.indexPattern.fields.getByName(o);i&&a&&e.onFilter(a,i[o],n)}const R=({Component:e,rowIndex:t,columnId:o})=>{const r=Object(n.useContext)(O),i=f.i18n.translate("discover.grid.filterForAria",{defaultMessage:"Filter for this {value}",values:{value:o}});return Object(x.jsx)(e,{onClick:()=>{N(r,t,o,"+")},iconType:"plusInCircle","aria-label":i,title:i,"data-test-subj":"filterForButton"},f.i18n.translate("discover.grid.filterFor",{defaultMessage:"Filter for"}))},I=({Component:e,rowIndex:t,columnId:o})=>{const r=Object(n.useContext)(O),i=f.i18n.translate("discover.grid.filterOutAria",{defaultMessage:"Filter out this {value}",values:{value:o}});return Object(x.jsx)(e,{onClick:()=>{N(r,t,o,"-")},iconType:"minusInCircle","aria-label":i,title:i,"data-test-subj":"filterOutButton"},f.i18n.translate("discover.grid.filterOut",{defaultMessage:"Filter out"}))};function H(e){if(e.filterable)return[R,I]}var B=o(43),L=o.n(B);const A=e=>{const t=e._routing?e._routing:"";return[e._index,e._id,t].join("::")},G=({rowIndex:e,setCellProps:t})=>{const{selectedDocs:o,expanded:r,rows:i,isDarkMode:s,setSelectedDocs:l}=Object(n.useContext)(O),c=Object(n.useMemo)((()=>i[e]),[i,e]),d=Object(n.useMemo)((()=>A(c)),[c]),u=Object(n.useMemo)((()=>o.includes(d)),[o,d]);return Object(n.useEffect)((()=>{r&&c&&r._id===c._id?t({style:{backgroundColor:s?y.euiDarkVars.euiColorHighlight:y.euiLightVars.euiColorHighlight}}):t({style:void 0})}),[r,c,t,s]),Object(x.jsx)(a.EuiCheckbox,{id:d,label:"",checked:u,"data-test-subj":`dscGridSelectDoc-${d}`,onChange:()=>{if(u){const e=o.filter((e=>e!==d));l(e)}else l([...o,d])}})};function P({isFilterActive:e,rows:t,selectedDocs:o,setIsFilterActive:r,setSelectedDocs:s}){const[l,c]=Object(n.useState)(!1),d=Object(n.useCallback)((()=>[e?Object(x.jsx)(a.EuiContextMenuItem,{"data-test-subj":"dscGridShowAllDocuments",key:"showAllDocuments",icon:"eye",onClick:()=>{c(!1),r(!1)}},Object(x.jsx)(i.FormattedMessage,{id:"discover.showAllDocuments",defaultMessage:"Show all documents"})):Object(x.jsx)(a.EuiContextMenuItem,{"data-test-subj":"dscGridShowSelectedDocuments",key:"showSelectedDocuments",icon:"eye",onClick:()=>{c(!1),r(!0)}},Object(x.jsx)(i.FormattedMessage,{id:"discover.showSelectedDocumentsOnly",defaultMessage:"Show selected documents only"})),Object(x.jsx)(a.EuiCopy,{key:"copyJsonWrapper","data-test-subj":"dscGridCopySelectedDocumentsJSON",textToCopy:t?JSON.stringify(t.filter((e=>o.includes(A(e))))):""},(e=>Object(x.jsx)(a.EuiContextMenuItem,{key:"copyJSON",icon:"copyClipboard",onClick:e},Object(x.jsx)(i.FormattedMessage,{id:"discover.copyToClipboardJSON",defaultMessage:"Copy documents to clipboard (JSON)"})))),Object(x.jsx)(a.EuiContextMenuItem,{"data-test-subj":"dscGridClearSelectedDocuments",key:"clearSelection",icon:"cross",onClick:()=>{c(!1),s([]),r(!1)}},Object(x.jsx)(i.FormattedMessage,{id:"discover.clearSelection",defaultMessage:"Clear selection"}))]),[e,t,o,r,c,s]),u=Object(n.useCallback)((()=>c((e=>!e))),[]);return Object(x.jsx)(a.EuiPopover,{closePopover:()=>c(!1),isOpen:l,panelPaddingSize:"none",button:Object(x.jsx)(a.EuiButtonEmpty,{size:"xs",color:"text",iconType:"documents",onClick:u,"data-selected-documents":o.length,"data-test-subj":"dscGridSelectionBtn",isSelected:e,className:L()({euiDataGrid__controlBtn:!0,"euiDataGrid__controlBtn--active":e})},Object(x.jsx)(i.FormattedMessage,{id:"discover.selectedDocumentsNumber",defaultMessage:"{nr} documents selected",values:{nr:o.length}}))},l&&Object(x.jsx)(a.EuiContextMenuPanel,{items:d()}))}function z(e){return{size:"xs",label:Object(x.jsx)(i.FormattedMessage,{id:"discover.grid.copyToClipBoardButton",defaultMessage:"Copy to clipboard"}),iconType:"copyClipboard",iconProps:{size:"m"},onClick:()=>Object(a.copyToClipboard)(e)}}function V(e,t=0,o,r,i){const s=o.getFieldByName(e),l={id:e,schema:b(null==s?void 0:s.type),isSortable:i&&!0===(null==s?void 0:s.sortable),display:"_source"===e?f.i18n.translate("discover.grid.documentHeader",{defaultMessage:"Document"}):null==s?void 0:s.displayName,actions:{showHide:!r&&e!==o.timeFieldName&&{label:f.i18n.translate("discover.removeColumnLabel",{defaultMessage:"Remove column"}),iconType:"cross"},showMoveLeft:!r,showMoveRight:!r,additional:"_source"===e?void 0:[z(e)]},cellActions:s?H(s):[]};if(l.id===o.timeFieldName){var c;const e=f.i18n.translate("discover.docTable.tableHeader.timeFieldIconTooltipAriaLabel",{defaultMessage:"Primary time field."}),t=f.i18n.translate("discover.docTable.tableHeader.timeFieldIconTooltip",{defaultMessage:"This field represents the time that events occurred."});l.display=Object(x.jsx)(n.Fragment,null,null!==(c=null==s?void 0:s.customLabel)&&void 0!==c?c:o.timeFieldName," ",Object(x.jsx)(a.EuiIconTip,{iconProps:{tabIndex:-1},type:"clock","aria-label":e,content:t})),l.initialWidth=190}return t>0&&(l.initialWidth=Number(t)),l}function $(e,t,o){const n=t.timeFieldName;return o&&!e.find((e=>e===n))?[n,...e]:e}const U=["_source"];var W=o(75);const J=e=>"number"==typeof e&&!Number.isNaN(e)&&Math.floor(e)===e&&e>=-1&&e<=20,Y="discover:dataGridRowHeight",q=r.a.memo((e=>Object(x.jsx)(a.EuiDataGrid,e))),K=["openDetails","select"],X=({ariaLabelledBy:e,columns:t,indexPattern:o,isLoading:r,expandedDoc:b,onAddColumn:p,onFilter:m,onRemoveColumn:g,onResize:h,onSetColumns:v,onSort:w,rows:D,sampleSize:T,searchDescription:N,searchTitle:R,setExpandedDoc:I,settings:H,showTimeCol:B,sort:L,useNewFieldsApi:z,isSortEnabled:X=!0,isPaginationEnabled:Q=!0,controlColumnIds:Z=K,className:ee,rowHeightState:te,onUpdateRowHeight:oe})=>{const ne=Object(j.a)(),[re,ie]=Object(n.useState)([]),[ae,se]=Object(n.useState)(!1),le=function(e=[],t){return e&&e.length>0&&(1!==e.length||e[0]!==t.timeFieldName)?e:U}(t,o),ce=le.includes("_source"),de=Object(n.useMemo)((()=>{if(!re.length||null==D||!D.length)return[];const e=D.reduce(((e,t)=>e.set(A(t),!0)),new Map),t=re.filter((t=>e.get(t)));return 0===t.length&&ae&&se(!1),t}),[re,D,ae]),ue=Object(n.useMemo)((()=>{if(!D)return[];if(!ae||0===de.length)return D;const e=D.filter((e=>de.includes(A(e))));return e.length?e:D}),[D,de,ae]),[be,pe]=Object(n.useState)({pageIndex:0,pageSize:100}),me=Object(n.useMemo)((()=>ue?ue.length:0),[ue]),fe=Object(n.useMemo)((()=>Math.ceil(me/be.pageSize)),[me,be]),ge=be.pageIndex===fe-1,he=Object(n.useMemo)((()=>Q?{onChangeItemsPerPage:e=>pe((t=>({...t,pageSize:e}))),onChangePage:e=>pe((t=>({...t,pageIndex:e}))),pageIndex:be.pageIndex>fe-1?0:be.pageIndex,pageSize:be.pageSize,pageSizeOptions:d}:void 0),[be,fe,Q]),je=Object(n.useMemo)((()=>L.map((([e,t])=>({id:e,direction:t})))),[L]),xe=Object(n.useCallback)((e=>{X&&w&&w(e.map((({id:e,direction:t})=>[e,t])))}),[w,X]),ve=ne.uiSettings.get(S.SHOW_MULTIFIELDS),_e=Object(n.useMemo)((()=>{const e=o.fields.getAll().map((e=>e.name));return Object(W.a)(e,o,ve)}),[o,ve]),we=Object(n.useMemo)((()=>((e,t,o,r,i,s)=>({rowIndex:l,columnId:c,isDetails:d,setCellProps:u})=>{const{uiSettings:b,fieldFormats:p}=Object(j.a)(),m=Object(n.useMemo)((()=>b.get(S.MAX_DOC_FIELDS_DISPLAYED)),[b]),f=t?t[l]:void 0,g=o?o[l]:void 0,h=e.fields.getByName(c),v=Object(n.useContext)(O);if(Object(n.useEffect)((()=>{f.isAnchor?u({className:"dscDocsGrid__cell--highlight"}):v.expanded&&f&&v.expanded._id===f._id?u({style:{backgroundColor:v.isDarkMode?y.euiDarkVars.euiColorHighlight:y.euiLightVars.euiColorHighlight}}):u({style:void 0})}),[v,f,u]),void 0===f||void 0===g)return Object(x.jsx)("span",null,"-");const _=Boolean(r&&!h&&(null==f?void 0:f.fields)&&!f.fields[c]);if(d)return function({rowRaw:e,rowFlattened:t,field:o,columnId:n,dataView:r,useTopLevelObjectColumns:i,fieldFormats:a}){if(i||"_source"===(null==o?void 0:o.type)){const t=i?F(e.fields,n):e;return Object(x.jsx)(k,{json:t,width:370})}return Object(x.jsx)("span",{dangerouslySetInnerHTML:{__html:Object(C.a)(t[n],e,a,r,o)}})}({rowRaw:f,rowFlattened:g,field:h,columnId:c,dataView:e,useTopLevelObjectColumns:_,fieldFormats:p});if("_source"===(null==h?void 0:h.type)||_){const t=_?function(e,t,o,n){var r;const i=F(e.fields,t),a=null!==(r=e.highlight)&&void 0!==r?r:{},s=[],l=[];return Object.entries(i).forEach((([t,r])=>{var i;const c=o.getFieldByName(t),d=o.fields.getByName?null===(i=o.fields.getByName(t))||void 0===i?void 0:i.displayName:void 0,u=c?o.getFormatterForField(c):{convert:(e,...t)=>String(e)},b=r.map((t=>u.convert(t,"html",{field:c,hit:e,indexPattern:o}))).join(", "),p=a[t]?s:l;d?n.includes(d)&&p.push([d,b]):p.push([t,b])})),[...s,...l]}(f,c,e,i).slice(0,s):Object(E.a)(f,e,i,m,p);return Object(x.jsx)(a.EuiDescriptionList,{type:"inline",compressed:!0,className:"dscDiscoverGrid__descriptionList"},t.map((([e,t])=>Object(x.jsx)(n.Fragment,{key:e},Object(x.jsx)(a.EuiDescriptionListTitle,null,e),Object(x.jsx)(a.EuiDescriptionListDescription,{className:"dscDiscoverGrid__descriptionListDescription",dangerouslySetInnerHTML:{__html:t}})))))}return Object(x.jsx)("span",{dangerouslySetInnerHTML:{__html:Object(C.a)(g[c],f,p,e,h)}})})(o,ue,ue?ue.map((e=>Object(s.flattenHit)(e,o,{includeIgnoredValues:!0}))):[],z,_e,ne.uiSettings.get(S.MAX_DOC_FIELDS_DISPLAYED))),[o,ue,z,_e,ne.uiSettings]),Oe=me===T&&ge,ye=Object(n.useMemo)((()=>Object(a.htmlIdGenerator)()()),[]),De=Object(n.useMemo)((()=>function(e,t,o,n,r,i){const a=o.timeFieldName,s=e=>{var o,n,r;return null!==(o=null==t||null===(n=t.columns)||void 0===n||null===(r=n[e])||void 0===r?void 0:r.width)&&void 0!==o?o:0};return n&&o.timeFieldName&&!e.find((e=>e===a))?[o.timeFieldName,...e].map((e=>V(e,s(e),o,r,i))):e.map((e=>V(e,s(e),o,r,i)))}(le,H,o,B,ce,X)),[le,o,B,H,ce,X]),Te=Object(n.useMemo)((()=>ne.uiSettings.get(S.DOC_HIDE_TIME_COLUMN_SETTING,!1)),[ne.uiSettings]),ke=Object(n.useMemo)((()=>[{type:l,detector:()=>0,sortTextAsc:"",sortTextDesc:"",icon:"",color:""}]),[]),Ce=Object(n.useMemo)((()=>({visibleColumns:$(le,o,B),setVisibleColumns:e=>{v(e,Te)}})),[le,o,B,Te,v]),Ee=Object(n.useMemo)((()=>X?{columns:je,onSort:xe}:{columns:je,onSort:()=>{}}),[je,xe,X]),Se=Object(n.useMemo)((()=>[{id:"openDetails",width:24,headerCellRender:()=>Object(x.jsx)(a.EuiScreenReaderOnly,null,Object(x.jsx)("span",null,f.i18n.translate("discover.controlColumnHeader",{defaultMessage:"Control column"}))),rowCellRender:M},{id:"select",width:24,rowCellRender:G,headerCellRender:()=>Object(x.jsx)(a.EuiScreenReaderOnly,null,Object(x.jsx)("span",null,f.i18n.translate("discover.selectColumnHeader",{defaultMessage:"Select column"})))}].filter((({id:e})=>Z.includes(e)))),[Z]),Fe=Object(n.useMemo)((()=>de.length?Object(x.jsx)(P,{isFilterActive:ae,rows:D,selectedDocs:de,setSelectedDocs:ie,setIsFilterActive:se}):null),[de,ae,D,se]),Me=Object(n.useMemo)((()=>oe?{allowDensity:!1,allowRowHeight:!0}:void 0),[oe]),Ne=Object(n.useMemo)((()=>ce?{...u,showColumnSelector:!1,showSortSelector:X,additionalControls:Fe,showDisplaySelector:Me}:{...u,showSortSelector:X,additionalControls:Fe,showDisplaySelector:Me}),[Me,ce,Fe,X]),Re=(({rowHeightState:e,onUpdateRowHeight:t})=>{const{storage:o,uiSettings:r}=Object(j.a)();return Object(n.useMemo)((()=>{const n=(e=>{const t=e.get(Y);return"object"==typeof t&&null!==t&&J(t.previousRowHeight)&&J(t.previousConfigRowHeight)?t:null})(o),i=r.get(S.ROW_HEIGHT_OPTION);let a;var s,l;return a=J(e)?e:null!==(s=n)&&i===s.previousConfigRowHeight?n.previousRowHeight:i,{defaultHeight:(l=a,-1===l?"auto":0!==l?{lineCount:l}:void 0),lineHeight:"1.6em",onChange:({defaultHeight:e})=>{const n=(e=>"auto"===e?-1:"object"==typeof e&&e.lineCount?e.lineCount:0)(e);((e,t,o)=>{o.set(Y,{previousRowHeight:e,previousConfigRowHeight:t})})(n,i,o),null==t||t(n)}}}),[e,r,o,t])})({rowHeightState:te,onUpdateRowHeight:oe});return!me&&r?Object(x.jsx)("div",{className:"euiDataGrid__loading"},Object(x.jsx)(a.EuiText,{size:"xs",color:"subdued"},Object(x.jsx)(a.EuiLoadingSpinner,null),Object(x.jsx)(a.EuiSpacer,{size:"s"}),Object(x.jsx)(i.FormattedMessage,{id:"discover.loadingResults",defaultMessage:"Loading results"}))):me?Object(x.jsx)(O.Provider,{value:{expanded:b,setExpanded:I,rows:ue,onFilter:m,indexPattern:o,isDarkMode:ne.uiSettings.get("theme:darkMode"),selectedDocs:de,setSelectedDocs:e=>{ie(e),ae&&0===e.length&&se(!1)}}},Object(x.jsx)("span",{"data-test-subj":"discoverDocTable","data-render-complete":!r,"data-shared-item":"","data-title":R,"data-description":N,"data-document-number":ue.length,className:ee},Object(x.jsx)(q,{"aria-describedby":ye,"aria-labelledby":e,columns:De,columnVisibility:Ce,"data-test-subj":"docTable",leadingControlColumns:Se,onColumnResize:h,pagination:he,renderCellValue:we,rowCount:me,schemaDetectors:ke,sorting:Ee,toolbarVisibility:Ne,rowHeightsOptions:Re,gridStyle:c}),Oe&&Object(x.jsx)("p",{className:"dscDiscoverGrid__footer"},Object(x.jsx)(i.FormattedMessage,{id:"discover.howToSeeOtherMatchingDocumentsDescriptionGrid",defaultMessage:"These are the first {sampleSize} documents matching your search, refine your search to see others.",values:{sampleSize:T}}),Object(x.jsx)("a",{href:`#${e}`},Object(x.jsx)(i.FormattedMessage,{id:"discover.backToTopLinkText",defaultMessage:"Back to top."}))),R&&Object(x.jsx)(a.EuiScreenReaderOnly,null,Object(x.jsx)("p",{id:String(ye)},N?Object(x.jsx)(i.FormattedMessage,{id:"discover.searchGenerationWithDescriptionGrid",defaultMessage:"Table generated by search {searchTitle} ({searchDescription})",values:{searchTitle:R,searchDescription:N}}):Object(x.jsx)(i.FormattedMessage,{id:"discover.searchGenerationWithDescription",defaultMessage:"Table generated by search {searchTitle}",values:{searchTitle:R}}))),b&&Object(x.jsx)(_,{indexPattern:o,hit:b,hits:ue,columns:ce?[]:le,onFilter:m,onRemoveColumn:g,onAddColumn:p,onClose:()=>I(void 0),setExpandedDoc:I}))):Object(x.jsx)("div",{className:"euiDataGrid__noResults","data-render-complete":!r,"data-shared-item":"","data-title":R,"data-description":N,"data-document-number":0},Object(x.jsx)(a.EuiText,{size:"xs",color:"subdued"},Object(x.jsx)(a.EuiIcon,{type:"discoverApp",size:"m",color:"subdued"}),Object(x.jsx)(a.EuiSpacer,{size:"s"}),Object(x.jsx)(i.FormattedMessage,{id:"discover.noResultsFound",defaultMessage:"No results found"})))}},101:function(e,t,o){"use strict";o.d(t,"a",(function(){return I}));var n=o(3),r=o(13),i=o(41),a=o(67),s=o.n(a),l=o(0),c=o(5);function d(){const e=l.i18n.translate("discover.docViews.table.scoreSortWarningTooltip",{defaultMessage:"In order to retrieve values for _score, you must sort by it."});return Object(c.jsx)(r.EuiIconTip,{content:e,color:"warning",size:"s",type:"alert"})}const u={desc:{iconType:"sortDown",color:"primary"},asc:{iconType:"sortUp",color:"primary"},"":{iconType:"sortable",color:"text"}},b={width:12,height:12};function p({colLeftIdx:e,colRightIdx:t,displayName:o,isRemoveable:n,isSortable:i,isTimeColumn:a,customLabel:p,name:m,onChangeSortOrder:f,onMoveColumn:g,onRemoveColumn:h,sortOrder:j}){const[,x=""]=j.find((e=>m===e[0]))||[],v=j.filter((e=>e[0]!==m)),_=j.find((e=>e[0]===m)),w=_&&_[1]||"",O=l.i18n.translate("discover.docTable.tableHeader.timeFieldIconTooltipAriaLabel",{defaultMessage:"Primary time field."}),y=l.i18n.translate("discover.docTable.tableHeader.timeFieldIconTooltip",{defaultMessage:"This field represents the time that events occurred."}),D="_score"===m&&!_,T=()=>{const e=l.i18n.translate("discover.docTable.tableHeader.sortByColumnAscendingAriaLabel",{defaultMessage:"Sort {columnName} ascending",values:{columnName:m}}),t=l.i18n.translate("discover.docTable.tableHeader.sortByColumnDescendingAriaLabel",{defaultMessage:"Sort {columnName} descending",values:{columnName:m}}),o=l.i18n.translate("discover.docTable.tableHeader.sortByColumnUnsortedAriaLabel",{defaultMessage:"Stop sorting on {columnName}",values:{columnName:m}});return void 0===_?e:"asc"===x?t:"desc"===x&&0===v.length?e:o},k=[{active:i&&"function"==typeof f,ariaLabel:T(),className:x?"":"kbnDocTableHeader__sortChange",iconProps:u[x],onClick:()=>{f&&(void 0===_?f([...v,[m,"asc"]]):"asc"===w?f([...v,[m,"desc"]]):"desc"===w&&0===v.length?f([[m,"asc"]]):f(v))},testSubject:`docTableHeaderFieldSort_${m}`,tooltip:T()},{active:n&&"function"==typeof h,ariaLabel:l.i18n.translate("discover.docTable.tableHeader.removeColumnButtonAriaLabel",{defaultMessage:"Remove {columnName} column",values:{columnName:m}}),className:"kbnDocTableHeader__move",iconProps:{iconType:"cross",color:"text"},onClick:()=>h&&h(m),testSubject:`docTableRemoveHeader-${m}`,tooltip:l.i18n.translate("discover.docTable.tableHeader.removeColumnButtonTooltip",{defaultMessage:"Remove Column"})},{active:e>=0&&"function"==typeof g,ariaLabel:l.i18n.translate("discover.docTable.tableHeader.moveColumnLeftButtonAriaLabel",{defaultMessage:"Move {columnName} column to the left",values:{columnName:m}}),className:"kbnDocTableHeader__move",iconProps:{iconType:"sortLeft",color:"text"},onClick:()=>g&&g(m,e),testSubject:`docTableMoveLeftHeader-${m}`,tooltip:l.i18n.translate("discover.docTable.tableHeader.moveColumnLeftButtonTooltip",{defaultMessage:"Move column to the left"})},{active:t>=0&&"function"==typeof g,ariaLabel:l.i18n.translate("discover.docTable.tableHeader.moveColumnRightButtonAriaLabel",{defaultMessage:"Move {columnName} column to the right",values:{columnName:m}}),className:"kbnDocTableHeader__move",iconProps:{iconType:"sortRight",color:"text"},onClick:()=>g&&g(m,t),testSubject:`docTableMoveRightHeader-${m}`,tooltip:l.i18n.translate("discover.docTable.tableHeader.moveColumnRightButtonTooltip",{defaultMessage:"Move column to the right"})}];return Object(c.jsx)("th",{"data-test-subj":"docTableHeaderField"},Object(c.jsx)("span",{"data-test-subj":`docTableHeader-${m}`,className:"kbnDocTableHeader__actions"},D&&Object(c.jsx)(d,null),null!=p?p:o,a&&Object(c.jsx)(r.EuiIconTip,{key:"time-icon",type:"clock","aria-label":O,content:y}),k.filter((e=>e.active)).map(((e,t)=>Object(c.jsx)(r.EuiToolTip,{id:`docTableHeader-${m}-tt`,content:e.tooltip,key:`button-${t}`},Object(c.jsx)(r.EuiButtonIcon,s()({"aria-label":e.ariaLabel,className:e.className,"data-test-subj":e.testSubject,onClick:e.onClick,iconSize:"s",style:b},e.iconProps)))))))}var m=o(72),f=o(19),g=o(7),h=o(57);function j({columns:e,indexPattern:t,onChangeSortOrder:o,onMoveColumn:r,onRemoveColumn:i,sortOrder:a}){const{uiSettings:d}=Object(f.a)(),[u,b,j]=Object(n.useMemo)((()=>[d.get(g.SORT_DEFAULT_ORDER_SETTING,"desc"),d.get(g.DOC_HIDE_TIME_COLUMN_SETTING,!1),d.get(h.FORMATS_UI_SETTINGS.SHORT_DOTS_ENABLE)]),[d]),x=function(e,t,o,n){if(!Array.isArray(e)||"object"!=typeof t||!t.getFieldByName)return[];const r=0===e.length?[{name:"__document__",displayName:l.i18n.translate("discover.docTable.tableHeader.documentHeader",{defaultMessage:"Document"}),isSortable:!1,isRemoveable:!1,colLeftIdx:-1,colRightIdx:-1}]:e.map(((o,n)=>{var r;const i=t.getFieldByName(o);return{name:o,displayName:null!==(r=null==i?void 0:i.displayName)&&void 0!==r?r:o,isSortable:!(!i||!i.sortable),isRemoveable:"_source"!==o||e.length>1,colLeftIdx:n-1<0?-1:n-1,colRightIdx:n+1>=e.length?-1:n+1}}));return!o&&t.timeFieldName?[(i=t.timeFieldName,{name:i,displayName:i,isSortable:!0,isRemoveable:!1,colLeftIdx:-1,colRightIdx:-1}),...r]:r;var i}(e,t,b);return Object(c.jsx)("tr",{"data-test-subj":"docTableHeader",className:"kbnDocTableHeader"},Object(c.jsx)("th",{style:{width:"24px"}}),x.map((e=>{var n;return Object(c.jsx)(p,s()({key:e.name},e,{customLabel:null===(n=t.getFieldByName(e.name))||void 0===n?void 0:n.customLabel,isTimeColumn:t.timeFieldName===e.name,sortOrder:a.length?a:Object(m.a)(t,u,b),onMoveColumn:r,onRemoveColumn:i,onChangeSortOrder:o}))})))}var x=o(43),v=o.n(x),_=o(71),w=o(14),O=o(109);const y=({handleFilterFor:e,handleFilterOut:t})=>Object(c.jsx)("span",{className:"kbnDocTableCell__filter"},Object(c.jsx)(r.EuiToolTip,{className:"kbnDocTableCell__filterButton",position:"bottom",content:l.i18n.translate("discover.docTable.tableRow.filterForValueButtonTooltip",{defaultMessage:"Filter for value"})},Object(c.jsx)("button",{className:"kbnDocTableRowFilterButton","data-test-subj":"docTableCellFilter","aria-label":l.i18n.translate("discover.docTable.tableRow.filterForValueButtonAriaLabel",{defaultMessage:"Filter for value"}),onClick:e},Object(c.jsx)(r.EuiIcon,{type:"plusInCircle",size:"s",color:"primary"}))),Object(c.jsx)(r.EuiToolTip,{className:"kbnDocTableCell__filterButton",position:"bottom",content:l.i18n.translate("discover.docTable.tableRow.filterOutValueButtonTooltip",{defaultMessage:"Filter out value"})},Object(c.jsx)("button",{className:"kbnDocTableRowFilterButton","data-test-subj":"docTableCellFilterNegate","aria-label":l.i18n.translate("discover.docTable.tableRow.filterOutValueButtonAriaLabel",{defaultMessage:"Filter out value"}),onClick:t},Object(c.jsx)(r.EuiIcon,{type:"minusInCircle",size:"s",color:"primary"})))),D=e=>{const t=v()({"eui-textNoWrap kbnDocTableCell--extraWidth":e.timefield,"eui-textBreakAll eui-textBreakWord":e.sourcefield,"kbnDocTableCell__dataField eui-textBreakAll eui-textBreakWord":!e.timefield&&!e.sourcefield});return Object(c.jsx)("td",{className:t,"data-test-subj":"docTableField"},e.formatted,e.filterable?Object(c.jsx)(y,{handleFilterOut:()=>e.inlineFilter(e.column,"-"),handleFilterFor:()=>e.inlineFilter(e.column,"+")}):Object(c.jsx)("span",{className:"kbnDocTableCell__filter"}))};var T=o(108);o(164);const k=({defPairs:e})=>Object(c.jsx)("dl",{className:"source dscTruncateByHeight"},e.map(((e,t)=>Object(c.jsx)(n.Fragment,{key:t},Object(c.jsx)("dt",null,e[0],!!e[1]&&":"),Object(c.jsx)("dd",{className:"rowFormatter__value",dangerouslySetInnerHTML:{__html:e[1]}})," ")))),C=(e,t,o,n,r)=>{const i=Object(T.a)(e,t,o,n,r);return Object(c.jsx)(k,{defPairs:i})},E=(e,t,o,n)=>{var r;const i=null!==(r=e.highlight)&&void 0!==r?r:{},a=[],s=[];return Object.entries(t).sort((([e],[t])=>e.localeCompare(t))).forEach((([n,r])=>{var l;const c=o.getFieldByName(n),d=t.getByName?null===(l=t.getByName(n))||void 0===l?void 0:l.displayName:void 0,u=c?o.getFormatterForField(c):{convert:(e,...t)=>String(e)};if(!r.map)return;const b=r.map((t=>u.convert(t,"html",{field:c,hit:e,indexPattern:o}))).join(", ");(i[n]?a:s).push([d||n,b])})),Object(c.jsx)(k,{defPairs:[...a,...s].slice(0,n)})};var S=o(82);const F=({open:e,colLength:t,isTimeBased:o,singleDocProps:n,surrDocsProps:a,children:l})=>e?Object(c.jsx)("td",{colSpan:(t||1)+2},Object(c.jsx)(r.EuiFlexGroup,{gutterSize:"l",justifyContent:"spaceBetween",responsive:!1},Object(c.jsx)(r.EuiFlexItem,{grow:!1},Object(c.jsx)(r.EuiFlexGroup,{gutterSize:"s",alignItems:"center",responsive:!1},Object(c.jsx)(r.EuiFlexItem,{grow:!1},Object(c.jsx)(r.EuiIcon,{type:"folderOpen",size:"m"})),Object(c.jsx)(r.EuiFlexItem,{grow:!1},Object(c.jsx)(r.EuiTitle,{size:"xxs","data-test-subj":"docTableRowDetailsTitle"},Object(c.jsx)("h4",null,Object(c.jsx)(i.FormattedMessage,{id:"discover.docTable.tableRow.detailHeading",defaultMessage:"Expanded document"})))))),Object(c.jsx)(r.EuiFlexItem,{grow:!1},Object(c.jsx)(r.EuiFlexGroup,{gutterSize:"l",alignItems:"center",responsive:!1},Object(c.jsx)(r.EuiFlexItem,{grow:!1},o&&Object(c.jsx)(r.EuiLink,s()({"data-test-subj":"docTableRowAction"},a),Object(c.jsx)(i.FormattedMessage,{id:"discover.docTable.tableRow.viewSurroundingDocumentsLinkText",defaultMessage:"View surrounding documents"}))),Object(c.jsx)(r.EuiFlexItem,{grow:!1},Object(c.jsx)(r.EuiLink,s()({"data-test-subj":"docTableRowAction"},n),Object(c.jsx)(i.FormattedMessage,{id:"discover.docTable.tableRow.viewSingleDocumentLinkText",defaultMessage:"View single document"})))))),Object(c.jsx)("div",{"data-test-subj":"docViewer"},l)):null,M=({columns:e,filter:t,row:o,indexPattern:i,useNewFieldsApi:a,fieldsToShow:s,onAddColumn:d,onRemoveColumn:u})=>{const{uiSettings:b,filterManager:p,fieldFormats:m,addBasePath:h}=Object(f.a)(),[j,x]=Object(n.useMemo)((()=>[b.get(g.MAX_DOC_FIELDS_DISPLAYED),b.get(g.DOC_HIDE_TIME_COLUMN_SETTING,!1)]),[b]),[y,T]=Object(n.useState)(!1),k=v()("kbnDocTable__row",{"kbnDocTable__row--highlight":o.isAnchor}),M=o.isAnchor?" docTableAnchorRow":"",N=Object(n.useMemo)((()=>Object(w.flattenHit)(o,i,{includeIgnoredValues:!0})),[i,o]),R=Object(n.useMemo)((()=>i.fields.getByName),[i]),I=e=>{if("_source"===e)return C(o,i,s,j,m);const t=Object(_.a)(N[e],o,m,i,R(e));return Object(c.jsx)("div",{className:"dscTruncateByHeight",dangerouslySetInnerHTML:{__html:t}})},H=Object(n.useCallback)(((e,o)=>{const n=i.fields.getByName(e);t(n,N[e],o)}),[t,N,i.fields]),{singleDocProps:B,surrDocsProps:L}=Object(S.b)({indexPatternId:i.id,rowIndex:o._index,rowId:o._id,filterManager:p,addBasePath:h,columns:e}),A=[Object(c.jsx)("td",{className:"kbnDocTableCell__toggleDetails",key:"toggleDetailsCell"},Object(c.jsx)(r.EuiButtonEmpty,{onClick:()=>T((e=>!e)),size:"xs","aria-expanded":y,"aria-label":l.i18n.translate("discover.docTable.tableRow.toggleRowDetailsButtonAriaLabel",{defaultMessage:"Toggle row details"}),"data-test-subj":"docTableExpandToggleColumn"},y?Object(c.jsx)(r.EuiIcon,{type:"arrowDown",color:"text",size:"s"}):Object(c.jsx)(r.EuiIcon,{type:"arrowRight",color:"text",size:"s"})))];var G;if(i.timeFieldName&&!x&&A.push(Object(c.jsx)(D,{key:i.timeFieldName,timefield:!0,formatted:I(i.timeFieldName),filterable:Boolean((null===(G=R(i.timeFieldName))||void 0===G?void 0:G.filterable)&&t),column:i.timeFieldName,inlineFilter:H})),0===e.length&&a){const e=C(o,i,s,j,m);A.push(Object(c.jsx)(D,{key:"__document__",timefield:!1,sourcefield:!0,formatted:e,filterable:!1,column:"__document__",inlineFilter:H}))}else e.forEach((function(e){if(a&&!R(e)&&o.fields&&!o.fields[e]){const t=Object.fromEntries(Object.entries(o.fields).filter((([t])=>0===t.indexOf(`${e}.`))));A.push(Object(c.jsx)(D,{key:e,timefield:!1,sourcefield:!0,formatted:E(o,t,i,j),filterable:!1,column:e,inlineFilter:H}))}else{var n,r;const i=Boolean((null===(n=R(e))||void 0===n?void 0:n.filterable)&&t&&!(null!==(r=o._ignored)&&void 0!==r&&r.includes(e)));A.push(Object(c.jsx)(D,{key:e,timefield:!1,sourcefield:"_source"===e,formatted:I(e),filterable:i,column:e,inlineFilter:H}))}}));return Object(c.jsx)(n.Fragment,null,Object(c.jsx)("tr",{"data-test-subj":`docTableRow${M}`,className:k},A),Object(c.jsx)("tr",{"data-test-subj":"docTableDetailsRow",className:"kbnDocTableDetails__row"},Object(c.jsx)(F,{open:y,colLength:(e.length||1)+2,isTimeBased:i.isTimeBased(),singleDocProps:B,surrDocsProps:L},Object(c.jsx)(O.a,{columns:e,filter:t,hit:o,indexPattern:i,onAddColumn:d,onRemoveColumn:u}))))};var N=o(75);const R=e=>new Promise((t=>setTimeout(t,e))),I=Object(n.forwardRef)((({render:e,columns:t,rows:o,indexPattern:a,onSort:s,onAddColumn:l,onMoveColumn:d,onRemoveColumn:u,sort:b,onFilter:p,useNewFieldsApi:m,searchDescription:h,sharedItemTitle:x,dataTestSubj:v,isLoading:_},w)=>{const{uiSettings:O}=Object(f.a)(),y=Object(n.useMemo)((()=>O.get(g.SHOW_MULTIFIELDS,!1)),[O]),D=Object(n.useCallback)((async()=>{const e=document.getElementById("discoverBottomMarker");for(;o.length!==document.getElementsByClassName("kbnDocTable__row").length;)await R(50);e.focus(),await R(50),e.blur()}),[o]),T=Object(n.useMemo)((()=>Object(N.a)(a.fields.map((e=>e.name)),a,y)),[a,y]),k=Object(n.useCallback)((()=>Object(c.jsx)(j,{columns:t,indexPattern:a,onChangeSortOrder:s,onMoveColumn:d,onRemoveColumn:u,sortOrder:b})),[t,a,d,u,s,b]),C=Object(n.useCallback)((e=>e.map((e=>Object(c.jsx)(M,{key:`${e._index}${e._id}${e._score}${e._version}${e._routing}`,columns:t,filter:p,indexPattern:a,row:e,useNewFieldsApi:m,fieldsToShow:T,onAddColumn:l,onRemoveColumn:u})))),[t,p,a,m,T,l,u]);return Object(c.jsx)("div",{className:"kbnDocTableWrapper eui-yScroll eui-xScroll","data-shared-item":!0,"data-title":x,"data-description":h,"data-test-subj":v,"data-render-complete":!_,ref:w},0!==o.length&&e({columnLength:t.length,rows:o,onSkipBottomButtonClick:D,renderHeader:k,renderRows:C}),!o.length&&Object(c.jsx)("div",{className:"kbnDocTable__error"},Object(c.jsx)(r.EuiText,{size:"xs",color:"subdued"},Object(c.jsx)(r.EuiIcon,{type:"visualizeApp",size:"m",color:"subdued"}),Object(c.jsx)(r.EuiSpacer,{size:"m"}),Object(c.jsx)(i.FormattedMessage,{id:"discover.docTable.noResultsTitle",defaultMessage:"No results found"}))))}))},103:function(e,t,o){"use strict";o.d(t,"a",(function(){return m}));var n=o(3),r=o.n(n),i=o(13),a=o(6),s=o(1),l=o.n(s),c=o(9),d=o(5);function u({render:e,renderProps:t}){const o=Object(n.useRef)(null);return Object(n.useEffect)((()=>{if(o&&o.current)return e(o.current,t)}),[e,t]),Object(d.jsx)("div",{ref:o})}const b=({error:e})=>{throw e},p=({error:e})=>Object(d.jsx)(i.EuiErrorBoundary,{"data-test-subj":"docViewerError"},Object(d.jsx)(b,{error:e}));class doc_viewer_tab_DocViewerTab extends r.a.Component{constructor(...e){super(...e),l()(this,"state",{hasError:!1,error:""})}static getDerivedStateFromError(e){return{hasError:!0,error:e}}shouldComponentUpdate(e,t){return e.renderProps.hit._id!==this.props.renderProps.hit._id||!Object(c.isEqual)(e.renderProps.hit.highlight,this.props.renderProps.hit.highlight)||e.id!==this.props.id||!Object(c.isEqual)(e.renderProps.columns,this.props.renderProps.columns)||t.hasError}render(){const{component:e,render:t,renderProps:o,title:n}=this.props,{hasError:r,error:i}=this.state;return r&&i?Object(d.jsx)(p,{error:i}):t?Object(d.jsx)(u,{render:t,renderProps:o}):e?Object(d.jsx)(e,o):Object(d.jsx)(p,{error:`Invalid plugin ${n}, there is neither a (react) component nor a render function provided`})}}function m(e){const t=Object(a.a)().getDocViewsSorted(e.hit).map((({title:t,render:o,component:n},r)=>({id:`kbn_doc_viewer_tab_${r}`,name:t,content:Object(d.jsx)(doc_viewer_tab_DocViewerTab,{id:r,title:t,component:n,renderProps:e,render:o})})));return t.length?Object(d.jsx)("div",{className:"kbnDocViewer","data-test-subj":"kbnDocViewer"},Object(d.jsx)(i.EuiTabbedContent,{size:"s",tabs:t})):null}},107:function(e,t,o){"use strict";o.d(t,"a",(function(){return a})),o.d(t,"d",(function(){return s})),o.d(t,"c",(function(){return l})),o.d(t,"b",(function(){return c}));var n=o(7),r=o(98);function i(e,t=!1){return e.length>1&&-1!==e.indexOf("_source")?e.filter((e=>"_source"!==e)):0!==e.length?e:t?[]:["_source"]}function a(e,t,o){return e.includes(t)?e:i([...e,t],o)}function s(e,t,o){return e.includes(t)?i(e.filter((e=>e!==t)),o):e}function l(e,t,o){if(o<0||o>=e.length||!e.includes(t))return e;const n=[...e];return n.splice(n.indexOf(t),1),n.splice(o,0,t),n}function c({capabilities:e,config:t,indexPattern:o,indexPatterns:i,useNewFieldsApi:c,setAppState:d,state:u}){return{onAddColumn:function(s){var l;Object(r.a)(o,s,i,e);const b=a(u.columns||[],s,c),p=t.get(n.SORT_DEFAULT_ORDER_SETTING),m="_score"!==s||null!==(l=u.sort)&&void 0!==l&&l.length?u.sort:[["_score",p]];d({columns:b,sort:m})},onRemoveColumn:function(t){Object(r.a)(o,t,i,e);const n=s(u.columns||[],t,c),a=u.sort&&u.sort.length?u.sort.filter((e=>e[0]!==t)):[];d({columns:n,sort:a})},onMoveColumn:function(e,t){const o=l(u.columns||[],e,t);d({columns:o})},onSetColumns:function(e,t){const n=!t&&o.timeFieldName&&o.timeFieldName===e[0]?e.slice(1):e;d({columns:n})}}}},108:function(e,t,o){"use strict";o.d(t,"a",(function(){return s}));var n=o(0),r=o(14),i=o(71);const a=new WeakMap;function s(e,t,o,s,l){var c;const d=a.get(e);if(d)return d;const u=null!==(c=e.highlight)&&void 0!==c?c:{},b=Object(r.flattenHit)(e,t,{includeIgnoredValues:!0,source:!0}),p=[],m=[];Object.entries(b).forEach((([n,r])=>{var a;const s=null===(a=t.fields.getByName(n))||void 0===a?void 0:a.displayName,c=u[n]?p:m,d=Object(i.a)(r,e,l,t,t.fields.getByName(n));s?o.includes(n)&&c.push([s,d]):c.push([n,d])}));const f=[...p,...m],g=f.length<=s?f:[...f.slice(0,s),[n.i18n.translate("discover.utils.formatHit.moreFields",{defaultMessage:"and {count} more {count, plural, one {field} other {fields}}",values:{count:f.length-s}}),""]];return a.set(e,g),g}},109:function(e,t,o){"use strict";var n=o(103);o.d(t,"a",(function(){return n.a}))},112:function(e,t,o){"use strict";o.d(t,"b",(function(){return n})),o.d(t,"c",(function(){return r})),o.d(t,"a",(function(){return i}));const n="field_statistics_loaded",r="field_statistics_view_click",i="documents_view_click"},115:function(e,t,o){"use strict";o.d(t,"a",(function(){return c}));var n=o(3),r=o(49),i=o(19),a=o(8),s=o(112),l=o(5);const c=e=>{const{availableFields$:t,indexPattern:o,savedSearch:c,query:d,columns:u,filters:b,stateContainer:p,onAddFilter:m,trackUiMetric:f,savedSearchRefetch$:g,searchSessionId:h}=e,j=Object(i.a)(),[x,v]=Object(n.useState)(),_=Object(n.useRef)(null),w=Object(n.useMemo)((()=>!p||!p.appStateContainer.getState().hideAggregatedPreview),[p]);return Object(n.useEffect)((()=>{const e=null==x?void 0:x.getOutput$().subscribe((e=>{void 0!==e.showDistributions&&p&&p.setAppState({hideAggregatedPreview:!e.showDistributions})})),o=null==g?void 0:g.subscribe((()=>{x&&!Object(a.isErrorEmbeddable)(x)&&x.updateInput({lastReloadRequestTime:Date.now()})})),n=null==t?void 0:t.subscribe((()=>{!x||Object(a.isErrorEmbeddable)(x)||null!=t&&t.getValue().error||x.updateInput({fieldsToFetch:null==t?void 0:t.getValue().fields})}));return()=>{null==e||e.unsubscribe(),null==o||o.unsubscribe(),null==n||n.unsubscribe()}}),[x,p,g,t]),Object(n.useEffect)((()=>{x&&!Object(a.isErrorEmbeddable)(x)&&(x.updateInput({dataView:o,savedSearch:c,query:d,filters:b,visibleFieldNames:u,onAddFilter:m,sessionId:h,fieldsToFetch:null==t?void 0:t.getValue().fields}),x.reload())}),[x,o,c,d,u,b,m,h,t]),Object(n.useEffect)((()=>{w&&x&&!Object(a.isErrorEmbeddable)(x)&&(x.updateInput({showPreviewByDefault:w}),x.reload())}),[w,x]),Object(n.useEffect)((()=>{let e=!1;return(async()=>{if(j.embeddable){const t=j.embeddable.getEmbeddableFactory("data_visualizer_grid");if(t){const n=await t.create({id:"discover_data_visualizer_grid",dataView:o,savedSearch:c,query:d,showPreviewByDefault:w,onAddFilter:m});e||v(n)}}})(),()=>{e=!0}}),[j.embeddable,w]),Object(n.useEffect)((()=>(_.current&&x&&(x.render(_.current),null==f||f(r.METRIC_TYPE.LOADED,s.b)),()=>{null==x||x.destroy()})),[x,_,f]),Object(l.jsx)("div",{"data-test-subj":"dscFieldStatsEmbeddedContent",ref:_,style:{height:"100%",overflowY:"auto",overflowX:"hidden"},className:"kbnDocTableWrapper"})}},146:function(e,t,o){switch(window.__kbnThemeTag__){case"v8dark":return o(147);case"v8light":return o(149)}},147:function(e,t,o){var n=o(65),r=o(148);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},148:function(e,t,o){(t=o(66)(!1)).push([e.i,".dscDiscoverGrid{width:100%;max-width:100%;height:100%;overflow:hidden}.dscDiscoverGrid .euiDataGrid__controls{border:none;border-bottom:1px solid #343741}.dscDiscoverGrid .euiDataGridRowCell.euiDataGridRowCell--firstColumn{border-left:none;padding:0}.dscDiscoverGrid .euiDataGridRowCell.euiDataGridRowCell--lastColumn{border-right:none}.dscDiscoverGrid .euiDataGridRowCell:first-of-type,.dscDiscoverGrid .euiDataGrid--headerShade.euiDataGrid--bordersAll .euiDataGridHeaderCell:first-of-type{border-left:none;border-right:none}.dscDiscoverGrid .euiDataGridRowCell:last-of-type,.dscDiscoverGrid .euiDataGridHeaderCell:last-of-type{border-right:none}.dscDiscoverGrid__footer{background-color:#343741;padding:8px 16px;margin-top:4px;text-align:center}.dscTable__flyoutHeader{white-space:nowrap}.dscTable__flyoutDocumentNavigation{justify-content:flex-end}.euiDataGridHeader{display:flex}.euiDataGridHeader .euiDataGridHeaderCell__content{max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important;overflow:hidden;white-space:nowrap;flex-grow:1}.euiDataGridHeader .euiDataGridHeaderCell__popover{flex-grow:0;flex-basis:auto;width:auto;padding-left:4px}.euiDataGridRowCell--numeric{text-align:right}.euiDataGrid__loading,.euiDataGrid__noResults{display:flex;flex-direction:column;justify-content:center;flex:1 0 100%;text-align:center;height:100%;width:100%}.dscFormatSource{max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important}.dscDiscoverGrid__descriptionListDescription{word-break:normal !important}.dscDiscoverGrid__descriptionListDescription img{vertical-align:middle;max-height:1.14286rem !important;max-width:500px !important}@media only screen and (max-width: 574px){.dscTable__flyoutDocumentNavigation .euiPagination__compressedText{display:none}}@media only screen and (min-width: 575px) and (max-width: 767px){.dscTable__flyoutDocumentNavigation .euiPagination__compressedText{display:none}}@media only screen and (min-width: 768px) and (max-width: 991px){.dscTable__flyoutDocumentNavigation .euiPagination__compressedText{display:none}}\n",""]),e.exports=t},149:function(e,t,o){var n=o(65),r=o(150);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},150:function(e,t,o){(t=o(66)(!1)).push([e.i,".dscDiscoverGrid{width:100%;max-width:100%;height:100%;overflow:hidden}.dscDiscoverGrid .euiDataGrid__controls{border:none;border-bottom:1px solid #D3DAE6}.dscDiscoverGrid .euiDataGridRowCell.euiDataGridRowCell--firstColumn{border-left:none;padding:0}.dscDiscoverGrid .euiDataGridRowCell.euiDataGridRowCell--lastColumn{border-right:none}.dscDiscoverGrid .euiDataGridRowCell:first-of-type,.dscDiscoverGrid .euiDataGrid--headerShade.euiDataGrid--bordersAll .euiDataGridHeaderCell:first-of-type{border-left:none;border-right:none}.dscDiscoverGrid .euiDataGridRowCell:last-of-type,.dscDiscoverGrid .euiDataGridHeaderCell:last-of-type{border-right:none}.dscDiscoverGrid__footer{background-color:#D3DAE6;padding:8px 16px;margin-top:4px;text-align:center}.dscTable__flyoutHeader{white-space:nowrap}.dscTable__flyoutDocumentNavigation{justify-content:flex-end}.euiDataGridHeader{display:flex}.euiDataGridHeader .euiDataGridHeaderCell__content{max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important;overflow:hidden;white-space:nowrap;flex-grow:1}.euiDataGridHeader .euiDataGridHeaderCell__popover{flex-grow:0;flex-basis:auto;width:auto;padding-left:4px}.euiDataGridRowCell--numeric{text-align:right}.euiDataGrid__loading,.euiDataGrid__noResults{display:flex;flex-direction:column;justify-content:center;flex:1 0 100%;text-align:center;height:100%;width:100%}.dscFormatSource{max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important}.dscDiscoverGrid__descriptionListDescription{word-break:normal !important}.dscDiscoverGrid__descriptionListDescription img{vertical-align:middle;max-height:1.14286rem !important;max-width:500px !important}@media only screen and (max-width: 574px){.dscTable__flyoutDocumentNavigation .euiPagination__compressedText{display:none}}@media only screen and (min-width: 575px) and (max-width: 767px){.dscTable__flyoutDocumentNavigation .euiPagination__compressedText{display:none}}@media only screen and (min-width: 768px) and (max-width: 991px){.dscTable__flyoutDocumentNavigation .euiPagination__compressedText{display:none}}\n",""]),e.exports=t},151:function(e,t,o){"use strict";const n=o(152),r=o(153),i=o(154);function a(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function s(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}function l(e,t){return t.decode?r(e):e}function c(e){return Array.isArray(e)?e.sort():"object"==typeof e?c(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function d(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function u(e){const t=(e=d(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function b(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function p(e,t){a((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const o=function(e){let t;switch(e.arrayFormat){case"index":return(e,o,n)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=o):n[e]=o};case"bracket":return(e,o,n)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],o):n[e]=[o]:n[e]=o};case"comma":case"separator":return(t,o,n)=>{const r="string"==typeof o&&o.split("").indexOf(e.arrayFormatSeparator)>-1?o.split(e.arrayFormatSeparator).map((t=>l(t,e))):null===o?o:l(o,e);n[t]=r};default:return(e,t,o)=>{void 0!==o[e]?o[e]=[].concat(o[e],t):o[e]=t}}}(t),n=Object.create(null);if("string"!=typeof e)return n;if(!(e=e.trim().replace(/^[?#&]/,"")))return n;for(const r of e.split("&")){let[e,a]=i(t.decode?r.replace(/\+/g," "):r,"=");a=void 0===a?null:["comma","separator"].includes(t.arrayFormat)?a:l(a,t),o(l(e,t),a,n)}for(const e of Object.keys(n)){const o=n[e];if("object"==typeof o&&null!==o)for(const e of Object.keys(o))o[e]=b(o[e],t);else n[e]=b(o,t)}return!1===t.sort?n:(!0===t.sort?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce(((e,t)=>{const o=n[t];return Boolean(o)&&"object"==typeof o&&!Array.isArray(o)?e[t]=c(o):e[t]=o,e}),Object.create(null))}t.extract=u,t.parse=p,t.stringify=(e,t)=>{if(!e)return"";a((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const o=o=>t.skipNull&&null==e[o]||t.skipEmptyString&&""===e[o],n=function(e){switch(e.arrayFormat){case"index":return t=>(o,n)=>{const r=o.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?o:null===n?[...o,[s(t,e),"[",r,"]"].join("")]:[...o,[s(t,e),"[",s(r,e),"]=",s(n,e)].join("")]};case"bracket":return t=>(o,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?o:null===n?[...o,[s(t,e),"[]"].join("")]:[...o,[s(t,e),"[]=",s(n,e)].join("")];case"comma":case"separator":return t=>(o,n)=>null==n||0===n.length?o:0===o.length?[[s(t,e),"=",s(n,e)].join("")]:[[o,s(n,e)].join(e.arrayFormatSeparator)];default:return t=>(o,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?o:null===n?[...o,s(t,e)]:[...o,[s(t,e),"=",s(n,e)].join("")]}}(t),r={};for(const t of Object.keys(e))o(t)||(r[t]=e[t]);const i=Object.keys(r);return!1!==t.sort&&i.sort(t.sort),i.map((o=>{const r=e[o];return void 0===r?"":null===r?s(o,t):Array.isArray(r)?r.reduce(n(o),[]).join("&"):s(o,t)+"="+s(r,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[o,n]=i(e,"#");return Object.assign({url:o.split("?")[0]||"",query:p(u(e),t)},t&&t.parseFragmentIdentifier&&n?{fragmentIdentifier:l(n,t)}:{})},t.stringifyUrl=(e,o)=>{o=Object.assign({encode:!0,strict:!0},o);const n=d(e.url).split("?")[0]||"",r=t.extract(e.url),i=t.parse(r,{sort:!1}),a=Object.assign(i,e.query);let l=t.stringify(a,o);l&&(l=`?${l}`);let c=function(e){let t="";const o=e.indexOf("#");return-1!==o&&(t=e.slice(o)),t}(e.url);return e.fragmentIdentifier&&(c=`#${s(e.fragmentIdentifier,o)}`),`${n}${l}${c}`}},152:function(e,t,o){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},153:function(e,t,o){"use strict";var n="%[a-f0-9]{2}",r=new RegExp(n,"gi"),i=new RegExp("("+n+")+","gi");function a(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var o=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],a(o),a(n))}function s(e){try{return decodeURIComponent(e)}catch(n){for(var t=e.match(r),o=1;o<t.length;o++)t=(e=a(t,o).join("")).match(r);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},o=i.exec(e);o;){try{t[o[0]]=decodeURIComponent(o[0])}catch(e){var n=s(o[0]);n!==o[0]&&(t[o[0]]=n)}o=i.exec(e)}t["%C2"]="�";for(var r=Object.keys(t),a=0;a<r.length;a++){var l=r[a];e=e.replace(new RegExp(l,"g"),t[l])}return e}(e)}}},154:function(e,t,o){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const o=e.indexOf(t);return-1===o?[e]:[e.slice(0,o),e.slice(o+t.length)]}},155:function(e,t,o){var n=o(65),r=o(156);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},156:function(e,t,o){(t=o(66)(!1)).push([e.i,'.kbnDocTableWrapper{scrollbar-color:rgba(152,162,179,0.5) rgba(0,0,0,0);scrollbar-width:thin;overflow:auto;display:flex;flex:1 1 100%;flex-direction:column}.kbnDocTableWrapper::-webkit-scrollbar{width:16px;height:16px}.kbnDocTableWrapper::-webkit-scrollbar-thumb{background-color:rgba(152,162,179,0.5);background-clip:content-box;border-radius:16px;border:6px solid rgba(0,0,0,0)}.kbnDocTableWrapper::-webkit-scrollbar-corner,.kbnDocTableWrapper::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.kbnDocTableWrapper th{text-align:left;font-weight:bold}.kbnDocTableWrapper .spinner{position:absolute;top:40%;left:0;right:0;z-index:1000;opacity:.5}.kbnDocTableWrapper .kbnDocTable__row{font-family:"Roboto Mono",Consolas,Menlo,Courier,monospace;font-size:12px}.kbnDocTable__footer{background-color:#343741;padding:4px 8px;text-align:center}.kbnDocTable__container.loading{opacity:.5}.kbnDocTable th{white-space:nowrap;padding-right:8px}.kbn-table dl.source,.kbnDocTable dl.source{margin-bottom:0;line-height:2em;word-break:break-word}.kbn-table dl.source dt,.kbn-table dl.source dd,.kbnDocTable dl.source dt,.kbnDocTable dl.source dd{display:inline}.kbn-table dl.source dt,.kbnDocTable dl.source dt{background-color:rgba(43,130,191,0.1);color:#DFE5EF;padding:2px 4px;margin-right:4px;word-break:normal;border-radius:6px}.kbnDocTable__row td{position:relative}.kbnDocTable__row td:hover .kbnDocTableRowFilterButton{opacity:1}.kbnDocTable__row--highlight td,.kbnDocTable__row--highlight .kbnDocTableRowFilterButton{background-color:#103148}.kbnDocTable__error{display:flex;flex-direction:column;justify-content:center;flex:1 0 100%;text-align:center}.table .table{background-color:#1D1E24}.kbn-table .table .table{margin-bottom:0}.kbn-table .table .table tr:first-child>td{border-top:none}.kbn-table .table .table td.field-name{font-weight:700}.kbnDocTableHeader{white-space:nowrap}.kbnDocTableHeader button,.kbnDocTableHeader svg{margin-left:2px}.kbnDocTableHeader__move,.kbnDocTableHeader__sortChange{opacity:0}th:hover .kbnDocTableHeader__move,.kbnDocTableHeader__move:focus,th:hover .kbnDocTableHeader__sortChange,.kbnDocTableHeader__sortChange:focus{opacity:1}.kbnDocTableHeader__actions{display:flex;align-items:center}.kbnDocTableCell__dataField{white-space:pre-wrap}.kbnDocTableCell__toggleDetails{padding:4px 0 0 0 !important}.kbnDocTableCell--extraWidth{width:1%}.kbnDocTableCell__filter{position:absolute;white-space:nowrap;right:0}.kbnDocTableCell__filterButton{font-size:12px;padding:4px}.kbnDocTableRowFilterButton{-webkit-appearance:none;appearance:none;background-color:#1D1E24;border:none;padding:0 4px;font-size:14px;line-height:1;display:inline-block;opacity:0}.kbnDocTableRowFilterButton:focus{opacity:1}.kbnDocTableDetails__actions{float:right;padding-top:8px}.kbnDocTableDetails__row>td{padding:24px !important}.kbnDocTableDetails__row>td tr:hover td{background:#1e1e25}.kbnDocTableDetails__row td{border-top:none !important}.kbnDocTableOpen__button{-webkit-appearance:none;appearance:none;background-color:transparent;padding:0;border:none;width:14px;height:14px}\n',""]),e.exports=t},157:function(e,t,o){var n=o(65),r=o(158);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},158:function(e,t,o){(t=o(66)(!1)).push([e.i,'.kbnDocTableWrapper{scrollbar-color:rgba(105,112,125,0.5) rgba(0,0,0,0);scrollbar-width:thin;overflow:auto;display:flex;flex:1 1 100%;flex-direction:column}.kbnDocTableWrapper::-webkit-scrollbar{width:16px;height:16px}.kbnDocTableWrapper::-webkit-scrollbar-thumb{background-color:rgba(105,112,125,0.5);background-clip:content-box;border-radius:16px;border:6px solid rgba(0,0,0,0)}.kbnDocTableWrapper::-webkit-scrollbar-corner,.kbnDocTableWrapper::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.kbnDocTableWrapper th{text-align:left;font-weight:bold}.kbnDocTableWrapper .spinner{position:absolute;top:40%;left:0;right:0;z-index:1000;opacity:.5}.kbnDocTableWrapper .kbnDocTable__row{font-family:"Roboto Mono",Consolas,Menlo,Courier,monospace;font-size:12px}.kbnDocTable__footer{background-color:#D3DAE6;padding:4px 8px;text-align:center}.kbnDocTable__container.loading{opacity:.5}.kbnDocTable th{white-space:nowrap;padding-right:8px}.kbn-table dl.source,.kbnDocTable dl.source{margin-bottom:0;line-height:2em;word-break:break-word}.kbn-table dl.source dt,.kbn-table dl.source dd,.kbnDocTable dl.source dt,.kbnDocTable dl.source dd{display:inline}.kbn-table dl.source dt,.kbnDocTable dl.source dt{background-color:rgba(0,95,163,0.1);color:#343741;padding:2px 4px;margin-right:4px;word-break:normal;border-radius:6px}.kbnDocTable__row td{position:relative}.kbnDocTable__row td:hover .kbnDocTableRowFilterButton{opacity:1}.kbnDocTable__row--highlight td,.kbnDocTable__row--highlight .kbnDocTableRowFilterButton{background-color:#e6f1fa}.kbnDocTable__error{display:flex;flex-direction:column;justify-content:center;flex:1 0 100%;text-align:center}.table .table{background-color:#fff}.kbn-table .table .table{margin-bottom:0}.kbn-table .table .table tr:first-child>td{border-top:none}.kbn-table .table .table td.field-name{font-weight:700}.kbnDocTableHeader{white-space:nowrap}.kbnDocTableHeader button,.kbnDocTableHeader svg{margin-left:2px}.kbnDocTableHeader__move,.kbnDocTableHeader__sortChange{opacity:0}th:hover .kbnDocTableHeader__move,.kbnDocTableHeader__move:focus,th:hover .kbnDocTableHeader__sortChange,.kbnDocTableHeader__sortChange:focus{opacity:1}.kbnDocTableHeader__actions{display:flex;align-items:center}.kbnDocTableCell__dataField{white-space:pre-wrap}.kbnDocTableCell__toggleDetails{padding:4px 0 0 0 !important}.kbnDocTableCell--extraWidth{width:1%}.kbnDocTableCell__filter{position:absolute;white-space:nowrap;right:0}.kbnDocTableCell__filterButton{font-size:12px;padding:4px}.kbnDocTableRowFilterButton{-webkit-appearance:none;appearance:none;background-color:#fff;border:none;padding:0 4px;font-size:14px;line-height:1;display:inline-block;opacity:0}.kbnDocTableRowFilterButton:focus{opacity:1}.kbnDocTableDetails__actions{float:right;padding-top:8px}.kbnDocTableDetails__row>td{padding:24px !important}.kbnDocTableDetails__row>td tr:hover td{background:#fafbfd}.kbnDocTableDetails__row td{border-top:none !important}.kbnDocTableOpen__button{-webkit-appearance:none;appearance:none;background-color:transparent;padding:0;border:none;width:14px;height:14px}\n',""]),e.exports=t},164:function(e,t,o){switch(window.__kbnThemeTag__){case"v8dark":return o(165);case"v8light":return o(167)}},165:function(e,t,o){var n=o(65),r=o(166);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},166:function(e,t,o){(t=o(66)(!1)).push([e.i,".rowFormatter__value img{vertical-align:middle;max-height:1.14286rem !important;max-width:500px !important}\n",""]),e.exports=t},167:function(e,t,o){var n=o(65),r=o(168);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},168:function(e,t,o){(t=o(66)(!1)).push([e.i,".rowFormatter__value img{vertical-align:middle;max-height:1.14286rem !important;max-width:500px !important}\n",""]),e.exports=t},209:function(e,t,o){switch(window.__kbnThemeTag__){case"v8dark":return o(210);case"v8light":return o(212)}},210:function(e,t,o){var n=o(65),r=o(211);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},211:function(e,t,o){(t=o(66)(!1)).push([e.i,".dscViewModeToggle{padding-right:16px}.fieldStatsButton{display:flex;align-items:center}.fieldStatsBetaBadge{margin-left:4px}\n",""]),e.exports=t},212:function(e,t,o){var n=o(65),r=o(213);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},213:function(e,t,o){(t=o(66)(!1)).push([e.i,".dscViewModeToggle{padding-right:16px}.fieldStatsButton{display:flex;align-items:center}.fieldStatsBetaBadge{margin-left:4px}\n",""]),e.exports=t},65:function(e,t,o){"use strict";var n,r=function(){var e={};return function(t){if(void 0===e[t]){var o=document.querySelector(t);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}e[t]=o}return e[t]}}(),i=[];function a(e){for(var t=-1,o=0;o<i.length;o++)if(i[o].identifier===e){t=o;break}return t}function s(e,t){for(var o={},n=[],r=0;r<e.length;r++){var s=e[r],l=t.base?s[0]+t.base:s[0],c=o[l]||0,d="".concat(l," ").concat(c);o[l]=c+1;var u=a(d),b={css:s[1],media:s[2],sourceMap:s[3]};-1!==u?(i[u].references++,i[u].updater(b)):i.push({identifier:d,updater:f(b,t),references:1}),n.push(d)}return n}function l(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var i=o.nc;i&&(n.nonce=i)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var a=r(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var c,d=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function u(e,t,o,n){var r=o?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=d(t,r);else{var i=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function b(e,t,o){var n=o.css,r=o.media,i=o.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var p=null,m=0;function f(e,t){var o,n,r;if(t.singleton){var i=m++;o=p||(p=l(t)),n=u.bind(null,o,i,!1),r=u.bind(null,o,i,!0)}else o=l(t),n=b.bind(null,o,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(o)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n));var o=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<o.length;n++){var r=a(o[n]);i[r].references--}for(var l=s(e,t),c=0;c<o.length;c++){var d=a(o[c]);0===i[d].references&&(i[d].updater(),i.splice(d,1))}o=l}}}},66:function(e,t,o){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var o=function(e,t){var o,n,r,i=e[1]||"",a=e[3];if(!a)return i;if(t&&"function"==typeof btoa){var s=(o=a,n=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),"/*# ".concat(r," */")),l=a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(e," */")}));return[i].concat(l).concat([s]).join("\n")}return[i].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(o,"}"):o})).join("")},t.i=function(e,o,n){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(n)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(r[a]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);n&&r[l[0]]||(o&&(l[2]?l[2]="".concat(o," and ").concat(l[2]):l[2]=o),t.push(l))}},t}},67:function(e,t,o){e.exports=o(29)(3)},69:function(e,t,o){"use strict";o.d(t,"c",(function(){return r})),o.d(t,"a",(function(){return i})),o.d(t,"b",(function(){return a}));var n=o(9);function r(e,t){const o=t.getFieldByName(e);return!(!o||!o.sortable)}function i(e,t){return Array.isArray(e)?function(e){return 2===e.length&&"string"==typeof e[0]&&("desc"===e[1]||"asc"===e[1])}(e)?[{[e[0]]:e[1]}]:e.map((e=>function(e,t){if(Array.isArray(e)&&2===e.length&&r(String(e[0]),t)){const[t,o]=e;return{[t]:o}}if(Object(n.isPlainObject)(e)&&r(Object.keys(e)[0],t))return e}(e,t))).filter((e=>"object"==typeof e)):[]}function a(e,t){return i(e,t).reduce(((e,t)=>{const o=Object.entries(t);return o&&o[0]&&e.push(o[0]),e}),[])}},70:function(e,t,o){"use strict";o.d(t,"b",(function(){return n.b})),o.d(t,"c",(function(){return r})),o.d(t,"a",(function(){return i.a}));var n=o(69);function r(e,t,o="desc"){if(!e||!t||Array.isArray(e)&&0===e.length)return null!=t&&t.timeFieldName?[{_doc:o}]:[{_score:o}];const{timeFieldName:r}=t;return Object(n.a)(e,t).map((e=>t.isTimeNanosBased()&&r&&e[r]?{[r]:{order:e[r],numeric_type:"date_nanos"}}:e))}var i=o(72)},71:function(e,t,o){"use strict";o.d(t,"a",(function(){return r}));var n=o(14);function r(e,t,o,r,i){return r&&i?r.getFormatterForField(i).convert(e,"html",{hit:t,field:i}):o.getDefaultInstance(n.KBN_FIELD_TYPES.STRING).convert(e,"html",{hit:t,field:i})}},72:function(e,t,o){"use strict";o.d(t,"a",(function(){return r}));var n=o(69);function r(e,t="desc",o=!1){return null!=e&&e.timeFieldName&&Object(n.c)(e.timeFieldName,e)&&!o?[[e.timeFieldName,t]]:[]}},75:function(e,t,o){"use strict";o.d(t,"a",(function(){return r}));var n=o(42);const r=(e,t,o)=>{const r={},i=e=>t.fields.getByName(e);return e.forEach((e=>{var t;const o=i(e),a=o&&Object(n.getFieldSubtypeMulti)(o.spec);o&&null!=a&&null!==(t=a.multi)&&void 0!==t&&t.parent&&(r[o.name]=a.multi.parent)})),e.filter((t=>{const a=i(t),s=a&&Object(n.getFieldSubtypeMulti)(a.spec);if(null==s||!s.multi)return!0;const l=r[t];return o||l&&!e.includes(l)}))}},78:function(e,t,o){"use strict";o.d(t,"a",(function(){return i}));var n=o(9),r=o(7);function i(e,t){if(!e.columns)return e;const o=!t.get(r.SEARCH_FIELDS_FROM_SOURCE),i=t.get(r.DEFAULT_COLUMNS_SETTING);if(o){let t=e.columns.filter((e=>"_source"!==e));return 0!==t.length||Object(n.isEqual)(i,["_source"])||(t=i,t=t.filter((e=>"_source"!==e))),{...e,columns:t}}if(0===e.columns.length){const t=i;return 0===t.length&&t.push("_source"),{...e,columns:[...t]}}return e}},81:function(e,t,o){switch(window.__kbnThemeTag__){case"v8dark":return o(92);case"v8light":return o(94)}},82:function(e,t,o){"use strict";o.d(t,"a",(function(){return b})),o.d(t,"b",(function(){return p}));var n=o(3),r=o(44),i=o(151),a=o(54),s=o.n(a),l=o(45),c=o(56),d=o(19);const u=(e,t,o)=>e?o:"#"+t.pathname+t.search,b=()=>{var e;return Object(n.useRef)(null===(e=Object(r.useHistory)().location.state)||void 0===e?void 0:e.breadcrumb).current},p=({indexPatternId:e,rowIndex:t,rowId:o,columns:a,filterManager:b,addBasePath:p})=>{var m;const f=Object(r.useHistory)(),g=Object(d.a)().history().location,h=Object(n.useRef)(null==f||null===(m=f.location.state)||void 0===m?void 0:m.breadcrumb).current,j=Object(n.useMemo)((()=>((e,t)=>{const o=t.getGlobalFilters(),n=t.getAppFilters();return Object(i.stringify)(c.url.encodeQuery({_g:s.a.encode({filters:o||[]}),_a:s.a.encode({columns:e,filters:(n||[]).map(l.disableFilter)})}),{encode:!1,sort:!1})})(a,b)),[a,b]);if(f){const n=Object(r.matchPath)(f.location.pathname,{path:"/context/:indexPatternId/:id",exact:!0});return{singleDocProps:{onClick:()=>{f.push({pathname:`/doc/${e}/${t}`,search:`?id=${encodeURIComponent(o)}`,state:{breadcrumb:u(!!n,g,h)}})}},surrDocsProps:{onClick:()=>f.push({pathname:`/context/${encodeURIComponent(e)}/${encodeURIComponent(String(o))}`,search:`?${j}`,state:{breadcrumb:u(!!n,g,h)}})}}}return{singleDocProps:{href:p(`/app/discover#/doc/${e}/${t}?id=${encodeURIComponent(o)}`)},surrDocsProps:{href:p(`/app/discover#/context/${encodeURIComponent(e)}/${encodeURIComponent(o)}?${j}`)}}}},83:function(e,t,o){"use strict";o.d(t,"a",(function(){return c})),o.d(t,"b",(function(){return s}));var n=o(13),r=o(3),i=o(0),a=o(41);let s;!function(e){e.DOCUMENT_LEVEL="documents",e.AGGREGATED_LEVEL="aggregated"}(s||(s={})),o(209);var l=o(5);const c=({viewMode:e,setDiscoverViewMode:t})=>{const o=Object(r.useMemo)((()=>[{id:s.DOCUMENT_LEVEL,label:i.i18n.translate("discover.viewModes.document.label",{defaultMessage:"Documents"}),"data-test-subj":"dscViewModeDocumentButton"},{id:s.AGGREGATED_LEVEL,label:Object(l.jsx)("div",{className:"fieldStatsButton","data-test-subj":"dscViewModeFieldStatsButton"},Object(l.jsx)(a.FormattedMessage,{id:"discover.viewModes.fieldStatistics.label",defaultMessage:"Field statistics"}),Object(l.jsx)(n.EuiBetaBadge,{label:i.i18n.translate("discover.viewModes.fieldStatistics.betaTitle",{defaultMessage:"Beta"}),size:"s",className:"fieldStatsBetaBadge"}))}]),[]);return Object(l.jsx)(n.EuiButtonGroup,{className:"dscViewModeToggle",legend:i.i18n.translate("discover.viewModes.legend",{defaultMessage:"View modes"}),buttonSize:"compressed",options:o,idSelected:e,onChange:e=>t(e),"data-test-subj":"dscViewModeToggle"})}},91:function(e,t,o){"use strict";o.d(t,"b",(function(){return b})),o.d(t,"a",(function(){return p})),o(81);var n=o(3),r=o.n(n),i=o(0),a=o(46),s=o(13),l=o(20),c=o(5);const d=i.i18n.translate("discover.json.codeEditorAriaLabel",{defaultMessage:"Read only JSON view of an elasticsearch document"}),u=i.i18n.translate("discover.json.copyToClipboardLabel",{defaultMessage:"Copy to clipboard"}),b=({jsonValue:e,width:t,height:o,hasLineNumbers:n,onEditorDidMount:r})=>""===e?null:Object(c.jsx)(s.EuiFlexGroup,{className:"dscJsonCodeEditor",direction:"column",gutterSize:"s"},Object(c.jsx)(s.EuiFlexItem,null,Object(c.jsx)(s.EuiSpacer,{size:"s"}),Object(c.jsx)("div",{className:"eui-textRight"},Object(c.jsx)(s.EuiCopy,{textToCopy:e},(e=>Object(c.jsx)(s.EuiButtonEmpty,{size:"xs",flush:"right",iconType:"copyClipboard",onClick:e},u))))),Object(c.jsx)(s.EuiFlexItem,null,Object(c.jsx)(l.CodeEditor,{languageId:a.XJsonLang.ID,width:t,height:o,value:e||"",editorDidMount:r,"aria-label":d,options:{automaticLayout:!0,fontSize:12,lineNumbers:n?"on":"off",minimap:{enabled:!1},overviewRulerBorder:!1,readOnly:!0,scrollbar:{alwaysConsumeMouseWheel:!1},scrollBeyondLastLine:!1,wordWrap:"on",wrappingIndent:"indent"}}))),p=r.a.memo((e=>Object(c.jsx)(b,e)))},92:function(e,t,o){var n=o(65),r=o(93);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},93:function(e,t,o){(t=o(66)(!1)).push([e.i,".dscJsonCodeEditor{width:100%}\n",""]),e.exports=t},94:function(e,t,o){var n=o(65),r=o(95);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},95:function(e,t,o){(t=o(66)(!1)).push([e.i,".dscJsonCodeEditor{width:100%}\n",""]),e.exports=t},98:function(e,t,o){"use strict";async function n(e,t,o,n){var r;if(!e.id||null==n||null===(r=n.indexPatterns)||void 0===r||!r.save)return;const i=e.fields.getByName(t);if(i){i.count++;try{await o.updateSavedObject(e,0,!0)}catch{}}}o.d(t,"a",(function(){return n}))},99:function(e,t,o){switch(window.__kbnThemeTag__){case"v8dark":return o(155);case"v8light":return o(157)}}}]);