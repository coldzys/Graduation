/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.lens_bundle_jsonpfunction=window.lens_bundle_jsonpfunction||[]).push([[0,9],Array(66).concat([function(e,t,n){"use strict";var a,r=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function i(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function s(e,t){for(var n={},a=[],r=0;r<e.length;r++){var s=e[r],l=t.base?s[0]+t.base:s[0],u=n[l]||0,c="".concat(l," ").concat(u);n[l]=u+1;var d=i(c),p={css:s[1],media:s[2],sourceMap:s[3]};-1!==d?(o[d].references++,o[d].updater(p)):o.push({identifier:c,updater:b(p,t),references:1}),a.push(c)}return a}function l(e){var t=document.createElement("style"),a=e.attributes||{};if(void 0===a.nonce){var o=n.nc;o&&(a.nonce=o)}if(Object.keys(a).forEach((function(e){t.setAttribute(e,a[e])})),"function"==typeof e.insert)e.insert(t);else{var i=r(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}return t}var u,c=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function d(e,t,n,a){var r=n?"":a.media?"@media ".concat(a.media," {").concat(a.css,"}"):a.css;if(e.styleSheet)e.styleSheet.cssText=c(t,r);else{var o=document.createTextNode(r),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(o,i[t]):e.appendChild(o)}}function p(e,t,n){var a=n.css,r=n.media,o=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}var f=null,g=0;function b(e,t){var n,a,r;if(t.singleton){var o=g++;n=f||(f=l(t)),a=d.bind(null,n,o,!1),r=d.bind(null,n,o,!0)}else n=l(t),a=p.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===a&&(a=Boolean(window&&document&&document.all&&!window.atob)),a));var n=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var a=0;a<n.length;a++){var r=i(n[a]);o[r].references--}for(var l=s(e,t),u=0;u<n.length;u++){var c=i(n[u]);0===o[c].references&&(o[c].updater(),o.splice(c,1))}n=l}}}},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,a,r,o=e[1]||"",i=e[3];if(!i)return o;if(t&&"function"==typeof btoa){var s=(n=i,a=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(r," */")),l=i.sources.map((function(e){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(e," */")}));return[o].concat(l).concat([s]).join("\n")}return[o].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,a){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(a)for(var o=0;o<this.length;o++){var i=this[o][0];null!=i&&(r[i]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);a&&r[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},function(e,t,n){"use strict";n.d(t,"k",(function(){return d})),n.d(t,"f",(function(){return P})),n.d(t,"i",(function(){return k})),n.d(t,"l",(function(){return g})),n.d(t,"c",(function(){return te})),n.d(t,"h",(function(){return ne})),n.d(t,"o",(function(){return M.a})),n.d(t,"r",(function(){return M.k})),n.d(t,"q",(function(){return M.c})),n.d(t,"e",(function(){return C.g})),n.d(t,"b",(function(){return C.a})),n.d(t,"p",(function(){return C.h})),n.d(t,"t",(function(){return x})),n.d(t,"s",(function(){return ae})),n.d(t,"g",(function(){return re})),n.d(t,"m",(function(){return ie})),n.d(t,"a",(function(){return se})),n.d(t,"d",(function(){return le})),n.d(t,"j",(function(){return ue})),n.d(t,"n",(function(){return he})),n(161);var a=n(6),r=n.n(a),o=n(7),i=n(21),s=n.n(i),l=n(2),u=n(33);const c={legend:({title:e,titleId:t,...n})=>Object(l.jsx)("svg",s()({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t},n),e?Object(l.jsx)("title",{id:t},e):null,Object(l.jsx)("path",{clipRule:"evenodd",fillRule:"evenodd",d:"M2.786.357a.25.25 0 01.428 0l2.559 4.264A.25.25 0 015.558 5H.442a.25.25 0 01-.215-.379L2.786.357zM3 1.944L4.234 4H1.766L3 1.944z"}),Object(l.jsx)("path",{d:"M8.5 2a.5.5 0 000 1h7a.5.5 0 000-1h-7z"}),Object(l.jsx)("path",{clipRule:"evenodd",fillRule:"evenodd",d:"M1.5 6a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5h-3zM2 7v2h2V7H2z"}),Object(l.jsx)("path",{d:"M8.5 7.5a.5.5 0 000 1h7a.5.5 0 000-1h-7z"}),Object(l.jsx)("path",{clipRule:"evenodd",fillRule:"evenodd",d:"M3 16a2.5 2.5 0 100-5 2.5 2.5 0 000 5zm0-1a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"}),Object(l.jsx)("path",{d:"M8.5 13a.5.5 0 000 1h7a.5.5 0 000-1h-7z"})),labels:"visText",values:"number",list:"list",visualOptions:"brush"},d=({children:e,title:t,type:n,isDisabled:r=!1,groupPosition:i,buttonDataTestSubj:s,panelClassName:d="lnsVisToolbar__popover",handleClose:p})=>{const[f,g]=Object(a.useState)(!1),b="string"==typeof n?c[n]:n;return Object(l.jsx)(o.EuiFlexItem,{grow:!1},Object(l.jsx)(o.EuiPopover,{panelClassName:d,ownFocus:!0,"aria-label":t,button:Object(l.jsx)(u.ToolbarButton,{fontWeight:"normal",onClick:()=>{g(!f)},title:t,hasArrow:!1,isDisabled:r,groupPosition:i,dataTestSubj:s},Object(l.jsx)(o.EuiIcon,{type:b})),isOpen:f,closePopover:()=>{g(!1),null==p||p()},anchorPosition:"downRight"},Object(l.jsx)(o.EuiPopoverTitle,null,t),e))};var p=n(0),f=n(38);const g=({children:e,condition:t,tooltipContent:n,...a})=>Object(l.jsx)(r.a.Fragment,null,t?Object(l.jsx)(o.EuiToolTip,s()({content:n,delay:"long"},a),Object(l.jsx)(r.a.Fragment,null,e)):e),b=[{id:f.Position.Top,label:p.i18n.translate("xpack.lens.shared.legendPositionTop",{defaultMessage:"Top"}),iconType:"arrowUp"},{id:f.Position.Right,label:p.i18n.translate("xpack.lens.shared.legendPositionRight",{defaultMessage:"Right"}),iconType:"arrowRight"},{id:f.Position.Bottom,label:p.i18n.translate("xpack.lens.shared.legendPositionBottom",{defaultMessage:"Bottom"}),iconType:"arrowDown"},{id:f.Position.Left,label:p.i18n.translate("xpack.lens.shared.legendPositionLeft",{defaultMessage:"Left"}),iconType:"arrowLeft"}],h=[{id:"xy_location_outside",value:"outside",label:p.i18n.translate("xpack.lens.xyChart.legendLocation.outside",{defaultMessage:"Outside"})},{id:"xy_location_inside",value:"inside",label:p.i18n.translate("xpack.lens.xyChart.legendLocation.inside",{defaultMessage:"Inside"})}],m=[{id:"xy_location_alignment_top_right",value:"top_right",label:p.i18n.translate("xpack.lens.shared.legendLocationTopRight",{defaultMessage:"Top right"}),iconType:"editorPositionTopRight"},{id:"xy_location_alignment_top_left",value:"top_left",label:p.i18n.translate("xpack.lens.shared.legendLocationTopLeft",{defaultMessage:"Top left"}),iconType:"editorPositionTopLeft"},{id:"xy_location_alignment_bottom_right",value:"bottom_right",label:p.i18n.translate("xpack.lens.shared.legendLocationBottomRight",{defaultMessage:"Bottom right"}),iconType:"editorPositionBottomRight"},{id:"xy_location_alignment_bottom_left",value:"bottom_left",label:p.i18n.translate("xpack.lens.shared.legendLocationBottomLeft",{defaultMessage:"Bottom left"}),iconType:"editorPositionBottomLeft"}],v=({location:e,onLocationChange:t=(()=>{}),position:n,onPositionChange:a,verticalAlignment:i,horizontalAlignment:s,onAlignmentChange:u=(()=>{}),isDisabled:c=!1})=>{const d=`${i||f.VerticalAlignment.Top}_${s||f.HorizontalAlignment.Right}`;return Object(l.jsx)(r.a.Fragment,null,e&&Object(l.jsx)(o.EuiFormRow,{display:"columnCompressed",label:p.i18n.translate("xpack.lens.shared.legendLocationLabel",{defaultMessage:"Location"})},Object(l.jsx)(g,{tooltipContent:p.i18n.translate("xpack.lens.shared.legendVisibleTooltip",{defaultMessage:"Requires legend to be shown"}),condition:c,position:"top",delay:"regular",display:"block"},Object(l.jsx)(o.EuiButtonGroup,{isFullWidth:!0,legend:p.i18n.translate("xpack.lens.shared.legendLocationLabel",{defaultMessage:"Location"}),"data-test-subj":"lens-legend-location-btn",name:"legendLocation",buttonSize:"compressed",options:h,isDisabled:c,idSelected:h.find((({value:t})=>t===e)).id,onChange:e=>{const n=h.find((({id:t})=>t===e)).value;t(n)}}))),Object(l.jsx)(o.EuiFormRow,{display:"columnCompressed",label:p.i18n.translate("xpack.lens.shared.legendInsideAlignmentLabel",{defaultMessage:"Alignment"})},Object(l.jsx)(r.a.Fragment,null,(!e||"outside"===e)&&Object(l.jsx)(g,{tooltipContent:p.i18n.translate("xpack.lens.shared.legendVisibleTooltip",{defaultMessage:"Requires legend to be shown"}),condition:c,position:"top",delay:"regular",display:"block"},Object(l.jsx)(o.EuiButtonGroup,{legend:p.i18n.translate("xpack.lens.shared.legendAlignmentLabel",{defaultMessage:"Alignment"}),isDisabled:c,"data-test-subj":"lens-legend-position-btn",name:"legendPosition",buttonSize:"compressed",options:b,idSelected:n||f.Position.Right,onChange:a,isIconOnly:!0})),"inside"===e&&Object(l.jsx)(g,{tooltipContent:p.i18n.translate("xpack.lens.shared.legendVisibleTooltip",{defaultMessage:"Requires legend to be shown"}),condition:c,position:"top",delay:"regular",display:"block"},Object(l.jsx)(o.EuiButtonGroup,{legend:p.i18n.translate("xpack.lens.shared.legendInsideLocationAlignmentLabel",{defaultMessage:"Alignment"}),type:"single","data-test-subj":"lens-legend-inside-alignment-btn",name:"legendInsideAlignment",buttonSize:"compressed",isDisabled:c,options:m,idSelected:m.find((({value:e})=>e===d)).id,onChange:e=>{const t=m.find((({id:t})=>t===e)).value;u(t)},isIconOnly:!0})))))};var y=n(31);const x=({onChange:e,value:t,defaultValue:n},{allowFalsyValue:r}={})=>{const[o,i]=Object(a.useState)(t),s=Object(a.useRef)(!1),l=Boolean(r),u=Object(a.useRef)(null!=n?n:t),c=Object(a.useRef)(),d=Object(a.useMemo)((()=>{const t=Object(y.debounce)((t=>{e(t),c.current=setTimeout((()=>{s.current=!1}),256)}),256);return e=>{c.current&&clearTimeout(c.current),s.current=!0,t(e)}}),[e]);return Object(a.useEffect)((()=>{s.current||t===o||i(t)}),[t,o]),{inputValue:o,handleInputChange:e=>{i(e);const t=l?null!=e?e:u.current:e||u.current;d(t)},initialValue:u.current}},j=({floatingColumns:e,onFloatingColumnsChange:t=(()=>{}),isDisabled:n,isLegendOutside:a})=>{const{inputValue:r,handleInputChange:i}=x({value:null!=e?e:1,onChange:t});return Object(l.jsx)(o.EuiFormRow,{label:p.i18n.translate("xpack.lens.shared.legendInsideColumnsLabel",{defaultMessage:"Number of columns"}),fullWidth:!0,display:"columnCompressed"},Object(l.jsx)(g,{tooltipContent:n?p.i18n.translate("xpack.lens.shared.legendVisibleTooltip",{defaultMessage:"Requires legend to be shown"}):p.i18n.translate("xpack.lens.shared.legendInsideTooltip",{defaultMessage:"Requires legend to be located inside visualization"}),condition:n||a,position:"top",delay:"regular",display:"block"},Object(l.jsx)(o.EuiFieldNumber,{"data-test-subj":"lens-legend-location-columns-input",value:r,min:1,max:5,compressed:!0,disabled:n||a,onChange:e=>{i(Number(e.target.value))},step:1})))};let _;!function(e){e.AUTO="0",e.SMALL="80",e.MEDIUM="130",e.LARGE="180",e.EXTRA_LARGE="230"}(_||(_={}));const w=[{value:_.AUTO,inputDisplay:p.i18n.translate("xpack.lens.shared.legendSizeSetting.legendSizeOptions.auto",{defaultMessage:"Auto"})},{value:_.SMALL,inputDisplay:p.i18n.translate("xpack.lens.shared.legendSizeSetting.legendSizeOptions.small",{defaultMessage:"Small"})},{value:_.MEDIUM,inputDisplay:p.i18n.translate("xpack.lens.shared.legendSizeSetting.legendSizeOptions.medium",{defaultMessage:"Medium"})},{value:_.LARGE,inputDisplay:p.i18n.translate("xpack.lens.shared.legendSizeSetting.legendSizeOptions.large",{defaultMessage:"Large"})},{value:_.EXTRA_LARGE,inputDisplay:p.i18n.translate("xpack.lens.shared.legendSizeSetting.legendSizeOptions.extraLarge",{defaultMessage:"Extra large"})}],O=({legendSize:e,onLegendSizeChange:t,isVerticalLegend:n,isDisabled:r})=>{var i;Object(a.useEffect)((()=>{e&&!n&&t(void 0)}),[n,e,t]);const s=Object(a.useCallback)((e=>t(Number(e)||void 0)),[t]);return Object(l.jsx)(o.EuiFormRow,{display:"columnCompressed",label:p.i18n.translate("xpack.lens.shared.legendSizeSetting.label",{defaultMessage:"Legend width"}),fullWidth:!0},Object(l.jsx)(g,{tooltipContent:r?p.i18n.translate("xpack.lens.shared.legendVisibleTooltip",{defaultMessage:"Requires legend to be shown"}):p.i18n.translate("xpack.lens.legendSizeSetting.legendVertical",{defaultMessage:"Requires legend to be right or left aligned"}),condition:r||!n,position:"top",delay:"regular",display:"block"},Object(l.jsx)(o.EuiSuperSelect,{compressed:!0,valueOfSelected:null!==(i=null==e?void 0:e.toString())&&void 0!==i?i:_.AUTO,options:w,onChange:s,disabled:r||!n})))},D=({value:e,setValue:t,isDisabled:n})=>{const{inputValue:a,handleInputChange:r}=x({value:e,onChange:t});return Object(l.jsx)(o.EuiFieldNumber,{"data-test-subj":"lens-legend-max-lines-input",value:a,min:1,max:5,step:1,compressed:!0,disabled:n,onChange:e=>{const t=Number(e.target.value);r(Math.min(5,Math.max(t,1)))}})},P=({legendOptions:e,mode:t,onDisplayChange:n,position:a,location:r,onLocationChange:i=(()=>{}),verticalAlignment:s,horizontalAlignment:u,floatingColumns:c,onAlignmentChange:b=(()=>{}),onFloatingColumnsChange:h=(()=>{}),onPositionChange:m,renderNestedLegendSwitch:y,nestedLegend:x,onNestedLegendChange:_=(()=>{}),valueInLegend:w,onValueInLegendChange:P=(()=>{}),renderValueInLegendSwitch:k,groupPosition:S="right",maxLines:L,onMaxLinesChange:C=(()=>{}),shouldTruncate:I,onTruncateLegendChange:M=(()=>{}),legendSize:E,onLegendSizeChange:T})=>Object(l.jsx)(d,{title:p.i18n.translate("xpack.lens.shared.legendLabel",{defaultMessage:"Legend"}),type:"legend",groupPosition:S,buttonDataTestSubj:"lnsLegendButton"},Object(l.jsx)(o.EuiFormRow,{display:"columnCompressed",label:p.i18n.translate("xpack.lens.shared.legendVisibilityLabel",{defaultMessage:"Display"})},Object(l.jsx)(o.EuiButtonGroup,{isFullWidth:!0,legend:p.i18n.translate("xpack.lens.shared.legendVisibilityLabel",{defaultMessage:"Display"}),"data-test-subj":"lens-legend-display-btn",name:"legendDisplay",buttonSize:"compressed",options:e,idSelected:e.find((({value:e})=>e===t)).id,onChange:n})),Object(l.jsx)(v,{location:r,onLocationChange:i,verticalAlignment:s,horizontalAlignment:u,onAlignmentChange:b,isDisabled:"hide"===t,position:a,onPositionChange:m}),Object(l.jsx)(O,{legendSize:E,onLegendSizeChange:T,isVerticalLegend:!a||a===f.Position.Left||a===f.Position.Right,isDisabled:"hide"===t}),r&&Object(l.jsx)(j,{floatingColumns:c,onFloatingColumnsChange:h,isDisabled:"hide"===t,isLegendOutside:"outside"===r}),Object(l.jsx)(o.EuiFormRow,{display:"columnCompressedSwitch",label:p.i18n.translate("xpack.lens.shared.truncateLegend",{defaultMessage:"Truncate text"})},Object(l.jsx)(g,{tooltipContent:p.i18n.translate("xpack.lens.shared.legendVisibleTooltip",{defaultMessage:"Requires legend to be shown"}),condition:"hide"===t,position:"top",delay:"regular",display:"block"},Object(l.jsx)(o.EuiSwitch,{compressed:!0,label:p.i18n.translate("xpack.lens.shared.truncateLegend",{defaultMessage:"Truncate text"}),"data-test-subj":"lens-legend-truncate-switch",showLabel:!1,disabled:"hide"===t,checked:null==I||I,onChange:M}))),Object(l.jsx)(o.EuiFormRow,{label:p.i18n.translate("xpack.lens.shared.maxLinesLabel",{defaultMessage:"Maximum lines"}),fullWidth:!0,display:"columnCompressed"},Object(l.jsx)(g,{tooltipContent:"hide"===t?p.i18n.translate("xpack.lens.shared.legendVisibleTooltip",{defaultMessage:"Requires legend to be shown"}):p.i18n.translate("xpack.lens.shared.legendIsTruncated",{defaultMessage:"Requires text to be truncated"}),condition:"hide"===t||!I,position:"top",delay:"regular",display:"block"},Object(l.jsx)(D,{value:null!=L?L:1,setValue:C,isDisabled:"hide"===t||!I}))),y&&Object(l.jsx)(o.EuiFormRow,{display:"columnCompressedSwitch",label:p.i18n.translate("xpack.lens.shared.nestedLegendLabel",{defaultMessage:"Nested"})},Object(l.jsx)(g,{tooltipContent:p.i18n.translate("xpack.lens.shared.legendVisibleTooltip",{defaultMessage:"Requires legend to be shown"}),condition:"hide"===t,position:"top",delay:"regular",display:"block"},Object(l.jsx)(o.EuiSwitch,{compressed:!0,label:p.i18n.translate("xpack.lens.pieChart.nestedLegendLabel",{defaultMessage:"Nested"}),"data-test-subj":"lens-legend-nested-switch",showLabel:!1,disabled:"hide"===t,checked:!!x,onChange:_}))),k&&Object(l.jsx)(o.EuiFormRow,{display:"columnCompressedSwitch",label:p.i18n.translate("xpack.lens.shared.valueInLegendLabel",{defaultMessage:"Show value"})},Object(l.jsx)(g,{tooltipContent:p.i18n.translate("xpack.lens.shared.legendVisibleTooltip",{defaultMessage:"Requires legend to be shown"}),condition:"hide"===t,position:"top",delay:"regular",display:"block"},Object(l.jsx)(o.EuiSwitch,{compressed:!0,label:p.i18n.translate("xpack.lens.shared.valueInLegendLabel",{defaultMessage:"Show value"}),"data-test-subj":"lens-legend-show-value",showLabel:!1,disabled:"hide"===t,checked:!!w,onChange:P}))));function k({palettes:e,activePalette:t,setPalette:n}){const a=e.getAll().filter((({internal:e})=>!e)).map((({id:e,title:n,getCategoricalColors:a})=>({value:e,title:n,type:"fixed",palette:a(10,e===(null==t?void 0:t.name)?null==t?void 0:t.params:void 0)})));return Object(l.jsx)(o.EuiFormRow,{display:"columnCompressed",fullWidth:!0,label:p.i18n.translate("xpack.lens.palettePicker.label",{defaultMessage:"Color palette"})},Object(l.jsx)(r.a.Fragment,null,Object(l.jsx)(o.EuiColorPalettePicker,{"data-test-subj":"lns-palettePicker",compressed:!0,palettes:a,onChange:e=>{n({type:"palette",name:e})},valueOfSelected:(null==t?void 0:t.name)||"default",selectionDisplay:"palette"})))}var S=n(115),L=n.n(S),C=n(76);function I({palettes:e,activePalette:t,setPalette:n,showCustomPalette:a,showDynamicColorOnly:r,...i}){const u=e.getAll().filter((({internal:e,canDynamicColoring:t})=>r?t:!e)).map((({id:e,title:n,getCategoricalColors:a})=>{var r;const o=a((null==t||null===(r=t.params)||void 0===r?void 0:r.steps)||C.b,e===(null==t?void 0:t.name)?null==t?void 0:t.params:void 0);return{value:e,title:n,type:C.g,palette:o,"data-test-subj":`${e}-palette`}}));return a&&u.push(function(e,t){var n;const{id:a,title:r}=e.get(C.a);if(t&&t.name!==C.a){const n=e.get(t.name);if(n){var o,i;const e=n.getCategoricalColors((null==t||null===(o=t.params)||void 0===o?void 0:o.steps)||C.b,null==t?void 0:t.params),s=null!==(i=t.params)&&void 0!==i&&i.reverse?e.reverse():e;return{value:a,title:r,type:C.g,palette:s,"data-test-subj":"custom-palette"}}}return null!=t&&null!==(n=t.params)&&void 0!==n&&n.stops?{value:a,title:r,type:C.g,"data-test-subj":"custom-palette",palette:(t.params.colorStops||t.params.stops).map((e=>e.color))}:{value:a,title:r,type:"text","data-test-subj":"custom-palette"}}(e,t)),Object(l.jsx)(o.EuiColorPalettePicker,s()({"data-test-subj":"lns-palettePicker",compressed:!0,palettes:u,onChange:e=>{n({type:"palette",name:e})},valueOfSelected:(null==t?void 0:t.name)||C.h.name,selectionDisplay:"palette"},i))}n(166);var M=n(74),E=n(32);const T=e=>Object(l.jsx)("svg",s()({width:"15",height:"12",viewBox:"0 0 15 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Object(l.jsx)("path",{d:"M4 .5a.5.5 0 0 1 1 0v11a.5.5 0 0 1-1 0V.5ZM0 3a1 1 0 0 1 1-1h2v8H1a1 1 0 0 1-1-1V3ZM10.5 0a.5.5 0 0 0-.5.5v11a.5.5 0 0 0 1 0V.5a.5.5 0 0 0-.5-.5ZM6 2h3v8H6V2ZM14 2h-2v8h2a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1Z"})),A=r.a.createContext({});function z({dispatch:e,shouldDisableAdd:t=!1,shouldDisableReverse:n=!1,shouldDisableDistribute:r=!1}){const{dataBounds:i,palettes:s}=Object(a.useContext)(A),u=Object(a.useCallback)((()=>{e({type:"addColorRange",payload:{dataBounds:i,palettes:s}})}),[i,e,s]),c=Object(a.useCallback)((()=>{e({type:"reversePalette",payload:{dataBounds:i,palettes:s}})}),[e,i,s]),d=Object(a.useCallback)((()=>{e({type:"distributeEqually",payload:{dataBounds:i,palettes:s}})}),[i,e,s]),f=p.i18n.translate("xpack.lens.dynamicColoring.customPalette.oneColorRange",{defaultMessage:"Requires more than one color"});return Object(l.jsx)(o.EuiFlexGroup,{justifyContent:"flexStart",gutterSize:"none",wrap:!0},Object(l.jsx)(o.EuiFlexItem,{grow:!1},Object(l.jsx)(g,{tooltipContent:p.i18n.translate("xpack.lens.dynamicColoring.customPalette.maximumStepsApplied",{defaultMessage:"You've applied the maximum number of steps"}),condition:t,position:"top",delay:"regular"},Object(l.jsx)(o.EuiButtonEmpty,{"data-test-subj":"lnsPalettePanel_dynamicColoring_addColor",iconType:"plusInCircle",color:"primary","aria-label":p.i18n.translate("xpack.lens.dynamicColoring.customPalette.addColorAriaLabel",{defaultMessage:"Add color"}),size:"xs",flush:"left",disabled:t,onClick:u},Object(l.jsx)(E.FormattedMessage,{id:"xpack.lens.dynamicColoring.customPalette.addColor",defaultMessage:"Add color"})))),Object(l.jsx)(o.EuiFlexItem,{grow:!1},Object(l.jsx)(g,{tooltipContent:f,condition:n,position:"top",delay:"regular"},Object(l.jsx)(o.EuiButtonEmpty,{"data-test-subj":"lnsPalettePanel_dynamicColoring_reverseColors",iconType:"sortable",color:"primary","aria-label":p.i18n.translate("xpack.lens.dynamicColoring.customPaletteAriaLabel",{defaultMessage:"Reverse colors"}),size:"xs",flush:"left",onClick:c,disabled:n},Object(l.jsx)(E.FormattedMessage,{id:"xpack.lens.dynamicColoring.customPalette.reverseColors",defaultMessage:"Reverse colors"})))),Object(l.jsx)(o.EuiFlexItem,{grow:!1},Object(l.jsx)(g,{tooltipContent:f,condition:r,position:"top",delay:"regular"},Object(l.jsx)(o.EuiButtonEmpty,{"data-test-subj":"lnsPalettePanel_dynamicColoring_distributeValues",iconType:T,color:"primary","aria-label":p.i18n.translate("xpack.lens.dynamicColoring.customPalette.distributeValuesAriaLabel",{defaultMessage:"Distribute values"}),size:"xs",flush:"left",disabled:r,onClick:d},Object(l.jsx)(E.FormattedMessage,{id:"xpack.lens.dynamicColoring.customPalette.distributeValues",defaultMessage:"Distribute values"})))))}var F=n(173),R=n.n(F);const N=e=>Object(l.jsx)("svg",s()({width:"24",height:"24",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),Object(l.jsx)("path",{d:"M6 .5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5V8h4V6.5a.5.5 0 0 1 .82-.384l3 2.5a.5.5 0 0 1 0 .768l-3 2.5A.5.5 0 0 1 12 11.5V10H6.5a.5.5 0 0 1-.5-.5v-9Z"}));var W=n(96);const B=e=>Object(l.jsx)("svg",s()({width:"16",height:"14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Object(l.jsx)("path",{d:"M8 0a.5.5 0 0 1 .384.18l2.5 3A.5.5 0 0 1 10.5 4h-5a.5.5 0 0 1-.384-.82l2.5-3A.5.5 0 0 1 8 0ZM.916 5.223A.5.5 0 0 0 0 5.5v5a.5.5 0 0 0 1 0V7.151l1.084 1.626a.5.5 0 0 0 .832 0L4 7.151V10.5a.5.5 0 0 0 1 0v-5a.5.5 0 0 0-.916-.277L2.5 7.599.916 5.223Z"}),Object(l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.5 5h-.545l-.098.006a3.572 3.572 0 0 0-1.33.36 2.693 2.693 0 0 0-1.052.911C6.18 6.72 6 7.287 6 8v2.5a.5.5 0 0 0 1 0V9h2v1.5a.5.5 0 0 0 1 0v-5a.5.5 0 0 0-.5-.5Zm-.5.5V5v.5ZM7 8h2V6h-.011a2.57 2.57 0 0 0-.297.032c-.202.034-.463.1-.718.228a1.695 1.695 0 0 0-.667.572C7.133 7.092 7 7.462 7 8Z"}),Object(l.jsx)("path",{d:"M11.188 5.11a.5.5 0 0 1 .702.078L13.5 7.2l1.61-2.012a.5.5 0 1 1 .78.624L14.14 8l1.75 2.188a.5.5 0 1 1-.78.624L13.5 8.8l-1.61 2.012a.5.5 0 0 1-.78-.624L12.86 8l-1.75-2.188a.5.5 0 0 1 .078-.702Z"})),V=e=>Object(l.jsx)("svg",s()({width:"16",height:"14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Object(l.jsx)("path",{d:"M10.367.018a.5.5 0 0 1 .562.225L13 3.695V.5a.5.5 0 0 1 1 0v5a.5.5 0 0 1-.929.257L11 2.305V5.5a.5.5 0 0 1-1 0v-5a.5.5 0 0 1 .367-.482ZM.916.223A.5.5 0 0 0 0 .5v5a.5.5 0 0 0 1 0V2.151l1.084 1.626a.5.5 0 0 0 .832 0L4 2.151V5.5a.5.5 0 0 0 1 0v-5a.5.5 0 0 0-.916-.277L2.5 2.599.916.223ZM7 11a.5.5 0 0 0 .384-.18l2.5-3A.5.5 0 0 0 9.5 7h-5a.5.5 0 0 0-.384.82l2.5 3A.5.5 0 0 0 7 11ZM6.5 0a.5.5 0 0 0 0 1H7v4h-.5a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1H8V1h.5a.5.5 0 0 0 0-1h-2Z"})),q=(e,t)=>{switch(t){case"none":return e?"above":"below";case"above":return e?"none":"all";case"below":return e?"all":"none";case"all":return e?"below":"above"}};function G({index:e,dispatch:t}){const{dataBounds:n,palettes:r}=Object(a.useContext)(A),i=Object(a.useCallback)((()=>{t({type:"deleteColorRange",payload:{index:e,dataBounds:n,palettes:r}})}),[t,e,n,r]),s=p.i18n.translate("xpack.lens.dynamicColoring.customPalette.deleteButtonAriaLabel",{defaultMessage:"Delete"});return Object(l.jsx)(o.EuiButtonIcon,{iconType:"trash",color:"danger","aria-label":s,title:s,onClick:i,"data-test-subj":`lnsPalettePanel_dynamicColoring_removeColorRange_${e}`})}function H({index:e,continuity:t,dispatch:n,accessor:r}){const{dataBounds:i,palettes:s,disableSwitchingContinuity:u}=Object(a.useContext)(A),c=Object(W.e)(r),d=Object(a.useCallback)((()=>{const e=q(c,t);n({type:"updateContinuity",payload:{isLast:c,continuity:e,dataBounds:i,palettes:s}})}),[c,n,t,i,s]);let f=c?p.i18n.translate("xpack.lens.dynamicColoring.customPalette.setCustomMinValue",{defaultMessage:"Set custom maximum value"}):p.i18n.translate("xpack.lens.dynamicColoring.customPalette.setCustomMaxValue",{defaultMessage:"Set custom minimum value"});return u&&(f=p.i18n.translate("xpack.lens.dynamicColoring.customPalette.disallowedEditMinMaxValues",{defaultMessage:"You cannot set custom value for current configuration"})),Object(l.jsx)(g,{tooltipContent:f,condition:!0,position:"top",delay:"regular"},Object(l.jsx)(o.EuiButtonIcon,{iconType:"pencil","aria-label":f,disabled:u,onClick:d,"data-test-subj":`lnsPalettePanel_dynamicColoring_editValue_${e}`}))}function $({continuity:e,dispatch:t,accessor:n}){const{dataBounds:r,palettes:i}=Object(a.useContext)(A),s=Object(W.e)(n),u=Object(a.useCallback)((()=>{const n=q(s,e);t({type:"updateContinuity",payload:{isLast:s,continuity:n,dataBounds:r,palettes:i}})}),[e,r,t,s,i]),c=s?p.i18n.translate("xpack.lens.dynamicColoring.customPalette.useAutoMaxValue",{defaultMessage:"Use maximum data value"}):p.i18n.translate("xpack.lens.dynamicColoring.customPalette.useAutoMinValue",{defaultMessage:"Use minimum data value"});return Object(l.jsx)(g,{tooltipContent:c,condition:!0,position:"top",delay:"regular"},Object(l.jsx)(o.EuiButtonIcon,{iconType:s?B:V,"aria-label":c,onClick:u,"data-test-subj":"lnsPalettePanel_dynamicColoring_autoDetect_"+(s?"maximum":"minimum")}))}var U=n(39);const Y=e=>e?p.i18n.translate("xpack.lens.dynamicColoring.customPalette.maxValuePlaceholder",{defaultMessage:"Max. value"}):p.i18n.translate("xpack.lens.dynamicColoring.customPalette.minValuePlaceholder",{defaultMessage:"Min. value"}),K=(e,t)=>{const n=[];return"percent"===e&&"auto"!==t&&n.push("%"),n};function Q({accessor:e,index:t,colorRange:n,rangeType:r,colorRanges:i,validation:s,continuity:u,dispatch:c}){var d;const{dataBounds:f,palettes:g}=Object(a.useContext)(A),[b,h]=Object(a.useState)(!1),[m,v]=Object(a.useState)(n[e]),y=Object(W.e)(e),x=((e,t,n)=>!t&&e>0?"value":(t?U.checkIsMaxContinuity:U.checkIsMinContinuity)(n)?"auto":"edit")(t,y,u),j="auto"===x,_=Object(M.h)(n.color),w=(e=>"value"===e?G:"edit"===e?$:H)(x),O=null===(d=null==s?void 0:s.isValid)||void 0===d||d,D=Object(a.useCallback)((e=>{var a,r,o,s,l,u,d;const p=null!==(a=null===(r=i[t-1])||void 0===r?void 0:r.start)&&void 0!==a?a:Number.NEGATIVE_INFINITY,h=null!==(o=null===(s=i[t+1])||void 0===s?void 0:s.start)&&void 0!==o?o:Number.POSITIVE_INFINITY,m=null!==(l=null===(u=i[i.length-1])||void 0===u?void 0:u.end)&&void 0!==l?l:Number.POSITIVE_INFINITY,v=n.start>h||p>n.start||!y&&n.start>m,x=(null===(d=e.currentTarget)||void 0===d?void 0:d.contains(e.relatedTarget))||b;v&&!x&&c({type:"sortColorRanges",payload:{dataBounds:f,palettes:g}})}),[n.start,i,c,t,b,f,g,y]),P=Object(a.useCallback)((({target:{value:n}})=>{v(n),c({type:"updateValue",payload:{index:t,value:n,accessor:e,dataBounds:f,palettes:g}})}),[c,t,e,f,g]),k=Object(a.useCallback)((e=>{c({type:"updateColor",payload:{index:t,color:e,dataBounds:f,palettes:g}})}),[c,t,f,g]);R()((()=>{Number.isNaN(n[e])||n[e]===m||v(n[e])}),[m,n,e]);const S=p.i18n.translate("xpack.lens.dynamicColoring.customPalette.selectNewColor",{defaultMessage:"Select a new color"});return Object(l.jsx)(o.EuiFlexGroup,{alignItems:"center",gutterSize:"s",wrap:!1},Object(l.jsx)(o.EuiFlexItem,{grow:!1},y?Object(l.jsx)(o.EuiIcon,{type:N,size:"l"}):Object(l.jsx)(o.EuiColorPicker,{onChange:k,button:_?Object(l.jsx)(o.EuiColorPickerSwatch,{color:n.color,"aria-label":S}):Object(l.jsx)(o.EuiButtonIcon,{color:"danger",iconType:"stopSlash",iconSize:"l","aria-label":S}),secondaryInputDisplay:"top",color:n.color,showAlpha:!0,onFocus:()=>h(!0),onBlur:()=>{h(!1)},isInvalid:!_})),Object(l.jsx)(o.EuiFlexItem,{grow:!0},Object(l.jsx)(o.EuiFieldNumber,{compressed:!0,fullWidth:!0,isInvalid:!O,value:"auto"!==x&&void 0!==m&&isFinite(m)?m:"",disabled:j,onChange:P,placeholder:"auto"===x?Y(y):"",append:K(r,x),onBlur:D,"data-test-subj":`lnsPalettePanel_dynamicColoring_range_value_${t}`,prepend:Object(l.jsx)("span",{className:"euiFormLabel"},y?"≤":"≥"),"aria-label":p.i18n.translate("xpack.lens.dynamicColoring.customPalette.rangeAriaLabel",{defaultMessage:"Range {index}",values:{index:t+1}}),step:"any"})),w?Object(l.jsx)(o.EuiFlexItem,{grow:!1},Object(l.jsx)(w,{index:t,continuity:u,rangeType:r,colorRanges:i,dispatch:c,accessor:e})):null)}const Z=(e,t)=>{const n=[];return Number.isNaN(e[t])&&n.push("invalidValue"),"end"===t?e.start>e.end&&n.push("greaterThanMaxValue"):Object(M.h)(e.color)||n.push("invalidColor"),{isValid:!n.length,errors:n}},X=e=>({...e.reduce(((e,t,n)=>({...e,[n]:Z(t,"start")})),{}),last:Z(e[e.length-1],"end")});function J({colorRanges:e,paletteConfiguration:t,showExtraActions:n=!0,dispatch:r}){var i,s;const[u,c]=Object(a.useState)({}),d=e[e.length-1],f=(e=>[...new Set(Object.values(e).map((e=>e.errors)).flat().map((e=>{switch(e){case"invalidColor":case"invalidValue":return p.i18n.translate("xpack.lens.dynamicColoring.customPalette.invalidValueOrColor",{defaultMessage:"At least one color range contains the wrong value or color"});case"greaterThanMaxValue":return p.i18n.translate("xpack.lens.dynamicColoring.customPalette.invalidMaxValue",{defaultMessage:"Maximum value must be greater than preceding values"});default:return""}})))])(u),g=null!==(i=null==t?void 0:t.continuity)&&void 0!==i?i:C.h.continuity,b=null!==(s=null==t?void 0:t.rangeType)&&void 0!==s?s:C.h.rangeType;return Object(a.useEffect)((()=>{c(X(e))}),[e]),Object(l.jsx)(o.EuiFlexGroup,{"data-test-subj":"lnsPalettePanel_dynamicColoring_custom_color_ranges",direction:"column",gutterSize:"s"},e.map(((t,n)=>{var a,i;return Object(l.jsx)(o.EuiFlexItem,{grow:!1,key:`${null!==(a=null!==(i=t.end)&&void 0!==i?i:0+t.start)&&void 0!==a?a:0}${n}`},Object(l.jsx)(Q,{colorRange:t,dispatch:r,colorRanges:e,continuity:g,rangeType:b,index:n,validation:u[n],accessor:"start"}))})),d?Object(l.jsx)(o.EuiFlexItem,{grow:!1},Object(l.jsx)(Q,{colorRange:d,dispatch:r,colorRanges:e,continuity:g,rangeType:b,index:e.length-1,validation:u.last,accessor:"end"})):null,Object(l.jsx)(o.EuiFlexItem,{grow:!1},f.map((e=>Object(l.jsx)(o.EuiTextColor,{color:"danger",key:`${Object(y.camelCase)(e)}`},e)))),n?Object(l.jsx)(o.EuiFlexItem,{grow:!1},Object(l.jsx)(z,{dispatch:r,shouldDisableAdd:Boolean((null==t?void 0:t.maxSteps)&&e.length>=(null==t?void 0:t.maxSteps)||f.length),shouldDisableDistribute:Boolean(1===e.length),shouldDisableReverse:Boolean(1===e.length)})):null)}const ee=(e,t)=>{switch(t.type){case"updateContinuity":{var n,a;const{continuity:r,isLast:o,dataBounds:i,palettes:s}=t.payload,l=null!==(n=null===(a=e.activePalette.params)||void 0===a?void 0:a.rangeType)&&void 0!==n?n:C.f,u=Object(W.d)(e.colorRanges,r,o,l,i);return Object(M.o)(s,e.activePalette,Object(W.j)(o?e.colorRanges.length-1:0,`${u}`,o?"end":"start",e.colorRanges),i,r)}case"addColorRange":{var r,o;const{dataBounds:n,palettes:a}=t.payload;return Object(M.o)(a,e.activePalette,Object(W.a)(e.colorRanges,null!==(r=null===(o=e.activePalette.params)||void 0===o?void 0:o.rangeType)&&void 0!==r?r:C.f,n),n)}case"reversePalette":{const{dataBounds:n,palettes:a}=t.payload;return Object(M.o)(a,e.activePalette,Object(W.f)(e.colorRanges),n)}case"distributeEqually":{var i,s,l;const{dataBounds:n,palettes:a}=t.payload;return Object(M.o)(a,e.activePalette,Object(W.c)(e.colorRanges,null===(i=e.activePalette.params)||void 0===i?void 0:i.rangeType,null!==(s=null===(l=e.activePalette.params)||void 0===l?void 0:l.continuity)&&void 0!==s?s:C.c,n),n)}case"updateColor":{const{index:n,color:a,palettes:r,dataBounds:o}=t.payload;return Object(M.o)(r,e.activePalette,Object(W.i)(n,a,e.colorRanges),o)}case"sortColorRanges":{const{dataBounds:n,palettes:a}=t.payload;return Object(M.o)(a,e.activePalette,Object(W.g)(e.colorRanges),n)}case"updateValue":{const{index:n,value:a,accessor:r,dataBounds:o,palettes:i}=t.payload;return Object(M.o)(i,e.activePalette,Object(W.j)(n,a,r,e.colorRanges),o)}case"deleteColorRange":{const{index:n,dataBounds:a,palettes:r}=t.payload;return Object(M.o)(r,e.activePalette,Object(W.b)(n,e.colorRanges),a)}case"updateRangeType":{const{dataBounds:n,palettes:a,rangeType:r}=t.payload,o=Object(M.m)(r,e.activePalette,n,a,e.colorRanges),i=Object(M.i)(e.activePalette,o);return Object(M.n)(a,i,n)}case"changeColorPalette":{const{dataBounds:n,palettes:a,palette:r,disableSwitchingContinuity:o}=t.payload,i=Object(M.b)(r,e.activePalette,a,n,o);return Object(M.n)(a,i,n)}default:throw new Error("wrong action")}};function te({palettes:e,activePalette:t,setPalette:n,dataBounds:i=Object(M.f)((()=>{var e;return null===(e=t.params)||void 0===e?void 0:e.rangeType})()),showRangeTypeSelector:s=!0,disableSwitchingContinuity:u=!1}){var c,d,f,g;const b=Object(a.useMemo)((()=>Object(o.htmlIdGenerator)()()),[]),h=Object(M.l)(e,(null===(c=t.params)||void 0===c?void 0:c.colorStops)||[],t,i),[m,v]=Object(a.useReducer)(ee,{activePalette:t,colorRanges:h});return L()((()=>{var e;m.activePalette===t&&h===m.colorRanges||(e=m.colorRanges,!Object.values(X(e)).every((e=>e.isValid)))||n(m.activePalette)}),250,[m]),Object(l.jsx)("div",{className:"lnsPalettePanel__section lnsPalettePanel__section--shaded"},Object(l.jsx)(o.EuiFormRow,{display:"rowCompressed",label:p.i18n.translate("xpack.lens.palettePicker.label",{defaultMessage:"Color palette"}),fullWidth:!0},Object(l.jsx)(I,{"data-test-subj":"lnsPalettePanel_dynamicColoring_palette_picker",palettes:e,activePalette:m.activePalette,setPalette:n=>{n.name!==t.name&&v({type:"changeColorPalette",payload:{palette:n,dataBounds:i,palettes:e,disableSwitchingContinuity:u}})},showCustomPalette:!0,showDynamicColorOnly:!0})),s&&Object(l.jsx)(o.EuiFormRow,{label:Object(l.jsx)(r.a.Fragment,null,p.i18n.translate("xpack.lens.table.dynamicColoring.rangeType.label",{defaultMessage:"Value type"})," ",Object(l.jsx)(o.EuiIconTip,{content:p.i18n.translate("xpack.lens.table.dynamicColoring.customPalette.colorStopsHelpPercentage",{defaultMessage:"Percent value types are relative to the full range of available data values."}),position:"top",size:"s"})),display:"rowCompressed"},Object(l.jsx)(o.EuiButtonGroup,{legend:p.i18n.translate("xpack.lens.table.dynamicColoring.rangeType.label",{defaultMessage:"Value type"}),"data-test-subj":"lnsPalettePanel_dynamicColoring_custom_range_groups",name:"dynamicColoringRangeType",buttonSize:"compressed",options:[{id:`${b}percent`,label:p.i18n.translate("xpack.lens.table.dynamicColoring.rangeType.percent",{defaultMessage:"Percent"}),"data-test-subj":"lnsPalettePanel_dynamicColoring_rangeType_groups_percent"},{id:`${b}number`,label:p.i18n.translate("xpack.lens.table.dynamicColoring.rangeType.number",{defaultMessage:"Number"}),"data-test-subj":"lnsPalettePanel_dynamicColoring_rangeType_groups_number"}],idSelected:null!==(d=m.activePalette.params)&&void 0!==d&&d.rangeType?`${b}${null===(f=m.activePalette.params)||void 0===f?void 0:f.rangeType}`:`${b}percent`,onChange:t=>{const n=t.replace(b,"");v({type:"updateRangeType",payload:{rangeType:n,dataBounds:i,palettes:e}})},isFullWidth:!0})),Object(l.jsx)(o.EuiFormRow,{label:p.i18n.translate("xpack.lens.palettePicker.colorRangesLabel",{defaultMessage:"Color Ranges"}),display:"rowCompressed",fullWidth:!0},Object(l.jsx)(A.Provider,{value:{dataBounds:i,palettes:e,disableSwitchingContinuity:u}},Object(l.jsx)(J,{paletteConfiguration:null===(g=m.activePalette)||void 0===g?void 0:g.params,colorRanges:m.colorRanges,dispatch:v}))))}function ne({isOpen:e,handleClose:t,siblingRef:n,children:r}){const[i,s]=Object(a.useState)(!1),u=()=>{t(),s(!1)};return Object(a.useEffect)((()=>{e&&setTimeout((()=>{s(!0)}),255)}),[e]),e&&n.current?Object(l.jsx)(o.EuiPortal,{insert:{sibling:n.current,position:"after"}},Object(l.jsx)(o.EuiFocusTrap,{disabled:!i,clickOutsideDisables:!0},Object(l.jsx)(o.EuiOutsideClickDetector,{onOutsideClick:u,isDisabled:!e},Object(l.jsx)("div",{role:"dialog","aria-labelledby":"lnsPalettePanelContainerTitle","data-test-subj":"lns-indexPattern-PalettePanelContainer",className:"lnsPalettePanelContainer"},Object(l.jsx)(o.EuiFlyoutHeader,{hasBorder:!0,className:"lnsPalettePanelContainer__header"},Object(l.jsx)(o.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},Object(l.jsx)(o.EuiFlexItem,{grow:!1},Object(l.jsx)(o.EuiButtonIcon,{color:"text","data-test-subj":"lns-indexPattern-PalettePanelContainerBack",className:"lnsPalettePanelContainer__backIcon",onClick:u,iconType:"sortLeft","aria-label":p.i18n.translate("xpack.lens.table.palettePanelContainer.back",{defaultMessage:"Back"})})),Object(l.jsx)(o.EuiFlexItem,null,Object(l.jsx)(o.EuiTitle,{size:"xs"},Object(l.jsx)("h2",{id:"lnsPalettePanelContainerTitle",className:"lnsPalettePanelContainer__headerTitle"},Object(l.jsx)("strong",null,p.i18n.translate("xpack.lens.table.palettePanelTitle",{defaultMessage:"Edit color"}))))))),r&&Object(l.jsx)("div",{className:"lnsPalettePanelContainer__content"},r),Object(l.jsx)(o.EuiFlyoutFooter,{className:"lnsPalettePanelContainer__footer"},Object(l.jsx)(o.EuiButtonEmpty,{flush:"left",size:"s",iconType:"sortLeft",onClick:u},p.i18n.translate("xpack.lens.table.palettePanelContainer.back",{defaultMessage:"Back"}))))))):null}n(176);const ae=(e,{skipFirstRender:t}={skipFirstRender:!1},n,r)=>{const o=Object(a.useRef)(!0),i=[...r||[],o];return L()((()=>{if(!t||!o.current)return e();o.current=!1}),n,i)},re=({value:e,onChange:t,defaultValue:n})=>{const{inputValue:a,handleInputChange:r,initialValue:i}=x({onChange:t,value:e,defaultValue:n});return Object(l.jsx)(o.EuiFormRow,{label:p.i18n.translate("xpack.lens.indexPattern.columnLabel",{defaultMessage:"Name",description:"Name of a column of data"}),display:"columnCompressed",fullWidth:!0},Object(l.jsx)(o.EuiFieldText,{compressed:!0,"data-test-subj":"indexPattern-label-edit",value:a,onChange:e=>{r(e.target.value)},placeholder:i}))},oe=[{id:"value_labels_hide",value:"hide",label:p.i18n.translate("xpack.lens.shared.valueLabelsVisibility.auto",{defaultMessage:"Hide"}),"data-test-subj":"lns_valueLabels_hide"},{id:"value_labels_inside",value:"inside",label:p.i18n.translate("xpack.lens.shared.valueLabelsVisibility.inside",{defaultMessage:"Show"}),"data-test-subj":"lns_valueLabels_inside"}],ie=({isVisible:e=!0,valueLabels:t="hide",onValueLabelChange:n})=>{var a;if(!e)return null;const r=p.i18n.translate("xpack.lens.shared.chartValueLabelVisibilityLabel",{defaultMessage:"Labels"}),i=(null===(a=oe.find((({value:e})=>e===t)))||void 0===a?void 0:a.id)||"value_labels_hide";return Object(l.jsx)(o.EuiFormRow,{display:"columnCompressed",label:Object(l.jsx)("span",null,r)},Object(l.jsx)(o.EuiButtonGroup,{isFullWidth:!0,legend:r,"data-test-subj":"lens-value-labels-visibility-btn",name:"valueLabelsDisplay",buttonSize:"compressed",options:oe,idSelected:i,onChange:e=>{const t=oe.find((({id:t})=>t===e));t&&n(t.value)}}))},se=({axis:e,axisTitle:t,updateTitleState:n,isAxisTitleVisible:i,toggleAxisTitleVisibility:s})=>{const{inputValue:u,handleInputChange:c}=x({value:t||"",onChange:n},{allowFalsyValue:!0}),[d,f]=Object(a.useState)(u?i?"custom":"none":"auto"),g=Object(a.useCallback)((t=>{const n="none"!==t;n!==i&&s(e,n),f(t)}),[e,i,s]);return Object(l.jsx)(r.a.Fragment,null,Object(l.jsx)(o.EuiFormRow,{display:"columnCompressed",label:p.i18n.translate("xpack.lens.label.shared.axisHeader",{defaultMessage:"Axis title"}),fullWidth:!0},Object(l.jsx)(he,{header:p.i18n.translate("xpack.lens.shared.axisNameLabel",{defaultMessage:"Axis title"}),dataTestSubj:`lns${e}AxisTitle`,label:u||"",mode:d,placeholder:p.i18n.translate("xpack.lens.shared.overwriteAxisTitle",{defaultMessage:"Overwrite axis title"}),hasAutoOption:!0,handleChange:({mode:e,label:t})=>{u!==t&&c(t),g(e)}})),Object(l.jsx)(o.EuiSpacer,{size:"s"}))};n(181);const le=({children:e,title:t})=>Object(l.jsx)("div",{className:"lnsDimensionEditorSection"},Object(l.jsx)("div",{className:"lnsDimensionEditorSection__border"}),t&&Object(l.jsx)(o.EuiTitle,{size:"xxs",className:"lnsDimensionEditorSection__heading"},Object(l.jsx)("h3",null,t)),e),ue=({label:e,icon:t})=>Object(l.jsx)(o.EuiFlexGroup,{gutterSize:"s",alignItems:"center",responsive:!1,className:"lnsLayerPanel__settingsStaticHeader"},t&&Object(l.jsx)(o.EuiFlexItem,{grow:!1},Object(l.jsx)(o.EuiIcon,{type:t})," "),Object(l.jsx)(o.EuiFlexItem,{grow:!0},Object(l.jsx)(o.EuiTitle,{size:"xxs"},Object(l.jsx)("h5",null,e)))),ce=p.i18n.translate("xpack.lens.label.header",{defaultMessage:"Label"}),de={id:"lns_title_none",value:"none",text:p.i18n.translate("xpack.lens.chart.labelVisibility.none",{defaultMessage:"None"})},pe={id:"lns_title_custom",value:"custom",text:p.i18n.translate("xpack.lens.chart.labelVisibility.custom",{defaultMessage:"Custom"})},fe={id:"lns_title_auto",value:"auto",text:p.i18n.translate("xpack.lens.chart.labelVisibility.auto",{defaultMessage:"Auto"})},ge=[de,pe],be=[de,fe,pe];function he({label:e,mode:t,handleChange:n,hasAutoOption:a=!1,placeholder:r="",header:i=ce,dataTestSubj:s}){return Object(l.jsx)(o.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},Object(l.jsx)(o.EuiFlexItem,{grow:!1},Object(l.jsx)(o.EuiSelect,{fullWidth:!0,compressed:!0,"data-test-subj":`${s}-select`,"aria-label":"Label",onChange:({target:e})=>{e.value,n({label:"",mode:e.value})},options:a?be:ge,value:t})),Object(l.jsx)(o.EuiFlexItem,null,Object(l.jsx)(o.EuiFieldText,{"data-test-subj":s,compressed:!0,placeholder:"none"===t?"":r,value:e||"",disabled:"none"===t,onChange:({target:e})=>n({mode:"custom",label:e.value}),"aria-label":i})))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return factory_LensReportManager}));var a=n(1),r=n.n(a),o=n(42),i=n.n(o),s=n(11);const l="lens-ui-telemetry";let u;function c(e){u&&u.stop(),u=e}function d(){u&&u.stop()}function p(e){u&&u.trackEvent(e)}function f(e){u&&u.trackSuggestionEvent(e)}class factory_LensReportManager{constructor({storage:e,http:t}){r()(this,"events",{}),r()(this,"suggestionEvents",{}),r()(this,"storage",void 0),r()(this,"http",void 0),r()(this,"timer",void 0),this.storage=e,this.http=t,this.readFromStorage(),this.timer=setInterval((()=>{this.postToServer()}),1e4)}trackEvent(e){this.readFromStorage(),this.trackTo(this.events,e)}trackSuggestionEvent(e){this.readFromStorage(),this.trackTo(this.suggestionEvents,e)}stop(){this.timer&&clearInterval(this.timer)}readFromStorage(){const e=this.storage.get(l);e&&"object"==typeof e.events&&"object"==typeof e.suggestionEvents&&(this.events=e.events,this.suggestionEvents=e.suggestionEvents)}async postToServer(){if(this.readFromStorage(),Object.keys(this.events).length||Object.keys(this.suggestionEvents).length)try{await this.http.post(`${s.b}/stats`,{body:JSON.stringify({events:this.events,suggestionEvents:this.suggestionEvents})}),this.events={},this.suggestionEvents={},this.write()}catch(e){e.response&&403===e.response.status&&this.stop()}}trackTo(e,t){const n=i()().utc().format("YYYY-MM-DD");e[n]?e[n][t]?e[n][t]+=1:e[n][t]=1:e[n]={[t]:1},this.write()}write(){this.storage.set(l,{events:this.events,suggestionEvents:this.suggestionEvents})}}},function(e,t,n){"use strict";n.d(t,"D",(function(){return j})),n.d(t,"B",(function(){return w})),n.d(t,"F",(function(){return O})),n.d(t,"r",(function(){return P})),n.d(t,"s",(function(){return k})),n.d(t,"w",(function(){return S})),n.d(t,"p",(function(){return L})),n.d(t,"o",(function(){return C})),n.d(t,"A",(function(){return I})),n.d(t,"E",(function(){return E})),n.d(t,"x",(function(){return T})),n.d(t,"y",(function(){return A})),n.d(t,"C",(function(){return F})),n.d(t,"u",(function(){return R})),n.d(t,"t",(function(){return N})),n.d(t,"q",(function(){return W})),n.d(t,"v",(function(){return B})),n.d(t,"z",(function(){return V})),n.d(t,"h",(function(){return q})),n.d(t,"j",(function(){return G})),n.d(t,"I",(function(){return H})),n.d(t,"e",(function(){return $})),n.d(t,"c",(function(){return U})),n.d(t,"b",(function(){return Y})),n.d(t,"H",(function(){return K})),n.d(t,"k",(function(){return Q})),n.d(t,"O",(function(){return Z})),n.d(t,"N",(function(){return X})),n.d(t,"P",(function(){return J})),n.d(t,"g",(function(){return ee})),n.d(t,"M",(function(){return te})),n.d(t,"n",(function(){return ne})),n.d(t,"K",(function(){return ae})),n.d(t,"L",(function(){return re})),n.d(t,"J",(function(){return oe})),n.d(t,"f",(function(){return ie})),n.d(t,"d",(function(){return se})),n.d(t,"l",(function(){return le})),n.d(t,"m",(function(){return ue})),n.d(t,"a",(function(){return ce})),n.d(t,"G",(function(){return de})),n.d(t,"i",(function(){return pe})),n.d(t,"Q",(function(){return fe})),n.d(t,"R",(function(){return ge}));var a=n(108),r=(n(352),n(90)),o=n(83),i=n(144),s=n(103),l=n(25),u=n(114);const c=e=>t=>n=>a=>{if(q.match(a))return Object(i.b)(t,e,a.payload,"true"===Object(s.a)(new l.Storage(localStorage),u.a));n(a)};var d=n(31),p=n(42),f=n.n(p),g=n(73),b=n(49),h=n(69),m=n(35);const v=e=>t=>{const n=function(e,t,n){const{query:a,search:r}=e,{filterManager:o}=a,i=Object(d.debounce)(((e=r.session.start())=>{const i=o.getFilters(),s=Object(d.isEqual)(t().lens.filters,i)?null:{filters:i};n(H({searchSessionId:e,...s,resolvedDateRange:Object(g.getResolvedDateRange)(a.timefilter.timefilter)}))}),100),s=r.session.getSession$().pipe(Object(b.delay)(0)).subscribe((e=>{e&&t().lens.searchSessionId!==e&&i(e)})),l=o.getUpdates$().subscribe({next:()=>{i(),Object(h.e)("app_filters_updated")}}),u=e.query.timefilter.timefilter.getTimeUpdate$().subscribe({next:()=>{i()}}),c=e.query.timefilter.timefilter.getAutoRefreshFetch$().pipe(Object(b.tap)((()=>{i()})),Object(b.switchMap)((e=>Object(m.waitUntilNextSessionCompletes$)(r.session).pipe(Object(b.finalize)(e))))).subscribe();return()=>{l.unsubscribe(),u.unsubscribe(),c.unsubscribe(),s.unsubscribe()}}(e.lensServices.data,t.getState,t.dispatch);return a=>r=>{var i;if(null!==(i=r.payload)&&void 0!==i&&i.searchSessionId||o.e.match(r)||!P(t.getState())&&!Y.match(r)||!function(e,t){var n,a;const{activeDatasourceId:r,datasourceStates:o}=e.lens;return Boolean(r&&o[r]&&(null===(n=(a=t[r]).isTimeBased)||void 0===n?void 0:n.call(a,o[r].state)))}(t.getState(),e.datasourceMap)||function(e,t){const n=e.query.timefilter.timefilter,a=n.getTime();if(!Object(g.containsDynamicMath)(a.from)&&!Object(g.containsDynamicMath)(a.to))return;const{min:r,max:o}=n.getBounds();if(!r||!o)return;const i=f.a.duration(o.diff(r)).asMilliseconds();Date.now()-e.nowProvider.get().valueOf()>Math.max(.02*i,1e4)&&t(H({searchSessionId:e.search.session.start(),resolvedDateRange:Object(g.getResolvedDateRange)(n)}))}(e.lensServices.data,t.dispatch),G.match(r))return n();a(r)}};var y=n(86);const x=e=>e.lens.query,j=e=>e.lens.searchSessionId,_=e=>e.lens.filters,w=e=>e.lens.resolvedDateRange,O=e=>e.lens.visualization,D=e=>e.lens.stagedPreview,P=e=>!e.lens.autoApplyDisabled,k=e=>!e.lens.autoApplyDisabled||Boolean(e.lens.changesApplied),S=e=>e.lens.datasourceStates,L=e=>e.lens.activeDatasourceId,C=e=>e.lens.activeData,I=e=>Boolean(e.lens.isFullscreenDatasource);let M;const E=e=>{const t=e.lens.applyChangesCounter!==M;return M=e.lens.applyChangesCounter,t},T=Object(a.createSelector)([x,_,w],((e,t,n)=>({dateRange:n,query:e,filters:t}))),A=Object(a.createSelector)(T,(e=>({query:e.query,timeRange:{from:e.dateRange.fromDate,to:e.dateRange.toDate},filters:e.filters}))),z=(e,t)=>t,F=Object(a.createSelector)([e=>e.lens.persistedDoc,O,S,x,_,L,z],((e,t,n,a,r,o,{datasourceMap:i,visualizationMap:s,extractFilterReferences:l})=>{const u=t.state&&t.activeId&&s[t.activeId];if(!(n&&o&&!n[o].isLoading?i[o]:void 0)||!u)return;const c=Object.keys(n).reduce(((e,t)=>({...e,[t]:i[t]})),{}),d={},p=[];Object.entries(c).forEach((([e,t])=>{const{state:a,savedObjectReferences:r}=t.getPersistableState(n[e].state);d[e]=a,p.push(...r)}));const{state:f,references:g}=l(r);return p.push(...g),{savedObjectId:null==e?void 0:e.savedObjectId,title:(null==e?void 0:e.title)||"",description:null==e?void 0:e.description,visualizationType:t.activeId,type:"lens",references:p,state:{visualization:t.state,query:a,filters:f,datasourceStates:d}}})),R=Object(a.createSelector)([O,D],((e,t)=>t?t.visualization:e)),N=Object(a.createSelector)([S,D],((e,t)=>t?t.datasourceStates:e)),W=Object(a.createSelector)(S,(e=>Object.values(e).every((({isLoading:e})=>!1===e)))),B=Object(a.createSelector)([S,z],((e,t)=>Object(y.b)(e,t))),V=Object(a.createSelector)([S,C,z,w],((e,t,n,a)=>({datasourceLayers:Object(y.b)(e,n),activeData:t,dateRange:a}))),{loadInitial:q,navigateAway:G,setState:H,enableAutoApply:$,disableAutoApply:U,applyChanges:Y,setSaveable:K,onActiveDataChange:Q,updateState:Z,updateDatasourceState:X,updateVisualizationState:J,insertLayer:ee,switchVisualization:te,rollbackSuggestion:ne,submitSuggestion:ae,switchDatasource:re,setToggleFullscreen:oe,initEmpty:ie,editVisualizationAction:se,removeLayers:le,removeOrClearLayer:ue,addLayer:ce,setLayerDefaultDimension:de}=o.c,pe=(e,t)=>{const n=[...Object(a.getDefaultMiddleware)({serializableCheck:!1}),c(e),e=>t=>n=>{Q.match(n)&&Object(d.isEqual)(e.getState().lens.activeData,n.payload)||t(n)},v(e)];return Object(a.configureStore)({reducer:{lens:Object(o.d)(e)},middleware:n,preloadedState:t})},fe=()=>Object(r.useDispatch)(),ge=r.useSelector},function(e,t,n){e.exports=n(22)(2471)},function(e,t,n){e.exports=n(22)(2469)},function(e,t,n){"use strict";n.r(t),n.d(t,"getVisualizeGeoFieldMessage",(function(){return l})),n.d(t,"getResolvedDateRange",(function(){return u})),n.d(t,"containsDynamicMath",(function(){return c})),n.d(t,"getTimeZone",(function(){return d})),n.d(t,"getActiveDatasourceIdFromDoc",(function(){return p})),n.d(t,"getInitialDatasourceId",(function(){return f})),n.d(t,"getIndexPatternsIds",(function(){return g})),n.d(t,"getIndexPatternsObjects",(function(){return b})),n.d(t,"getRemoveOperation",(function(){return h})),n.d(t,"inferTimeField",(function(){return m}));var a=n(31),r=n(0),o=n(43),i=n.n(o),s=n(35);function l(e){return r.i18n.translate("xpack.lens.visualizeGeoFieldMessage",{defaultMessage:"Lens cannot visualize {fieldType} fields",values:{fieldType:e}})}const u=function(e){const{from:t,to:n}=e.getTime(),{min:a,max:r}=e.calculateBounds({from:t,to:n});return{fromDate:(null==a?void 0:a.toISOString())||t,toDate:(null==r?void 0:r.toISOString())||n}};function c(e){return e.includes("now")}function d(e){const t=e.get("dateFormat:tz");return"Browser"===t?i.a.tz.guess():t}function p(e){if(!e)return null;const[t]=Object.keys(e.state.datasourceStates);return t||null}const f=(e,t)=>t&&p(t)||Object.keys(e)[0]||null;function g({activeDatasources:e,datasourceStates:t}){const n=[];return Object.entries(e).forEach((([e,a])=>{const{savedObjectReferences:r}=a.getPersistableState(t[e].state);n.push(...r)})),Object(a.uniq)(n.filter((({type:e})=>"index-pattern"===e)).map((({id:e})=>e)))}async function b(e,t){const n=await Promise.allSettled(e.map((e=>t.get(e)))),a=n.filter((e=>"fulfilled"===e.status)),r=n.map(((t,n)=>e[n])).filter(((e,t)=>"rejected"===n[t].status));return{indexPatterns:a.map((e=>e.value)),rejectedIds:r}}function h(e,t,n,a){return e.getRemoveOperation?e.getRemoveOperation(t,n):1===a?"clear":"remove"}function m(e){return("table"in e?[{table:e.table,column:e.column}]:e.negate?[]:e.data).map((({table:e,column:t})=>{var n;const a=e.columns[t];if(Boolean(a&&(null===(n=s.search.aggs.getDateHistogramMetaDataByDatatableColumn(a))||void 0===n?void 0:n.timeRange)))return a.meta.field})).find(Boolean)}},function(e,t,n){"use strict";n.d(t,"m",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"o",(function(){return p})),n.d(t,"n",(function(){return f})),n.d(t,"a",(function(){return g})),n.d(t,"k",(function(){return b})),n.d(t,"e",(function(){return m})),n.d(t,"i",(function(){return x})),n.d(t,"h",(function(){return j})),n.d(t,"j",(function(){return _})),n.d(t,"l",(function(){return O})),n.d(t,"d",(function(){return D})),n.d(t,"g",(function(){return k})),n.d(t,"f",(function(){return S})),n.d(t,"c",(function(){return L}));var a=n(171),r=n.n(a),o=n(40),i=n(7),s=n(76),l=n(96),u=n(39);function c(e,t,n,a,r){var o,i,l,c;const d=null!==(o=null===(i=t.params)||void 0===i?void 0:i.continuity)&&void 0!==o?o:s.c,p={rangeType:e},{min:f,max:g}=m(e,n),{min:b,max:y}=m(null===(l=t.params)||void 0===l?void 0:l.rangeType,n),x=function(e,{newInterval:t,oldInterval:n,newMin:a,oldMin:r}){return(e||[]).map((({color:e,start:o})=>{let i=h(o,a,r,n,t);return 0===n&&(i=t+a),{color:e,stop:_(i)}}))}(r,{oldInterval:y-b,newInterval:g-f,newMin:f,oldMin:b});if(t.name===s.a){const e=v(a,{...t.params,colorStops:x,...p},{dataBounds:n});p.colorStops=x,p.stops=e}else p.stops=v(a,{...t.params,...p},{prevPalette:t.name,dataBounds:n});const j=t.name===s.a?x[x.length-1].stop:p.stops[p.stops.length-1].stop;return p.rangeMin=Object(u.checkIsMinContinuity)(d)?Number.NEGATIVE_INFINITY:t.name===s.a?x[0].stop:p.stops[0].stop,p.rangeMax=Object(u.checkIsMaxContinuity)(d)?Number.POSITIVE_INFINITY:null!==(c=t.params)&&void 0!==c&&c.rangeMax?h(t.params.rangeMax,f,b,y-b,g-f):j>g?j+1:g,p}function d(e,t,n,a,r){var o,i,l;const c=e.name===s.a,d={...t.params,name:e.name,colorStops:void 0,continuity:r&&null!==(o=null===(i=t.params)||void 0===i?void 0:i.continuity)&&void 0!==o?o:s.c,reverse:!1},p=w(n,(null===(l=t.params)||void 0===l?void 0:l.colorStops)||[],t,a);return c&&(d.colorStops=p),{...e,params:{...d,stops:v(n,d,{prevPalette:c||t.name===s.a?void 0:e.name,dataBounds:a,mapFromMinValue:!0}),rangeMin:Object(u.checkIsMinContinuity)(d.continuity)?Number.NEGATIVE_INFINITY:Math.min(a.min,p[0].stop),rangeMax:Object(u.checkIsMaxContinuity)(d.continuity)?Number.POSITIVE_INFINITY:Math.min(a.max,p[p.length-1].stop)}}}function p(e,t,n,a,r){var o,i,u,c,d;const p=null!==(o=null!=r?r:null===(i=t.params)||void 0===i?void 0:i.continuity)&&void 0!==o?o:s.c;let f=n;n.some(((e,t)=>t!==n.length-1&&e.start>n[t+1].start))&&(f=Object(l.g)(n));const{max:g,colorStops:b}=Object(l.h)(f,p),h=function(e,t,n,a){var r;if((null==t||null===(r=t.params)||void 0===r?void 0:r.name)===s.a){const r=v(e,{steps:s.b,...t.params,...n},{dataBounds:a});return x(t,{...n,stops:r})}const o={steps:s.b,...t.params,...n,name:s.a},i=v(e,o,{prevPalette:o.colorStops?void 0:t.name,dataBounds:a});return x({name:s.a,type:"palette"},{...o,stops:i})}(e,t,{continuity:p,colorStops:b,steps:(null===(u=t.params)||void 0===u?void 0:u.steps)||s.b,reverse:null===(c=t.params)||void 0===c?void 0:c.reverse,rangeMin:null===(d=b[0])||void 0===d?void 0:d.stop,rangeMax:g},a);return{activePalette:h,colorRanges:n}}function f(e,t,n){var a;return{colorRanges:O(e,(null===(a=t.params)||void 0===a?void 0:a.colorStops)||[],t,n),activePalette:t}}function g(e,t,n){var a,r;const o=v(e,(null==t?void 0:t.params)||{},{dataBounds:n,defaultPaletteName:null==t?void 0:t.name});return null!=t&&null!==(a=t.params)&&void 0!==a&&a.reverse&&(null==t||null===(r=t.params)||void 0===r?void 0:r.name)!==s.a?y(o):o}function b(e,t){const n=e.map(((e,n,a)=>({...e,stop:n+1<a.length?a[n+1].stop:t})));if(e[e.length-1].stop===t){const a=function(e,t,n){const a=t.length,r=a>1&&t[a-1].stop-t[a-2].stop||1;let o=Number(r.toFixed(2));if(n<e[a-1].stop+o){const t=n-e[a-1].stop;o=t>0?t:1}return o}(e,n,t)||1,r=Math.min(1,a);n[e.length-1].stop=t+r}return n}function h(e,t,n,a,r){return 0===a?r+t:_(t+(e-n)*r/a)}function m(e,t){return{min:"number"===e?t.min:s.e,max:"number"===e?t.max:s.d}}function v(e,t,{prevPalette:n,dataBounds:a,mapFromMinValue:r,defaultPaletteName:o}){const{min:i,max:l}=function(e,t){var n,a,r,o,i,s;const{min:l,max:u}=m(null==e?void 0:e.rangeType,t),c=null!==(n=null==e||null===(a=e.colorStops)||void 0===a||null===(r=a[0])||void 0===r?void 0:r.stop)&&void 0!==n?n:Number.POSITIVE_INFINITY,d=null!==(o=null==e||null===(i=e.colorStops)||void 0===i||null===(s=i[e.colorStops.length-1])||void 0===s?void 0:s.stop)&&void 0!==o?o:Number.NEGATIVE_INFINITY;return{min:Math.min(l,c),max:Math.max(u,d)}}(t,a),u=l-i,{stops:c,...d}=t||{};if("custom"===t.name&&null!=t&&t.colorStops)return b(t.colorStops,l);const p=(null==t?void 0:t.steps)||s.h.steps,f=e.get(n||(null==t?void 0:t.name)||o||s.h.name).getCategoricalColors(p,d),g=r||0===u?i:u/p;return function(e,{newInterval:t,oldInterval:n,newMin:a,oldMin:r}){return(e||[]).map((({color:e,stop:o})=>({color:e,stop:h(o,a,r,n,t)})))}(f.map(((e,t)=>({color:e,stop:t}))),{newInterval:u,oldInterval:f.length,newMin:g,oldMin:0})}function y(e=[]){const t=e.map((({stop:e})=>e));return e.map((({color:n},a)=>({color:n,stop:t[e.length-a-1]}))).reverse()}function x(e,t){return{...e,params:{...e.params,...t}}}function j(e){return""!==e&&/^#/.test(e)&&function(e){try{return r()(e),!0}catch(e){return!1}}(e)}function _(e,t=2){return Number((Math.floor(100*e)/100).toFixed(t))}function w(e,t,n,a){var r;if((null==n?void 0:n.name)===s.a&&null!=t&&t.length)return t;let o=v(e,{...null==n?void 0:n.params},{dataBounds:a,mapFromMinValue:!0,defaultPaletteName:n.name});return null!=n&&null!==(r=n.params)&&void 0!==r&&r.reverse&&(o=y(o)),o}function O(e,t,n,a){var r;const{continuity:o=s.h.continuity,rangeType:i=s.h.rangeType}=null!==(r=n.params)&&void 0!==r?r:{},{min:l,max:c}=m(i,a);return w(e,t||[],n,a).map(((e,t,a)=>{var r,i,s,d,p,f,g;const b=0===t,h=t===a.length-1;return{color:e.color,start:b&&Object(u.checkIsMinContinuity)(o)?Number.NEGATIVE_INFINITY:null!==(r=null!==(i=e.stop)&&void 0!==i?i:null===(s=n.params)||void 0===s?void 0:s.rangeMin)&&void 0!==r?r:l,end:h&&Object(u.checkIsMaxContinuity)(o)?Number.POSITIVE_INFINITY:null!==(d=null!==(p=null===(f=a[t+1])||void 0===f?void 0:f.stop)&&void 0!==p?p:null===(g=n.params)||void 0===g?void 0:g.rangeMax)&&void 0!==d?d:c}}))}function D(e,t,n="euiColorInk",a="euiColorGhost"){const s=t?o.euiDarkVars.euiColorInk:o.euiLightVars[n],l=t?o.euiDarkVars[a]:o.euiLightVars.euiColorGhost,u=t?o.euiDarkVars.euiPageBackgroundColor:o.euiLightVars.euiPageBackgroundColor,c=r()(e).alpha()<1?r.a.blend(u,e,"overlay"):r()(e);return Object(i.isColorDark)(...c.rgb())?l:s}function P(e){return e}function k(e){if(null!=e&&!Array.isArray(e))return e}const S=(e="percent")=>"percent"===e?{min:0,max:100,fallback:!0}:{min:1,max:1,fallback:!0},L=(e,t,n=P)=>{const a={};if(null!=t)for(const r of e){const e=n(r);a[e]=a[e]||{max:Number.NEGATIVE_INFINITY,min:Number.POSITIVE_INFINITY},t.rows.forEach((t=>{const n=k(t[r]);null!=n&&(a[e].min>n&&(a[e].min=n),a[e].max<n&&(a[e].max=n))})),a[e].max===Number.NEGATIVE_INFINITY&&(a[e]=S())}return a}},function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return M}));var a=n(6),r=n.n(a),o=n(7),i=n(0),s=n(2);const l=r.a.createContext({dragging:void 0,setDragging:()=>{},keyboardMode:!1,setKeyboardMode:()=>{},activeDropTarget:void 0,setActiveDropTarget:()=>{},setA11yMessage:()=>{},dropTargetsByOrder:void 0,registerDropTarget:()=>{}});function u({children:e}){const[t,n]=Object(a.useState)({dragging:void 0}),[r,l]=Object(a.useState)(!1),[u,c]=Object(a.useState)(""),[p,f]=Object(a.useState)(void 0),[g,b]=Object(a.useState)({}),h=Object(a.useMemo)((()=>e=>n({dragging:e})),[n]),m=Object(a.useMemo)((()=>e=>c(e)),[c]),v=Object(a.useMemo)((()=>e=>f(e)),[f]),y=Object(a.useMemo)((()=>(e,t)=>b((n=>({...n,[e.join(",")]:t})))),[b]);return Object(s.jsx)("div",null,Object(s.jsx)(d,{keyboardMode:r,setKeyboardMode:l,dragging:t.dragging,setA11yMessage:m,setDragging:h,activeDropTarget:p,setActiveDropTarget:v,registerDropTarget:y,dropTargetsByOrder:g},e),Object(s.jsx)(o.EuiScreenReaderOnly,null,Object(s.jsx)("div",null,Object(s.jsx)("p",{"aria-live":"assertive","aria-atomic":!0},u),Object(s.jsx)("p",{id:"lnsDragDrop-keyboardInstructionsWithReorder"},i.i18n.translate("xpack.lens.dragDrop.keyboardInstructionsReorder",{defaultMessage:"Press space or enter to start dragging. When dragging, use the up/down arrow keys to reorder items in the group and left/right arrow keys to choose drop targets outside of the group. Press space or enter again to finish."})),Object(s.jsx)("p",{id:"lnsDragDrop-keyboardInstructions"},i.i18n.translate("xpack.lens.dragDrop.keyboardInstructions",{defaultMessage:"Press space or enter to start dragging. When dragging, use the left/right arrow keys to move between drop targets. Press space or enter again to finish."})))))}function c(e,t,n,a=(()=>!0),r=!1){if(!e)return;const o=[...Object.entries(e).filter((([,e])=>e&&a(e))).reduce(((e,t)=>{const[,n]=t;return n?e.find((([,e])=>(null==e?void 0:e.id)===n.id))?e:[...e,t]:e}),[]),n].sort((([e],[t])=>{const n=e.split(",").map((e=>Number(e))),a=t.split(",").map((e=>Number(e))),r=n.findIndex(((e,t)=>n[t]!==a[t]));return n[r]-a[r]}));let i=o.findIndex((([e,n])=>(null==n?void 0:n.id)===(null==t?void 0:t.id)));-1===i&&(i=o.findIndex((([e])=>e===n[0])));const s=(o.length+i-1)%o.length,l=(i+1)%o.length;return o[r?s:l][1]}function d({dragging:e,setDragging:t,setKeyboardMode:n,keyboardMode:r,activeDropTarget:o,setActiveDropTarget:i,setA11yMessage:u,registerDropTarget:c,dropTargetsByOrder:d,children:p}){const f=Object(a.useMemo)((()=>({setKeyboardMode:n,keyboardMode:r,dragging:e,setDragging:t,activeDropTarget:o,setActiveDropTarget:i,setA11yMessage:u,dropTargetsByOrder:d,registerDropTarget:c})),[t,e,o,i,n,r,u,d,c]);return Object(s.jsx)(l.Provider,{value:f},p)}var p=n(34),f=n.n(p);const g=r.a.createContext({reorderState:{reorderedItems:[],direction:"-",draggingHeight:40,isReorderOn:!1,groupId:""},setReorderState:()=>()=>{}});function b({id:e,children:t,className:n}){const[o,i]=Object(a.useState)({reorderedItems:[],direction:"-",draggingHeight:40,isReorderOn:!1,groupId:e}),l=Object(a.useMemo)((()=>e=>i(e)),[i]);return Object(s.jsx)("div",{"data-test-subj":"lnsDragDrop-reorderableGroup",className:f()(n,{"lnsDragDrop-isActiveGroup":o.isReorderOn&&r.a.Children.count(t)>1})},Object(s.jsx)(g.Provider,{value:{reorderState:o,setReorderState:l}},t))}const h={selectedTarget:({label:e,groupLabel:t,position:n},{label:a,groupLabel:r,position:o,canSwap:s,canDuplicate:l},u)=>u&&(s||l)?i.i18n.translate("xpack.lens.dragDrop.announce.selectedTarget.replaceMain",{defaultMessage:"You're dragging {label} from {groupLabel} at position {position} over {dropLabel} from {dropGroupLabel} group at position {dropPosition}. Press space or enter to replace {dropLabel} with {label}.{duplicateCopy}{swapCopy}",values:{label:e,groupLabel:t,position:n,dropLabel:a,dropGroupLabel:r,dropPosition:o,duplicateCopy:l?x:"",swapCopy:s?j:""}}):i.i18n.translate("xpack.lens.dragDrop.announce.selectedTarget.replace",{defaultMessage:"Replace {dropLabel} in {dropGroupLabel} group at position {dropPosition} with {label}. Press space or enter to replace.",values:{label:e,dropLabel:a,dropGroupLabel:r,dropPosition:o}}),dropped:({label:e},{label:t,groupLabel:n,position:a})=>i.i18n.translate("xpack.lens.dragDrop.announce.duplicated.replace",{defaultMessage:"Replaced {dropLabel} with {label} in {groupLabel} at position {position}",values:{label:e,dropLabel:t,groupLabel:n,position:a}})},m={selectedTarget:({label:e,groupLabel:t},{groupLabel:n,position:a})=>t!==n?i.i18n.translate("xpack.lens.dragDrop.announce.selectedTarget.duplicated",{defaultMessage:"Duplicate {label} to {dropGroupLabel} group at position {position}. Hold Alt or Option and press space or enter to duplicate",values:{label:e,dropGroupLabel:n,position:a}}):i.i18n.translate("xpack.lens.dragDrop.announce.selectedTarget.duplicatedInGroup",{defaultMessage:"Duplicate {label} to {dropGroupLabel} group at position {position}. Press space or enter to duplicate",values:{label:e,dropGroupLabel:n,position:a}}),dropped:({label:e},{groupLabel:t,position:n})=>i.i18n.translate("xpack.lens.dragDrop.announce.dropped.duplicated",{defaultMessage:"Duplicated {label} in {groupLabel} group at position {position}",values:{label:e,groupLabel:t,position:n}})},v={selectedTarget:({label:e,groupLabel:t,position:n},{position:a})=>n===a?i.i18n.translate("xpack.lens.dragDrop.announce.selectedTarget.reorderedBack",{defaultMessage:"{label} returned to its initial position {prevPosition}",values:{label:e,prevPosition:n}}):i.i18n.translate("xpack.lens.dragDrop.announce.selectedTarget.reordered",{defaultMessage:"Reorder {label} in {groupLabel} group from position {prevPosition} to position {position}. Press space or enter to reorder",values:{groupLabel:t,label:e,position:a,prevPosition:n}}),dropped:({label:e,groupLabel:t,position:n},{position:a})=>i.i18n.translate("xpack.lens.dragDrop.announce.dropped.reordered",{defaultMessage:"Reordered {label} in {groupLabel} group from position {prevPosition} to position {position}",values:{label:e,groupLabel:t,position:a,prevPosition:n}})},y={selectedTarget:({label:e,groupLabel:t,position:n},{label:a,groupLabel:r,position:o,canSwap:s,canDuplicate:l,canCombine:u},c)=>c&&(s||l||u)?i.i18n.translate("xpack.lens.dragDrop.announce.selectedTarget.combineMain",{defaultMessage:"You're dragging {label} from {groupLabel} at position {position} over {dropLabel} from {dropGroupLabel} group at position {dropPosition}. Press space or enter to combine {dropLabel} with {label}.{duplicateCopy}{swapCopy}{combineCopy}",values:{label:e,groupLabel:t,position:n,dropLabel:a,dropGroupLabel:r,dropPosition:o,duplicateCopy:l?x:"",swapCopy:s?j:"",combineCopy:u?_:""}}):i.i18n.translate("xpack.lens.dragDrop.announce.selectedTarget.combine",{defaultMessage:"Combine {dropLabel} in {dropGroupLabel} group at position {dropPosition} with {label}. Press space or enter to combine.",values:{label:e,dropLabel:a,dropGroupLabel:r,dropPosition:o}}),dropped:({label:e},{label:t,groupLabel:n,position:a})=>i.i18n.translate("xpack.lens.dragDrop.announce.duplicated.combine",{defaultMessage:"Combine {dropLabel} with {label} in {groupLabel} at position {position}",values:{label:e,dropLabel:t,groupLabel:n,position:a}})},x=i.i18n.translate("xpack.lens.dragDrop.announce.duplicate.short",{defaultMessage:" Hold alt or option to duplicate."}),j=i.i18n.translate("xpack.lens.dragDrop.announce.swap.short",{defaultMessage:" Hold shift to swap."}),_=i.i18n.translate("xpack.lens.dragDrop.announce.combine.short",{defaultMessage:" Hold control to combine"}),w={selectedTarget:{reorder:v.selectedTarget,duplicate_compatible:m.selectedTarget,field_replace:h.selectedTarget,field_combine:y.selectedTarget,replace_compatible:h.selectedTarget,replace_incompatible:({label:e,groupLabel:t,position:n},{label:a,groupLabel:r,position:o,nextLabel:s,canSwap:l,canDuplicate:u},c)=>c&&(l||u)?i.i18n.translate("xpack.lens.dragDrop.announce.selectedTarget.replaceIncompatibleMain",{defaultMessage:"You're dragging {label} from {groupLabel} at position {position} over {dropLabel} from {dropGroupLabel} group at position {dropPosition}. Press space or enter to convert {label} to {nextLabel} and replace {dropLabel}.{duplicateCopy}{swapCopy}",values:{label:e,groupLabel:t,position:n,dropLabel:a,dropGroupLabel:r,dropPosition:o,nextLabel:s,duplicateCopy:u?x:"",swapCopy:l?j:""}}):i.i18n.translate("xpack.lens.dragDrop.announce.selectedTarget.replaceIncompatible",{defaultMessage:"Convert {label} to {nextLabel} and replace {dropLabel} in {dropGroupLabel} group at position {dropPosition}. Press space or enter to replace",values:{label:e,nextLabel:s,dropLabel:a,dropGroupLabel:r,dropPosition:o}}),move_incompatible:({label:e,groupLabel:t,position:n},{groupLabel:a,position:r,nextLabel:o,canSwap:s,canDuplicate:l},u)=>u&&(s||l)?i.i18n.translate("xpack.lens.dragDrop.announce.selectedTarget.moveIncompatibleMain",{defaultMessage:"You're dragging {label} from {groupLabel} at position {position} over position {dropPosition} in {dropGroupLabel} group. Press space or enter to convert {label} to {nextLabel} and move.{duplicateCopy}{swapCopy}",values:{label:e,groupLabel:t,position:n,dropGroupLabel:a,dropPosition:r,nextLabel:o,duplicateCopy:l?x:"",swapCopy:s?j:""}}):i.i18n.translate("xpack.lens.dragDrop.announce.selectedTarget.moveIncompatible",{defaultMessage:"Convert {label} to {nextLabel} and move to {dropGroupLabel} group at position {dropPosition}. Press space or enter to move",values:{label:e,nextLabel:o,dropGroupLabel:a,dropPosition:r}}),move_compatible:({label:e,groupLabel:t,position:n},{groupLabel:a,position:r,canSwap:o,canDuplicate:s},l)=>l&&(o||s)?i.i18n.translate("xpack.lens.dragDrop.announce.selectedTarget.moveCompatibleMain",{defaultMessage:"You're dragging {label} from {groupLabel} at position {position} over position {dropPosition} in {dropGroupLabel} group. Press space or enter to move.{duplicateCopy}{swapCopy}",values:{label:e,groupLabel:t,position:n,dropGroupLabel:a,dropPosition:r,duplicateCopy:s?x:"",swapCopy:o?j:""}}):i.i18n.translate("xpack.lens.dragDrop.announce.selectedTarget.moveCompatible",{defaultMessage:"Move {label} to {dropGroupLabel} group at position {dropPosition}. Press space or enter to move",values:{label:e,dropGroupLabel:a,dropPosition:r}}),duplicate_incompatible:({label:e},{groupLabel:t,position:n,nextLabel:a})=>i.i18n.translate("xpack.lens.dragDrop.announce.selectedTarget.duplicateIncompatible",{defaultMessage:"Convert copy of {label} to {nextLabel} and add to {groupLabel} group at position {position}. Hold Alt or Option and press space or enter to duplicate",values:{label:e,groupLabel:t,position:n,nextLabel:a}}),replace_duplicate_incompatible:({label:e},{label:t,groupLabel:n,position:a,nextLabel:r})=>i.i18n.translate("xpack.lens.dragDrop.announce.selectedTarget.replaceDuplicateIncompatible",{defaultMessage:"Convert copy of {label} to {nextLabel} and replace {dropLabel} in {groupLabel} group at position {position}. Hold Alt or Option and press space or enter to duplicate and replace",values:{label:e,groupLabel:n,position:a,dropLabel:t,nextLabel:r}}),replace_duplicate_compatible:({label:e},{label:t,groupLabel:n,position:a})=>i.i18n.translate("xpack.lens.dragDrop.announce.selectedTarget.replaceDuplicateCompatible",{defaultMessage:"Duplicate {label} and replace {dropLabel} in {groupLabel} at position {position}. Hold Alt or Option and press space or enter to duplicate and replace",values:{label:e,dropLabel:t,groupLabel:n,position:a}}),swap_compatible:({label:e,groupLabel:t,position:n},{label:a,groupLabel:r,position:o})=>i.i18n.translate("xpack.lens.dragDrop.announce.selectedTarget.swapCompatible",{defaultMessage:"Swap {label} in {groupLabel} group at position {position} with {dropLabel} in {dropGroupLabel} group at position {dropPosition}. Hold Shift and press space or enter to swap",values:{label:e,groupLabel:t,position:n,dropLabel:a,dropGroupLabel:r,dropPosition:o}}),swap_incompatible:({label:e,groupLabel:t,position:n},{label:a,groupLabel:r,position:o,nextLabel:s})=>i.i18n.translate("xpack.lens.dragDrop.announce.selectedTarget.swapIncompatible",{defaultMessage:"Convert {label} to {nextLabel} in {groupLabel} group at position {position} and swap with {dropLabel} in {dropGroupLabel} group at position {dropPosition}. Hold Shift and press space or enter to swap",values:{label:e,groupLabel:t,position:n,dropLabel:a,dropGroupLabel:r,dropPosition:o,nextLabel:s}}),combine_compatible:({label:e,groupLabel:t,position:n},{label:a,groupLabel:r,position:o,nextLabel:s})=>i.i18n.translate("xpack.lens.dragDrop.announce.selectedTarget.combineCompatible",{defaultMessage:"Combine {label} in {groupLabel} group at position {position} with {dropLabel} in {dropGroupLabel} group at position {dropPosition}. Hold Control and press space or enter to combine",values:{label:e,groupLabel:t,position:n,dropLabel:a,dropGroupLabel:r,dropPosition:o}}),combine_incompatible:({label:e,groupLabel:t,position:n},{label:a,groupLabel:r,position:o,nextLabel:s})=>i.i18n.translate("xpack.lens.dragDrop.announce.selectedTarget.combineIncompatible",{defaultMessage:"Convert {label} to {nextLabel} in {groupLabel} group at position {position} and combine with {dropLabel} in {dropGroupLabel} group at position {dropPosition}. Hold Control and press space or enter to combine",values:{label:e,groupLabel:t,position:n,dropLabel:a,dropGroupLabel:r,dropPosition:o,nextLabel:s}})},dropped:{reorder:v.dropped,duplicate_compatible:m.dropped,field_replace:h.dropped,field_combine:y.dropped,replace_compatible:h.dropped,replace_incompatible:({label:e},{label:t,groupLabel:n,position:a,nextLabel:r})=>i.i18n.translate("xpack.lens.dragDrop.announce.dropped.replaceIncompatible",{defaultMessage:"Converted {label} to {nextLabel} and replaced {dropLabel} in {groupLabel} group at position {position}",values:{label:e,nextLabel:r,dropLabel:t,groupLabel:n,position:a}}),move_incompatible:({label:e},{groupLabel:t,position:n,nextLabel:a})=>i.i18n.translate("xpack.lens.dragDrop.announce.dropped.moveIncompatible",{defaultMessage:"Converted {label} to {nextLabel} and moved to {groupLabel} group at position {position}",values:{label:e,nextLabel:a,groupLabel:t,position:n}}),move_compatible:({label:e},{groupLabel:t,position:n})=>i.i18n.translate("xpack.lens.dragDrop.announce.dropped.moveCompatible",{defaultMessage:"Moved {label} to {groupLabel} group at position {position}",values:{label:e,groupLabel:t,position:n}}),duplicate_incompatible:({label:e},{groupLabel:t,position:n,nextLabel:a})=>i.i18n.translate("xpack.lens.dragDrop.announce.dropped.duplicateIncompatible",{defaultMessage:"Converted copy of {label} to {nextLabel} and added to {groupLabel} group at position {position}",values:{label:e,groupLabel:t,position:n,nextLabel:a}}),replace_duplicate_incompatible:({label:e},{label:t,groupLabel:n,position:a,nextLabel:r})=>i.i18n.translate("xpack.lens.dragDrop.announce.dropped.replaceDuplicateIncompatible",{defaultMessage:"Converted copy of {label} to {nextLabel} and replaced {dropLabel} in {groupLabel} group at position {position}",values:{label:e,dropLabel:t,groupLabel:n,position:a,nextLabel:r}}),replace_duplicate_compatible:({label:e},{label:t,groupLabel:n,position:a})=>i.i18n.translate("xpack.lens.dragDrop.announce.duplicated.replaceDuplicateCompatible",{defaultMessage:"Replaced {dropLabel} with a copy of {label} in {groupLabel} at position {position}",values:{label:e,dropLabel:t,groupLabel:n,position:a}}),swap_compatible:({label:e,groupLabel:t,position:n},{label:a,groupLabel:r,position:o})=>i.i18n.translate("xpack.lens.dragDrop.announce.dropped.swapCompatible",{defaultMessage:"Moved {label} to {dropGroupLabel} at position {dropPosition} and {dropLabel} to {groupLabel} group at position {position}",values:{label:e,groupLabel:t,position:n,dropLabel:a,dropGroupLabel:r,dropPosition:o}}),swap_incompatible:({label:e,groupLabel:t,position:n},{label:a,groupLabel:r,position:o,nextLabel:s})=>i.i18n.translate("xpack.lens.dragDrop.announce.dropped.swapIncompatible",{defaultMessage:"Converted {label} to {nextLabel} in {groupLabel} group at position {position} and swapped with {dropLabel} in {dropGroupLabel} group at position {dropPosition}",values:{label:e,groupLabel:t,position:n,dropGroupLabel:r,dropLabel:a,dropPosition:o,nextLabel:s}}),combine_compatible:({label:e,groupLabel:t,position:n},{label:a,groupLabel:r,position:o})=>i.i18n.translate("xpack.lens.dragDrop.announce.dropped.combineCompatible",{defaultMessage:"Combined {label} to {dropGroupLabel} at position {dropPosition} and {dropLabel} to {groupLabel} group at position {position}",values:{label:e,groupLabel:t,position:n,dropLabel:a,dropGroupLabel:r,dropPosition:o}}),combine_incompatible:({label:e,groupLabel:t,position:n},{label:a,groupLabel:r,position:o,nextLabel:s})=>i.i18n.translate("xpack.lens.dragDrop.announce.dropped.combineIncompatible",{defaultMessage:"Converted {label} to {nextLabel} in {groupLabel} group at position {position} and combined with {dropLabel} in {dropGroupLabel} group at position {dropPosition}",values:{label:e,groupLabel:t,position:n,dropGroupLabel:r,dropLabel:a,dropPosition:o,nextLabel:s}})}},O={lifted:({label:e})=>i.i18n.translate("xpack.lens.dragDrop.announce.lifted",{defaultMessage:"Lifted {label}",values:{label:e}}),cancelled:({label:e,groupLabel:t,position:n})=>t&&n?i.i18n.translate("xpack.lens.dragDrop.announce.cancelledItem",{defaultMessage:"Movement cancelled. {label} returned to {groupLabel} group at position {position}",values:{label:e,groupLabel:t,position:n}}):i.i18n.translate("xpack.lens.dragDrop.announce.cancelled",{defaultMessage:"Movement cancelled. {label} returned to its initial position",values:{label:e}}),noTarget:()=>i.i18n.translate("xpack.lens.dragDrop.announce.selectedTarget.noSelected",{defaultMessage:"No target selected. Use arrow keys to select a target"}),dropped:({label:e},{groupLabel:t,position:n,label:a})=>t&&n?i.i18n.translate("xpack.lens.dragDrop.announce.droppedDefault",{defaultMessage:"Added {label} in {dropGroupLabel} group at position {position}",values:{label:e,dropGroupLabel:t,position:n}}):i.i18n.translate("xpack.lens.dragDrop.announce.droppedNoPosition",{defaultMessage:"Added {label} to {dropLabel}",values:{label:e,dropLabel:a}}),selectedTarget:({label:e},{label:t,groupLabel:n,position:a})=>n&&a?i.i18n.translate("xpack.lens.dragDrop.announce.selectedTarget.default",{defaultMessage:"Add {label} to {dropGroupLabel} group at position {position}. Press space or enter to add",values:{label:e,dropGroupLabel:n,position:a}}):i.i18n.translate("xpack.lens.dragDrop.announce.selectedTarget.defaultNoPosition",{defaultMessage:"Add {label} to {dropLabel}. Press space or enter to add",values:{dropLabel:t,label:e}})},D={...O,dropped:(e,t,n)=>{var a,r;return n&&(null===(a=w.dropped)||void 0===a||null===(r=a[n])||void 0===r?void 0:r.call(a,e,t))||O.dropped(e,t)},selectedTarget:(e,t,n,a)=>{var r,o;return n&&(null===(r=w.selectedTarget)||void 0===r||null===(o=r[n])||void 0===o?void 0:o.call(r,e,t,a))||O.selectedTarget(e,t)}};var P=n(21),k=n.n(P),S=(n(325),n(330)),L=n.n(S),C=n(69);const I=()=>{},M=e=>{const{dragging:t,setDragging:n,keyboardMode:r,registerDropTarget:o,dropTargetsByOrder:i,setKeyboardMode:u,activeDropTarget:c,setActiveDropTarget:d,setA11yMessage:p}=Object(a.useContext)(l),{value:f,draggable:g,dropTypes:b,reorderableGroup:h}=e,m=g&&f.id===(null==t?void 0:t.id)?{keyboardMode:r,activeDropTarget:c,dropTargetsByOrder:i}:void 0;if(g&&(!b||!b.length)){const t={...e,activeDraggingProps:m,setKeyboardMode:u,setDragging:n,setActiveDropTarget:d,setA11yMessage:p};return h&&h.length>1?Object(s.jsx)(F,k()({},t,{reorderableGroup:h})):Object(s.jsx)(T,t)}const v={...e,keyboardMode:r,setKeyboardMode:u,dragging:t,setDragging:n,activeDropTarget:c,setActiveDropTarget:d,registerDropTarget:o,setA11yMessage:p,isNotDroppable:!(b&&b.length||!t||f.id===t.id)};return h&&h.length>1&&null!=h&&h.some((e=>e.id===(null==t?void 0:t.id)))&&"reorder"===(null==b?void 0:b[0])?Object(s.jsx)(R,k()({},v,{reorderableGroup:h})):Object(s.jsx)(A,v)},E=()=>{const e=window.getSelection();e&&e.removeAllRanges()},T=Object(a.memo)((function({dataTestSubj:e,className:t,value:n,children:i,setDragging:l,setKeyboardMode:u,setActiveDropTarget:d,order:p,activeDraggingProps:g,dragType:b,onDragStart:h,onDragEnd:m,extraKeyboardHandler:v,ariaDescribedBy:y,setA11yMessage:x}){const j=null==g?void 0:g.keyboardMode,_=null==g?void 0:g.activeDropTarget,w=null==g?void 0:g.dropTargetsByOrder,O=Object(a.useCallback)(((e,t=!1)=>{d(e),x(e?D.selectedTarget(n.humanData,null==e?void 0:e.humanData,null==e?void 0:e.dropType,t):D.noTarget())}),[d,x,n.humanData]),P=Object(a.useCallback)(((e,t)=>{const n=w&&Object.values(w).filter((t=>(null==t?void 0:t.id)===e));t>0&&null!=n&&n[t]?O(n[t]):O(null==n?void 0:n[0],!0)}),[w,O]),k=Object(a.useMemo)((()=>({onKeyDown:e=>{if("Alt"===e.key&&null!=_&&_.id)P(_.id,1);else if("Shift"===e.key&&null!=_&&_.id)P(_.id,2);else if("Control"===e.key&&null!=_&&_.id){const e=Number(_.humanData.canSwap)+Number(_.humanData.canDuplicate);P(_.id,e+1)}},onKeyUp:e=>{if(null!=_&&_.id&&["Shift","Alt","Control"].includes(e.key))if(e.altKey)P(_.id,1);else if(e.shiftKey)P(_.id,2);else if(e.ctrlKey){const e=Number(_.humanData.canSwap)+Number(_.humanData.canDuplicate);P(_.id,e+1)}else P(_.id,0)}})),[_,P]),S=(e,t)=>{if(e&&"dataTransfer"in e&&e.dataTransfer.getData("text"))return;e&&"dataTransfer"in e&&e.dataTransfer.setData("text",n.humanData.label);const a=null==e?void 0:e.currentTarget;setTimeout((()=>{l({...n,ghost:t?{children:i,style:{width:a.offsetWidth,height:a.offsetHeight}}:void 0}),x(D.lifted(n.humanData)),t&&u(!0),h&&h(a)}))},L=e=>{null==e||e.stopPropagation(),l(void 0),d(void 0),u(!1),x(D.cancelled(n.humanData)),m&&m()},I="move"===b&&j&&_&&"reorder"!==_.dropType;return Object(s.jsx)("div",{className:f()(t,{"lnsDragDrop-isHidden":g&&"move"===b&&!j||I}),"data-test-subj":`lnsDragDrop_draggable-${n.humanData.label}`},Object(s.jsx)(o.EuiScreenReaderOnly,{showOnFocus:!0},Object(s.jsx)("button",{"aria-label":n.humanData.label,"aria-describedby":y||"lnsDragDrop-keyboardInstructions",className:"lnsDragDrop__keyboardHandler","data-test-subj":"lnsDragDrop-keyboardHandler",onBlur:()=>{g&&L()},onKeyDown:e=>{const{key:t}=e;t===o.keys.ENTER||t===o.keys.SPACE?(_&&(()=>{if(_){Object(C.e)("drop_total");const{dropType:e,humanData:t,onDrop:a}=_;setTimeout((()=>x(D.dropped(n.humanData,t,e)))),a(n,e)}})(),g?L():S(e,!0)):t===o.keys.ESCAPE&&g&&(e.stopPropagation(),e.preventDefault(),L()),v&&v(e),j&&(o.keys.ARROW_LEFT!==t&&o.keys.ARROW_RIGHT!==t||((e,t=!1)=>{const n=c(w,_,[p.join(",")],(e=>"reorder"!==(null==e?void 0:e.dropType)),t);e.altKey&&null!=n&&n.id?P(n.id,1):e.shiftKey&&null!=n&&n.id?P(n.id,2):e.ctrlKey&&null!=n&&n.id?P(n.id,3):O(n,!0)})(e,!(o.keys.ARROW_LEFT!==t)),k.onKeyDown(e))},onKeyUp:k.onKeyUp})),r.a.cloneElement(i,{"data-test-subj":e||"lnsDragDrop",className:f()(i.props.className,"lnsDragDrop","lnsDragDrop-isDraggable"),draggable:!0,onDragEnd:L,onDragStart:S,onMouseDown:E}))})),A=Object(a.memo)((function(e){const{dataTestSubj:t,className:n,onDrop:i,value:l,children:u,draggable:c,dragging:d,isNotDroppable:p,dropTypes:g,order:b,getAdditionalClassesOnEnter:h,getAdditionalClassesOnDroppable:m,activeDropTarget:v,registerDropTarget:y,setActiveDropTarget:x,keyboardMode:j,setKeyboardMode:_,setDragging:w,setA11yMessage:O,getCustomDropTarget:P}=e,[S,C]=Object(a.useState)(!1),M=Object(a.useRef)(null);L()((()=>{if(g&&null!=g&&g[0]&&i&&j)return g.forEach(((e,t)=>{y([...b,t],{...l,onDrop:i,dropType:e})})),()=>{g.forEach(((e,t)=>{y([...b,t],void 0)}))}}),[b,y,g,j]),Object(a.useEffect)((()=>{let e=!0;return v&&v.id!==l.id&&C(!1),setTimeout((()=>{!v&&e&&C(!1)}),1e3),()=>{e=!1}}),[v,C,l.id]);const E=()=>{S||C(!0)},T=(e,t)=>{if(!g||g.length<=1)return t;const n=g.indexOf(t);if(n>0)return t;if(0===n){if(e.altKey&&g[1])return g[1];if(e.shiftKey&&g[2])return g[2];if(e.ctrlKey&&(g.length>3?g[3]:g[1]))return g.length>3?g[3]:g[1]}return t},A=()=>{x(void 0)},F=(e,n)=>{const a=Boolean((null==v?void 0:v.id)===l.id&&e===(null==v?void 0:v.dropType));return{"data-test-subj":t||"lnsDragDrop",className:R(e,n),onDragEnter:E,onDragLeave:A,onDragOver:e?t=>((e,t)=>{if(e.preventDefault(),!d||!i)return;const n=T(e,t);(null==v?void 0:v.id)===l.id&&(null==v?void 0:v.dropType)===n||(x({...l,dropType:n,onDrop:i}),O(D.selectedTarget(d.humanData,l.humanData,n)))})(t,e):I,onDrop:e?t=>((e,t)=>{if(e.preventDefault(),e.stopPropagation(),C(!1),i&&d){const n=T(e,t);i(d,n),setTimeout((()=>O(D.dropped(d.humanData,l.humanData,n))))}w(void 0),x(void 0),_(!1)})(t,e):I,draggable:c,ghost:a&&"reorder"!==e&&(null==d?void 0:d.ghost)&&d.ghost||void 0}},R=(e,t=u)=>{const a=Boolean((null==v?void 0:v.id)===l.id&&e===(null==v?void 0:v.dropType)),r=null==m?void 0:m(e),o=f()("lnsDragDrop",{"lnsDragDrop-isDraggable":c,"lnsDragDrop-isDroppable":!c,"lnsDragDrop-isDropTarget":e,"lnsDragDrop-isActiveDropTarget":e&&a,"lnsDragDrop-isNotDroppable":p},r&&{[r]:e});return f()(o,n,t.props.className)},N=F(g&&g[0]),W=Object(a.useMemo)((()=>{var e;const t=g&&g.length&&g.slice(1);if(!t||!t.length)return;const n=40*t.length;return{clipPath:`polygon(100% 0px, 100% ${n-(n-((null===(e=M.current)||void 0===e?void 0:e.clientHeight)||40))}px, 0 100%, 0 0)`,height:n}}),[g]);return Object(s.jsx)("div",{"data-test-subj":"lnsDragDropContainer",className:f()("lnsDragDrop__container",{"lnsDragDrop__container-active":S||(null==v?void 0:v.id)===l.id}),onDragEnter:E,ref:M},Object(s.jsx)(z,k()({},N,{className:f()(N.className,(()=>{const e=null==h?void 0:h(null==v?void 0:v.dropType);return f()(e&&{[e]:(null==v?void 0:v.id)===l.id})})()),children:u})),g&&g.length>1&&Object(s.jsx)(r.a.Fragment,null,Object(s.jsx)("div",{className:"lnsDragDrop__diamondPath",style:W,onDragEnter:E}),Object(s.jsx)(o.EuiFlexGroup,{gutterSize:"none",direction:"column","data-test-subj":"lnsDragDropExtraDrops",className:f()("lnsDragDrop__extraDrops",{"lnsDragDrop__extraDrops-visible":S||(null==v?void 0:v.id)===l.id})},g.slice(1).map((e=>{const t=null==P?void 0:P(e);return t?Object(s.jsx)(o.EuiFlexItem,{key:e,className:"lnsDragDrop__extraDropWrapper"},Object(s.jsx)(z,F(e,t),t)):null})))))})),z=({ghost:e,children:t,...n})=>Object(s.jsx)(r.a.Fragment,null,r.a.cloneElement(t,n),e?r.a.cloneElement(e.children,{className:f()(e.children.props.className,"lnsDragDrop_ghost"),style:e.style}):null),F=Object(a.memo)((function(e){const{reorderState:{isReorderOn:t,reorderedItems:n,direction:r},setReorderState:i}=Object(a.useContext)(g),{value:l,setActiveDropTarget:u,activeDraggingProps:d,reorderableGroup:p,setA11yMessage:f}=e,b=null==d?void 0:d.keyboardMode,h=null==d?void 0:d.activeDropTarget,m=null==d?void 0:d.dropTargetsByOrder,v=!!d,y=b?v&&(!h||p.some((e=>e.id===(null==h?void 0:h.id)))):v;Object(a.useEffect)((()=>{i((e=>({...e,isReorderOn:y})))}),[i,y]);const x=()=>i((e=>({...e,reorderedItems:[]}))),j=e=>{if(!e)return i((e=>({...e,reorderedItems:[]}))),f(D.selectedTarget(l.humanData,l.humanData,"reorder")),void u(e);const t=p.findIndex((t=>t.id===e.id)),n=p.findIndex((e=>e.id===(null==l?void 0:l.id)));-1!==n&&(u(e),f(D.selectedTarget(l.humanData,e.humanData,"reorder")),i((e=>n<t?{...e,reorderedItems:p.slice(n+1,t+1),direction:"-"}:{...e,reorderedItems:p.slice(t,n),direction:"+"})))},_=v&&b&&n.length;return Object(s.jsx)("div",{"data-test-subj":"lnsDragDrop-reorderableDrag",className:v?"lnsDragDrop-reorderable lnsDragDrop-translatableDrag":"lnsDragDrop-reorderable",style:_?{transform:`translateY(${"+"===r?"-":"+"}${n.reduce(((e,t)=>e+Number(t.height||0)+8),0)}px)`}:void 0},Object(s.jsx)(T,k()({},e,{ariaDescribedBy:"lnsDragDrop-keyboardInstructionsWithReorder",extraKeyboardHandler:n=>{if(t&&b){n.stopPropagation(),n.preventDefault();let t=p.findIndex((e=>e.id===l.id));if(h){const e=p.findIndex((e=>e.id===(null==h?void 0:h.id)));-1!==e&&(t=e)}if(n.key===o.keys.ARROW_LEFT||n.key===o.keys.ARROW_RIGHT)x(),u(void 0);else if(o.keys.ARROW_DOWN===n.key){if(t<p.length-1){const t=c(m,h,[e.order.join(",")],(e=>"reorder"===(null==e?void 0:e.dropType)));j(t)}}else if(o.keys.ARROW_UP===n.key&&t>0){const t=c(m,h,[e.order.join(",")],(e=>"reorder"===(null==e?void 0:e.dropType)),!0);j(t)}}},onDragStart:e=>{if(e){const t=e.offsetHeight+8;i((e=>({...e,draggingHeight:t})))}},onDragEnd:()=>{x()}})))})),R=Object(a.memo)((function(e){const{onDrop:t,value:n,dragging:r,setDragging:o,setKeyboardMode:i,activeDropTarget:l,setActiveDropTarget:u,reorderableGroup:c,setA11yMessage:d}=e,p=c.findIndex((e=>e.id===n.id)),{reorderState:{isReorderOn:b,reorderedItems:h,draggingHeight:m,direction:v},setReorderState:y}=Object(a.useContext)(g),x=Object(a.useRef)(null),j=b&&h.some((e=>e.id===n.id))&&h.length;return Object(a.useEffect)((()=>{var e;j&&null!==(e=x.current)&&void 0!==e&&e.clientHeight&&y((e=>({...e,reorderedItems:e.reorderedItems.map((e=>{var t;return e.id===n.id?{...e,height:null===(t=x.current)||void 0===t?void 0:t.clientHeight}:e}))})))}),[j,y,n.id]),Object(s.jsx)("div",null,Object(s.jsx)("div",{style:h.some((e=>e.id===n.id))?{transform:`translateY(${v}${m}px)`}:void 0,ref:x,"data-test-subj":"lnsDragDrop-translatableDrop",className:"lnsDragDrop-translatableDrop lnsDragDrop-reorderable"},Object(s.jsx)(A,e)),Object(s.jsx)("div",{"data-test-subj":"lnsDragDrop-reorderableDropLayer",className:f()("lnsDragDrop",{lnsDragDrop__reorderableDrop:r}),onDrop:e=>{e.preventDefault(),e.stopPropagation(),u(void 0),o(void 0),i(!1),t&&r&&(Object(C.e)("drop_total"),t(r,"reorder"),setTimeout((()=>d(D.dropped(r.humanData,n.humanData,"reorder")))))},onDragOver:e=>{if(e.preventDefault(),(null==l?void 0:l.id)!==(null==n?void 0:n.id)&&t){u({...n,dropType:"reorder",onDrop:t});const e=c.findIndex((e=>e.id===(null==r?void 0:r.id)));if(!r||-1===e)return;const a=p;e===a&&y((e=>({...e,reorderedItems:[]}))),y((t=>e<a?{...t,reorderedItems:c.slice(e+1,a+1),direction:"-"}:{...t,reorderedItems:c.slice(a,e),direction:"+"}))}},onDragLeave:()=>{u(void 0),y((e=>({...e,reorderedItems:[]})))}}))}))},function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"h",(function(){return c}));const a="fixed",r="custom",o="above",i="percent",s=0,l=100,u=5,c={maxSteps:void 0,name:"positive",reverse:!1,rangeType:i,rangeMin:s,rangeMax:l,progression:a,stops:[],steps:u,colorStops:[],continuity:o}},function(e,t,n){"use strict";var a=n(99);n.d(t,"a",(function(){return a.a}))},,function(e,t,n){"use strict";var a=n(72);t.__esModule=!0,t.default=t.ReactReduxContext=void 0;var r=a(n(6)).default.createContext(null);t.ReactReduxContext=r;var o=r;t.default=o},function(e,t,n){"use strict";n.d(t,"c",(function(){return Je})),n.d(t,"f",(function(){return Qe})),n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return C})),n.d(t,"e",(function(){return M})),n.d(t,"d",(function(){return We})),n.d(t,"g",(function(){return Ve}));var a={};n.r(a),n.d(a,"buildNode",(function(){return W})),n.d(a,"toElasticsearchQuery",(function(){return B}));var r={};n.r(r),n.d(r,"wildcardSymbol",(function(){return V})),n.d(r,"buildNode",(function(){return H})),n.d(r,"test",(function(){return $})),n.d(r,"toElasticsearchQuery",(function(){return U})),n.d(r,"toQueryStringQuery",(function(){return Y})),n.d(r,"hasLeadingWildcard",(function(){return K}));var o={};n.r(o),n.d(o,"buildNodeParams",(function(){return ne})),n.d(o,"toElasticsearchQuery",(function(){return ae}));var i={};n.r(i),n.d(i,"buildNodeParams",(function(){return re})),n.d(i,"toElasticsearchQuery",(function(){return oe}));var s={};n.r(s),n.d(s,"buildNodeParams",(function(){return ie})),n.d(s,"toElasticsearchQuery",(function(){return se}));var l={};n.r(l),n.d(l,"buildNodeParams",(function(){return le})),n.d(l,"toElasticsearchQuery",(function(){return ue}));var u={};n.r(u),n.d(u,"buildNodeParams",(function(){return ce})),n.d(u,"toElasticsearchQuery",(function(){return de}));var c={};n.r(c),n.d(c,"buildNodeParams",(function(){return pe})),n.d(c,"toElasticsearchQuery",(function(){return fe}));var d={};n.r(d),n.d(d,"buildNodeParams",(function(){return ge})),n.d(d,"toElasticsearchQuery",(function(){return be}));var p={};n.r(p),n.d(p,"buildNode",(function(){return me})),n.d(p,"buildNodeWithArgumentNodes",(function(){return ve})),n.d(p,"toElasticsearchQuery",(function(){return ye}));var f,g,b=n(1),h=n.n(b),m=n(71),v=n.n(m),y=n(31),x=n.n(y),j=n(127),_=n.n(j),w=function(e,t){if("boolean"!=typeof t&&"boolean"===e.type){if([1,"true"].includes(t))return!0;if([0,"false"].includes(t))return!1;throw new Error("".concat(t," is not a valid boolean value for boolean field ").concat(e.name))}return"number"!=typeof t&&"number"===e.type?Number(t):t},O=function(e,t){var n=w(e,t);return{script:{source:D(e),lang:e.lang,params:{value:n}}}},D=function(e){return"painless"===e.lang?"boolean compare(Supplier s, def v) {return s.get() == v;}"+"compare(() -> { ".concat(e.script," }, params.value);"):"(".concat(e.script,") == value")};!function(e){e.CUSTOM="custom",e.PHRASES="phrases",e.PHRASE="phrase",e.EXISTS="exists",e.MATCH_ALL="match_all",e.QUERY_STRING="query_string",e.RANGE="range",e.RANGE_FROM_VALUE="range_from_value",e.SPATIAL_FILTER="spatial_filter"}(f||(f={})),function(e){e.APP_STATE="appState",e.GLOBAL_STATE="globalState"}(g||(g={}));var P={gt:">",gte:">=",lte:"<=",lt:"<"},k={gt:"boolean gt(Supplier s, def v) {return s.get() > v}",gte:"boolean gte(Supplier s, def v) {return s.get() >= v}",lte:"boolean lte(Supplier s, def v) {return s.get() <= v}",lt:"boolean lt(Supplier s, def v) {return s.get() < v}"},S={gt:"boolean gt(Supplier s, def v) {return s.get().toInstant().isAfter(Instant.parse(v))}",gte:"boolean gte(Supplier s, def v) {return !s.get().toInstant().isBefore(Instant.parse(v))}",lte:"boolean lte(Supplier s, def v) {return !s.get().toInstant().isAfter(Instant.parse(v))}",lt:"boolean lt(Supplier s, def v) {return s.get().toInstant().isBefore(Instant.parse(v))}"},L=function(e,t){var n=Object(y.mapValues)(Object(y.pickBy)(t,(function(e,t){return t in P})),(function(t){return"number"===e.type&&"string"==typeof t?parseFloat(t):t})),a=Object(y.map)(n,(function(t,n){return"("+e.script+")"+Object(y.get)(P,n)+n})).join(" && ");if("painless"===e.lang){var r="date"===e.type?S:k,o=Object(y.reduce)(n,(function(e,t,n){return e.concat(Object(y.get)(r,n))}),[]).join(" "),i=Object(y.map)(n,(function(t,n){return"".concat(n,"(() -> { ").concat(e.script," }, params.").concat(n,")")})).join(" && ");a="".concat(o).concat(i)}return{script:{source:a,params:n,lang:e.lang}}};function C(e,t,n,a,r,o){var i={index:e,type:f.CUSTOM,disabled:n,negate:a,alias:r},s=v()(v()({},t),{},{meta:i});return s.$state={store:o},s}var I=function(e){return function(e){return Object(y.has)(e,"query.exists")}(e)?function(e){return e.query.exists&&e.query.exists.field}(e):function(e){var t=Object(y.has)(e,"query.match_phrase"),n=Object(y.get)(e,"query.match",[]),a=void 0!==Object.values(n).find((function(e){return"phrase"===e.type}));return t||a}(e)?function(e){var t,n,a=null!==(t=null!==(n=e.query.match_phrase)&&void 0!==n?n:e.query.match)&&void 0!==t?t:{};return Object.keys(a)[0]}(e):function(e){var t;return(null==e||null===(t=e.meta)||void 0===t?void 0:t.type)===f.PHRASES}(e)?function(e){return e.meta.key}(e):function(e){return Object(y.has)(e,"query.range")}(e)?function(e){return e.query.range&&Object.keys(e.query.range)[0]}(e):void 0},M=function(e){return e.$state&&e.$state.store===g.GLOBAL_STATE},E=function(e){return Object(y.get)(e,"meta.disabled",!1)},T=function(e){return Object(y.omit)(e,["meta","$state"])};function A(e,t){if(function(e){var t,n,a=Object.keys(null!==(t=e.match||(null===(n=e.query)||void 0===n?void 0:n.match))&&void 0!==t?t:{})[0];return Boolean(a&&("phrase"===Object(y.get)(e,["query","match",a,"type"])||"phrase"===Object(y.get)(e,["match",a,"type"])))}(e)){var n=e.match||e.query.match,a=Object.keys(n)[0],r=Object(y.get)(n,[a]),o=r.query;if(t){var i=t.fields.find((function(e){return e.name===a}));i&&(o=w(i,r.query))}return{meta:e.meta,$state:e.$state,query:{match_phrase:h()({},a,Object(y.omit)(v()(v()({},r),{},{query:o}),"type"))}}}return e.query||(e.query={}),e.exists&&(e.query.exists=e.exists,delete e.exists),e.range&&(e.query.range=e.range,delete e.range),e.match_all&&(e.query.match_all=e.match_all,delete e.match_all),Object.keys(e).forEach((function(t){"meta"!==t&&"query"!==t&&"$state"!==t&&(e.query[t]=e[t],delete e[t])})),e}var z=n(101),F=n.n(z),R=n(82),N=n.n(R);function W(e){return{type:"literal",value:e}}function B(e){return e.value}var V="@kuery-wildcard@";function q(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function G(e){return e.replace(/[+-=&|><!(){}[\]^"~*?:\\/]/g,"\\$&")}function H(e){return e.includes(V)?{type:"wildcard",value:e}:Ne(e)}function $(e,t){var n=e.value.split(V).map(q).join("[\\s\\S]*");return new RegExp("^".concat(n,"$")).test(t)}function U(e){return e.value.split(V).join("*")}function Y(e){return e.value.split(V).map(G).join("*")}function K(e){var t=e.value;return t.startsWith(V)&&t.replace(V,"").length>0}function Q(e,t){if(!t)return[];if("literal"===e.type){var n=B(e),a=t.fields.find((function(e){return e.name===n}));return a?[a]:[]}return"wildcard"===e.type?t.fields.filter((function(t){return $(e,t.name)})):void 0}var Z=n(43),X=n.n(Z);function J(e){var t=X.a.tz.guess();return"Browser"===e?t:e}function ee(e){return function(e){var t,n=null==e?void 0:e.subType;return!(null==n||null===(t=n.nested)||void 0===t||!t.path)}(e)?e.subType:void 0}function te(e,t,n){var a=v()(v()({},e),{},{value:n?"".concat(n,".").concat(e.value):e.value});if(!t||"wildcard"===a.type&&!n)return a;var r=Q(a,t).reduce((function(e,t){var a=ee(t),r=null==a?void 0:a.nested.path;return n&&!r?[].concat(F()(e),["".concat(t.name,' is not a nested field but is in nested group "').concat(n,'" in the KQL expression.')]):r&&!n?[].concat(F()(e),["".concat(t.name," is a nested field, but is not in a nested group in the KQL expression.")]):r!==n?[].concat(F()(e),["Nested field ".concat(t.name," is being queried with the incorrect nested path. The correct path is ").concat(null==a?void 0:a.nested.path,".")]):e}),[]);if(r.length>0)throw new Error(r.join("\n"));return a}function ne(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Object(y.isUndefined)(e))throw new Error("fieldName is a required argument");if(Object(y.isUndefined)(t))throw new Error("value is a required argument");var a="string"==typeof e?Ne(e):W(e),r="string"==typeof t?Ne(t):W(t),o=W(n);return{arguments:[a,r,o]}}function ae(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=N()(e.arguments,3),o=r[0],i=r[1],s=r[2],l="wildcard"===i.type&&i.value===V,u="wildcard"===o.type&&o.value===V,c=l&&u;if(c)return{match_all:{}};var d=te(o,t,null!=a&&a.nested?a.nested.path:void 0),p=Object(y.isUndefined)(i)?i:Be(i),f=s.value?"phrase":"best_fields";if(null===d.value)return"wildcard"===i.type?{query_string:{query:Y(i)}}:{multi_match:{type:f,query:p,lenient:!0}};var g=t?Q(d,t):[];if(g&&0===g.length&&g.push({name:Be(d),scripted:!1,type:""}),l&&(null==g||!g.length||(null==g?void 0:g.length)===(null==t?void 0:t.fields.length)))return{match_all:{}};var b=g.reduce((function(e,t){var r=function(e){var n=ee(t);return"wildcard"!==d.type||null==n||!n.nested||null!=a&&a.nested?e:{nested:{path:n.nested.path,query:e,score_mode:"none"}}};if(!t.scripted){if(l)return[].concat(F()(e),[r({exists:{field:t.name}})]);if("wildcard"===i.type)return[].concat(F()(e),[r({query_string:{fields:[t.name],query:Y(i)}})]);if("date"===t.type){var o=n.dateFormatTZ?{time_zone:J(n.dateFormatTZ)}:{};return[].concat(F()(e),[r({range:h()({},t.name,v()({gte:p,lte:p},o))})])}var s="phrase"===f?"match_phrase":"match";return[].concat(F()(e),[r(h()({},s,h()({},t.name,p)))])}if(!l)return[].concat(F()(e),[{script:v()({},O(t,p))}])}),[]);return{bool:{should:b||[],minimum_should_match:1}}}function re(e){return{arguments:e}}function oe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=n.filtersInMustClause,o=e.arguments||[],i=r?"must":"filter";return{bool:h()({},i,o.map((function(e){return Be(e,t,n,a)})))}}function ie(e){return{arguments:e}}function se(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=e.arguments||[];return{bool:{should:r.map((function(e){return Be(e,t,n,a)})),minimum_should_match:1}}}function le(e){return{arguments:[e]}}function ue(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=N()(e.arguments,1),o=r[0];return{bool:{must_not:Be(o,t,n,a)}}}function ce(e,t,n){return{arguments:[Ne(e),t,xe.literal.buildNode(n)]}}function de(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=N()(e.arguments,3),o=r[0],i=r[1],s=r[2],l=te(o,t,null!=a&&a.nested?a.nested.path:void 0),u=t?Q(l,t):[];u&&0===u.length&&u.push({name:Be(l),scripted:!1,type:""});var c=u.map((function(e){var t=function(t){var n=ee(e);return"wildcard"!==l.type||null==n||!n.nested||a.nested?t:{nested:{path:n.nested.path,query:t,score_mode:"none"}}},r=h()({},i,Be(s));if(e.scripted)return{script:L(e,r)};if("date"===e.type){var o=n.dateFormatTZ?{time_zone:J(n.dateFormatTZ)}:{};return t({range:h()({},e.name,v()(v()({},r),o))})}return t({range:h()({},e.name,r)})}));return{bool:{should:c,minimum_should_match:1}}}function pe(e){return{arguments:[W(e)]}}function fe(e,t){var n,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=N()(e.arguments,1),o=r[0],i=v()(v()({},o),{},{value:null!=a&&a.nested?"".concat(a.nested.path,".").concat(o.value):o.value}),s=B(i),l=null==t||null===(n=t.fields)||void 0===n?void 0:n.find((function(e){return e.name===s}));if(null!=l&&l.scripted)throw new Error("Exists query does not support scripted fields");return{exists:{field:s}}}function ge(e,t){return{arguments:["string"==typeof e?Ne(e):W(e),t]}}function be(e,t){var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=N()(e.arguments,2),i=o[0],s=o[1],l=Be(i),u=null!=r&&null!==(n=r.nested)&&void 0!==n&&n.path?"".concat(r.nested.path,".").concat(l):l;return{nested:{path:u,query:Be(s,t,a,v()(v()({},r),{},{nested:{path:u}})),score_mode:"none"}}}var he={is:o,and:i,or:s,not:l,range:u,exists:c,nested:d};function me(e){var t=he[e];if(x.a.isUndefined(t))throw new Error('Unknown function "'.concat(e,'"'));for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return v()({type:"function",function:e},t.buildNodeParams.apply(t,a))}function ve(e,t){if(x.a.isUndefined(he[e]))throw new Error('Unknown function "'.concat(e,'"'));return{type:"function",function:e,arguments:t}}function ye(e,t,n,a){return he[e.function].toElasticsearchQuery(e,t,n,a)}var xe={function:p,literal:a,wildcard:r},je=n(272),_e=n.n(je),we=n(273),Oe=n.n(we),De=n(274),Pe=n.n(De),ke=n(275),Se=n.n(ke),Le=n(276),Ce=n.n(Le),Ie=n(277),Me=n.n(Ie),Ee=n(0),Te=Ee.i18n.translate("esQuery.kql.errors.endOfInputText",{defaultMessage:"end of input"}),Ae={fieldName:Ee.i18n.translate("esQuery.kql.errors.fieldNameText",{defaultMessage:"field name"}),value:Ee.i18n.translate("esQuery.kql.errors.valueText",{defaultMessage:"value"}),literal:Ee.i18n.translate("esQuery.kql.errors.literalText",{defaultMessage:"literal"}),whitespace:Ee.i18n.translate("esQuery.kql.errors.whitespaceText",{defaultMessage:"whitespace"})},ze=function(e){Se()(n,e);var t=Ce()(n);function n(e,a){var r;Oe()(this,n);var o=e.message;if(e.expected){var i=e.expected.map((function(e){var t,n="other"===(t=e).type?t.description:"literal"===t.type?'"'.concat(t.text,'"'):"end"===t.type?"end of input":t.text||t.description||"";return Ae[n]||n})),s=Object(y.uniq)(i).filter((function(e){return void 0!==e})).sort().join(", ");o=Ee.i18n.translate("esQuery.kql.errors.syntaxError",{defaultMessage:"Expected {expectedList} but {foundInput} found.",values:{expectedList:s,foundInput:e.found?'"'.concat(e.found,'"'):Te}})}var l=[o,a,Object(y.repeat)("-",e.location.start.offset)+"^"].join("\n");return r=t.call(this,l),h()(Pe()(r),"shortMessage",void 0),r.name="KQLSyntaxError",r.shortMessage=o,r}return _e()(n)}(Me()(Error)),Fe=n(128),Re=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fe.parse;if(void 0===e)throw new Error("expression must be a string, got undefined instead");return n(e,v()(v()({},t),{},{helpers:{nodeTypes:xe}}))},Ne=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Re(e,v()(v()({},t),{},{startRule:"Literal"}),Fe.parse)},We=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return Re(e,t,Fe.parse)}catch(t){throw"SyntaxError"===t.name?new ze(t,e):t}},Be=function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!t||!t.type||!xe[t.type])return e(xe.function.buildNode("and",[]),n);var o=xe[t.type];return o.toElasticsearchQuery(t,n,a,r)};Object(y.flow)((function(e){return e.replace(/[\\():<>"*]/g,"\\$&")}),(function(e){return e.replace(/(\s+)(and|or)(\s+)/gi,"$1\\$2$3")}),(function(e){return e.replace(/not(\s+)/gi,"\\$&")}),(function(e){return e.replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/\n/g,"\\n")}));var Ve=function(){return Be.apply(void 0,arguments)};function qe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=t.map((function(e){return We(e.query,{allowLeadingWildcards:n})}));return Ge(e,o,{dateFormatTZ:a,filtersInMustClause:r})}function Ge(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=xe.function.buildNode("and",t),r=Ve(a,e,n);return Object.assign({must:[],filter:[],should:[],must_not:[]},r.bool)}function He(e,t){var n,a;return null===(n=e.meta)||void 0===n||!n.key||!t||("custom"===(null===(a=e.meta)||void 0===a?void 0:a.type)?e.meta.index===t.id:t.fields.some((function(t){return t.name===e.meta.key})))}var $e=function(e,t){if(!t)return e;var n=I(e);if(!n)return e;var a=t.fields.find((function(e){return e.name===n})),r=a&&ee(a);if(!r)return e;var o=T(e);return{meta:e.meta,query:{nested:{path:r.nested.path,query:o.query||o}}}},Ue=function(e){return function(t){return Object(y.isUndefined)(t.meta)||Object(y.isUndefined)(t.meta.negate)?!e:t.meta&&t.meta.negate===e}},Ye=function(e){return e.query||e},Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e=e.filter((function(e){return e&&!E(e)}));var a=function(a){return e.filter((function(e){return!!e})).filter(Ue(a)).filter((function(e){return!n||He(e,t)})).map((function(e){return A(e,t)})).map((function(e){return $e(e,t)})).map(T).map(Ye)};return{must:[],filter:a(!1),should:[],must_not:a(!0)}};function Qe(e){return Object(y.isString)(e)?""===e.trim()?{match_all:{}}:{query_string:{query:e}}:e}function Ze(e,t,n){return{must:(e||[]).map((function(e){return function(e,t,n){return function(e){return Object(y.has)(e,"query_string.query")}(e)&&("string"==typeof t&&(t=JSON.parse(t)),Object(y.extend)(e.query_string,t),n&&Object(y.defaults)(e.query_string,{time_zone:J(n)})),e}(Qe(e.query),t,n)})),filter:[],should:[],must_not:[]}}function Xe(e){return e.filter((function(e){return!e||"object"!==_()(e)||!Object(y.isEqual)(e,{match_all:{}})}))}function Je(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{allowLeadingWildcards:!1,queryStringOptions:{},ignoreFilterIfFieldNotInIndex:!1};t=Array.isArray(t)?t:[t],n=Array.isArray(n)?n:[n];var r=t.filter((function(e){return Object(y.has)(e,"query")})),o=Object(y.groupBy)(r,"language"),i=qe(e,o.kuery,a.allowLeadingWildcards,a.dateFormatTZ,a.filtersInMustClause),s=Ze(o.lucene,a.queryStringOptions,a.dateFormatTZ),l=Ke(n,e,a.ignoreFilterIfFieldNotInIndex);return{bool:{must:Xe([].concat(F()(i.must),F()(s.must),F()(l.must))),filter:Xe([].concat(F()(i.filter),F()(s.filter),F()(l.filter))),should:Xe([].concat(F()(i.should),F()(s.should),F()(l.should))),must_not:[].concat(F()(i.must_not),F()(s.must_not),F()(l.must_not))}}}},function(e,t,n){"use strict";var a=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function r(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!((r=e[n])===(o=t[n])||a(r)&&a(o)))return!1;var r,o;return!0}e.exports=function(e,t){void 0===t&&(t=r);var n=null;function a(){for(var a=[],r=0;r<arguments.length;r++)a[r]=arguments[r];if(n&&n.lastThis===this&&t(a,n.lastArgs))return n.lastResult;var o=e.apply(this,a);return n={lastResult:o,lastArgs:a,lastThis:this},o}return a.clear=function(){n=null},a}},function(e,t,n){e.exports=n(22)(9)},function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"a",(function(){return h})),n.d(t,"f",(function(){return v})),n.d(t,"c",(function(){return z})),n.d(t,"d",(function(){return F}));var a=n(108),r=n(31),o=n(86),i=n(73),s=n(77),l=n(107),u=n(84);const c={persistedDoc:void 0,searchSessionId:"",filters:[],query:{language:"kuery",query:""},resolvedDateRange:{fromDate:"",toDate:""},isFullscreenDatasource:!1,isSaveable:!1,isLoading:!1,isLinkedToOriginatingApp:!1,activeDatasourceId:null,datasourceStates:{},visualization:{state:null,activeId:null}},d=({lensServices:{data:e},initialContext:t,embeddableEditorIncomingState:n,datasourceMap:a,visualizationMap:r})=>{const o=Object(i.getInitialDatasourceId)(a),s={};return o&&(s[o]={state:null,isLoading:!0}),{...c,isLoading:!0,query:t?e.query.queryString.getQuery():e.query.queryString.getDefaultQuery(),filters:t?e.query.filterManager.getFilters():e.query.filterManager.getGlobalFilters(),searchSessionId:e.search.session.getSessionId(),resolvedDateRange:Object(i.getResolvedDateRange)(e.query.timefilter.timefilter),isLinkedToOriginatingApp:Boolean(null==n?void 0:n.originatingApp),activeDatasourceId:o,datasourceStates:s,visualization:{state:null,activeId:Object.keys(r)[0]||null}}},p=Object(a.createAction)("lens/setState"),f=Object(a.createAction)("lens/onActiveDataChange"),g=Object(a.createAction)("lens/setSaveable"),b=Object(a.createAction)("lens/enableAutoApply"),h=Object(a.createAction)("lens/disableAutoApply"),m=Object(a.createAction)("lens/applyChanges"),v=Object(a.createAction)("lens/setChangesApplied"),y=Object(a.createAction)("lens/updateState"),x=Object(a.createAction)("lens/updateDatasourceState"),j=Object(a.createAction)("lens/updateVisualizationState"),_=Object(a.createAction)("lens/insertLayer"),w=Object(a.createAction)("lens/switchVisualization"),O=Object(a.createAction)("lens/rollbackSuggestion"),D=Object(a.createAction)("lens/setToggleFullscreen"),P=Object(a.createAction)("lens/submitSuggestion"),k=Object(a.createAction)("lens/switchDatasource"),S=Object(a.createAction)("lens/navigateAway"),L=Object(a.createAction)("lens/loadInitial"),C=Object(a.createAction)("initEmpty",(function({newState:e,initialContext:t}){return{payload:{layerId:Object(s.a)(),newState:e,initialContext:t}}})),I=Object(a.createAction)("lens/editVisualizationAction"),M=Object(a.createAction)("lens/removeLayers"),E=Object(a.createAction)("lens/removeOrClearLayer"),T=Object(a.createAction)("lens/addLayer"),A=Object(a.createAction)("lens/setLayerDefaultDimension"),z={setState:p,onActiveDataChange:f,setSaveable:g,enableAutoApply:b,disableAutoApply:h,applyChanges:m,setChangesApplied:v,updateState:y,updateDatasourceState:x,updateVisualizationState:j,insertLayer:_,switchVisualization:w,rollbackSuggestion:O,setToggleFullscreen:D,submitSuggestion:P,switchDatasource:k,navigateAway:S,loadInitial:L,initEmpty:C,editVisualizationAction:I,removeLayers:M,removeOrClearLayer:E,addLayer:T,setLayerDefaultDimension:A},F=e=>{const{datasourceMap:t,visualizationMap:n}=e;return Object(a.createReducer)(c,{[p.type]:(e,{payload:t})=>({...e,...t}),[f.type]:(e,{payload:t})=>({...e,activeData:t}),[g.type]:(e,{payload:t})=>({...e,isSaveable:t}),[b.type]:e=>{e.autoApplyDisabled=!1},[h.type]:e=>{e.autoApplyDisabled=!0,e.changesApplied=!0},[m.type]:e=>{void 0===e.applyChangesCounter&&(e.applyChangesCounter=0),e.applyChangesCounter++},[v.type]:(e,{payload:t})=>{e.changesApplied=t},[y.type]:(e,{payload:{updater:t}})=>({...t(Object(a.current)(e)),stagedPreview:void 0}),[E.type]:(e,{payload:{visualizationId:a,layerId:o,layerIds:s}})=>{const l=n[a],u="clear"===Object(i.getRemoveOperation)(l,e.visualization.state,o,s.length);e.datasourceStates=Object(r.mapValues)(e.datasourceStates,((e,n)=>{const a=t[n];return{...e,state:u?a.clearLayer(e.state,o):a.removeLayer(e.state,o)}})),e.stagedPreview=void 0,e.visualization.state=u||!l.removeLayer?l.clearLayer(e.visualization.state,o):l.removeLayer(e.visualization.state,o)},[x.type]:(e,{payload:t})=>({...e,datasourceStates:{...e.datasourceStates,[t.datasourceId]:{state:"function"==typeof t.updater?t.updater(Object(a.current)(e).datasourceStates[t.datasourceId].state):t.updater,isLoading:!1}},stagedPreview:t.clearStagedPreview?void 0:e.stagedPreview}),[j.type]:(e,{payload:t})=>{if(!e.visualization.activeId)throw new Error("Invariant: visualization state got updated without active visualization");return e.visualization.activeId!==t.visualizationId?e:{...e,visualization:{...e.visualization,state:t.newState}}},[w.type]:(e,{payload:t})=>{const{newVisualizationId:n,visualizationState:a,datasourceState:r,datasourceId:o}=t.suggestion;return{...e,datasourceStates:o?{...e.datasourceStates,[o]:{...e.datasourceStates[o],state:r}}:e.datasourceStates,visualization:{...e.visualization,activeId:n,state:a},stagedPreview:t.clearStagedPreview?void 0:e.stagedPreview||{datasourceStates:e.datasourceStates,visualization:e.visualization}}},[O.type]:e=>({...e,...e.stagedPreview||{},stagedPreview:void 0}),[D.type]:e=>({...e,isFullscreenDatasource:!e.isFullscreenDatasource}),[P.type]:e=>({...e,stagedPreview:void 0}),[k.type]:(e,{payload:t})=>({...e,datasourceStates:{...e.datasourceStates,[t.newDatasourceId]:e.datasourceStates[t.newDatasourceId]||{state:null,isLoading:!0}},activeDatasourceId:t.newDatasourceId}),[S.type]:e=>e,[L.type]:(e,t)=>e,[C.type]:(e,{payload:a})=>{const r={...e,...a.newState},o=Object(u.c)({datasourceMap:t,datasourceStates:r.datasourceStates,visualizationMap:n,visualizeTriggerFieldContext:a.initialContext});if(o)return{...r,datasourceStates:{...r.datasourceStates,[o.datasourceId]:{...r.datasourceStates[o.datasourceId],state:o.datasourceState}},visualization:{...r.visualization,activeId:o.visualizationId,state:o.visualizationState},stagedPreview:void 0};const s=r.visualization;if(!s.activeId)throw new Error("Invariant: visualization state got updated without active visualization");const l=n[s.activeId];if(null===s.state&&l){var c;const e=Object(i.getInitialDatasourceId)(t),n=l.initialize((()=>a.layerId)),o=t[e];return{...r,activeDatasourceId:e,datasourceStates:{...r.datasourceStates,[e]:{...r.datasourceStates[e],state:o.insertLayer(null===(c=r.datasourceStates[e])||void 0===c?void 0:c.state,a.layerId)}},visualization:{...s,state:n}}}return r},[I.type]:(e,{payload:t})=>{if(!e.visualization.activeId)throw new Error("Invariant: visualization state got updated without active visualization");if(e.visualization.activeId!==t.visualizationId)return e;const a=n[t.visualizationId];null!=a&&a.onEditAction&&(e.visualization.state=a.onEditAction(e.visualization.state,t.event))},[_.type]:(e,{payload:n})=>{const r=t[n.datasourceId].insertLayer;return{...e,datasourceStates:{...e.datasourceStates,[n.datasourceId]:{...e.datasourceStates[n.datasourceId],state:r(Object(a.current)(e).datasourceStates[n.datasourceId].state,n.layerId)}}}},[M.type]:(e,{payload:{visualizationId:r,layerIds:o}})=>{if(!e.visualization.activeId)throw new Error("Invariant: visualization state got updated without active visualization");const i=r&&n[r];if(e.visualization.activeId===r&&i&&i.removeLayer&&e.visualization.state){const t=o.reduce(((e,t)=>i.removeLayer?i.removeLayer(e,t):e),e.visualization.state);e.visualization.state="function"==typeof t?t(Object(a.current)(e.visualization.state)):t}o.forEach((n=>{var r;const[o]=null!==(r=Object.entries(t).find((([t,a])=>e.datasourceStates[t]&&a.getLayers(e.datasourceStates[t].state).includes(n))))&&void 0!==r?r:[];o&&(e.datasourceStates[o].state=t[o].removeLayer(Object(a.current)(e).datasourceStates[o].state,n))}))},[T.type]:(e,{payload:{layerId:r,layerType:i}})=>{if(!e.activeDatasourceId||!e.visualization.activeId)return e;const s=n[e.visualization.activeId],l=s.appendLayer(e.visualization.state,r,i),u={activeData:e.activeData?Object(a.current)(e.activeData):void 0,datasourceLayers:Object(o.b)(e.datasourceStates,t),dateRange:Object(a.current)(e.resolvedDateRange)},c=t[e.activeDatasourceId],{noDatasource:d}=s.getSupportedLayers(l,u).find((({type:e})=>e===i))||{},p=!d&&c?c.insertLayer(e.datasourceStates[e.activeDatasourceId].state,r):e.datasourceStates[e.activeDatasourceId].state,{activeDatasourceState:f,activeVisualizationState:g}=R({datasourceState:p,visualizationState:l,framePublicAPI:u,activeVisualization:s,activeDatasource:c,layerId:r,layerType:i});e.visualization.state=g,e.datasourceStates[e.activeDatasourceId].state=f,e.stagedPreview=void 0},[A.type]:(e,{payload:{layerId:r,columnId:i,groupId:s}})=>{if(!e.activeDatasourceId||!e.visualization.activeId)return e;const u=t[e.activeDatasourceId],c=n[e.visualization.activeId],d=Object(l.b)(c,e.visualization.state,r),{activeDatasourceState:p,activeVisualizationState:f}=R({datasourceState:e.datasourceStates[e.activeDatasourceId].state,visualizationState:e.visualization.state,framePublicAPI:{activeData:e.activeData?Object(a.current)(e.activeData):void 0,datasourceLayers:Object(o.b)(e.datasourceStates,t),dateRange:Object(a.current)(e.resolvedDateRange)},activeVisualization:c,activeDatasource:u,layerId:r,layerType:d,columnId:i,groupId:s});e.visualization.state=f,e.datasourceStates[e.activeDatasourceId].state=p}})};function R({visualizationState:e,datasourceState:t,activeVisualization:n,activeDatasource:a,framePublicAPI:r,layerType:o,layerId:i,columnId:s,groupId:l}){const{initialDimensions:u,noDatasource:c}=n.getSupportedLayers(e,r).find((({type:e})=>e===o))||{};if(u){const o=l?u.find((({groupId:e})=>e===l)):u[0];if(o){const l=n.setDimension({groupId:o.groupId,layerId:i,columnId:s||o.columnId,prevState:e,frame:r});return!c&&null!=a&&a.initializeDimension?{activeDatasourceState:a.initializeDimension(t,i,{...o,columnId:s||o.columnId}),activeVisualizationState:l}:{activeDatasourceState:t,activeVisualizationState:l}}}return{activeDatasourceState:t,activeVisualizationState:e}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return u}));var a=n(11),r=n(107),o=n(70);function i({datasourceMap:e,datasourceStates:t,visualizationMap:n,activeVisualization:o,subVisualizationId:i,visualizationState:s,field:l,visualizeTriggerFieldContext:u,activeData:c,mainPalette:d}){const p=Object.entries(e).filter((([e])=>t[e]&&!t[e].isLoading)),f=p.reduce(((e,[n,a])=>{const i=t[n].state;if(!o||!i)return e;const l=a.getLayers(i);for(const t of l){const n=Object(r.b)(o,s,t);e[t]=n}return e}),{}),g=(e,t)=>{var n;return t.includes(null!==(n=f[e])&&void 0!==n?n:a.o.DATA)},b=p.flatMap((([e,n])=>{const r=t[e].state;let o;return o=u?"isVisualizeAction"in u?n.getDatasourceSuggestionsForVisualizeCharts(r,u.layers):n.getDatasourceSuggestionsForVisualizeField(r,u.indexPatternId,u.fieldName):l?n.getDatasourceSuggestionsForField(r,l,(e=>g(e,[a.o.DATA]))):n.getDatasourceSuggestionsFromCurrentState(r,(e=>g(e,[a.o.DATA])),c),o.map((t=>({...t,datasourceId:e})))}));return Object.entries(n).flatMap((([e,t])=>{const n=t.getSupportedLayers().map((({type:e})=>e));return b.filter((e=>{const t=e.keptLayerIds.filter((e=>g(e,n))).length;return t||t===e.keptLayerIds.length})).flatMap((a=>{var r;const l=a.table,p=e===(null==o?void 0:o.id)?s:void 0,f=d||(null==o||null===(r=o.getMainPalette)||void 0===r?void 0:r.call(o,s));return function(e,t,n,a,r,o,i,s,l){return e.getSuggestions({table:t,state:r,keptLayerIds:a.keptLayerIds,subVisualizationId:o,mainPalette:i,isFromContext:s,activeData:l}).map((({state:e,...r})=>({...r,visualizationId:n,visualizationState:e,keptLayerIds:a.keptLayerIds,datasourceState:a.state,datasourceId:a.datasourceId,columns:t.columns.length,changeType:t.changeType})))}(t,l,e,{...a,keptLayerIds:a.keptLayerIds.filter((e=>g(e,n)))},p,i,f,u&&"isVisualizeAction"in u,c)}))})).sort(((e,t)=>t.score-e.score))}function s({datasourceMap:e,datasourceStates:t,visualizationMap:n,visualizeTriggerFieldContext:a}){const r=(null==n?void 0:n[Object.keys(n)[0]])||null,o=i({datasourceMap:e,datasourceStates:t,visualizationMap:n,activeVisualization:r,visualizationState:void 0,visualizeTriggerFieldContext:a});if(a&&"isVisualizeAction"in a){var s;const e=o.filter((e=>e.visualizationId===a.type));return null==r||null===(s=r.getVisualizationSuggestionFromContext)||void 0===s?void 0:s.call(r,{suggestions:e,context:a})}if(o.length)return o.find((e=>e.visualizationId===(null==r?void 0:r.id)))||o[0]}function l(e,t,n){e(Object(o.M)({suggestion:{newVisualizationId:t.visualizationId,visualizationState:t.visualizationState,datasourceState:t.datasourceState,datasourceId:t.datasourceId},clearStagedPreview:null==n?void 0:n.clearStagedPreview})),null!=n&&n.applyImmediately&&e(Object(o.b)())}function u(e,t,n,a,r,o){var s;const l=Object.values(e).some((e=>e.getTableSpec().length>0)),u=t.activeId?a[t.activeId]:void 0,c=null==u||null===(s=u.getMainPalette)||void 0===s?void 0:s.call(u,t.state),d=i({datasourceMap:{[r.id]:r},datasourceStates:n,visualizationMap:l&&t.activeId?{[t.activeId]:u}:a,activeVisualization:u,visualizationState:t.state,field:o,mainPalette:c});return d.find((e=>e.visualizationId===t.activeId))||d[0]}},function(e,t,n){"use strict";e.exports=n(369)},function(e,t,n){"use strict";n.d(t,"a",(function(){return Se})),n.d(t,"d",(function(){return m})),n.d(t,"b",(function(){return v})),n.d(t,"e",(function(){return y})),n.d(t,"c",(function(){return x})),n.d(t,"f",(function(){return _}));var a=n(6),r=n.n(a),o=(n(347),n(0)),i=n(7),s=n(98),l=n(75),u=n(70),c=n(81),d=n.n(c),p=n(93);function f(e,t,n){const a=[];if(Object.entries(t).forEach((([e,t])=>{const r=n[e].state;t.getLayers(n[e].state).forEach((e=>{const n=t.toExpression(r,e);n&&a.push([e,n])}))})),0===a.length||null===e)return null;const r=a.map((([e,t])=>[e,"string"==typeof t?Object(p.fromExpression)(t):t]));return{type:"expression",chain:[{type:"function",function:"kibana",arguments:{}},{type:"function",function:"lens_merge_tables",arguments:{layerIds:r.map((([e])=>e)),tables:r.map((([e,t])=>t))}},...("string"==typeof e?Object(p.fromExpression)(e):e).chain]}}function g({visualization:e,visualizationState:t,datasourceMap:n,datasourceStates:a,datasourceLayers:r,title:o,description:i}){return null===e?null:f(e.toExpression(t,r,{title:o,description:i}),n,a)}var b=n(73),h=n(112);async function m(e,t,n,a,r){const o={};return await Promise.all(Object.entries(e).map((([e,i])=>{if(t[e])return i.initialize(t[e].state||void 0,n,a,r).then((t=>{o[e]={isLoading:!1,state:t}}))}))),o}const v=d()((function(e,t){const n={};return Object.keys(t).filter((t=>e[t]&&!e[t].isLoading)).forEach((a=>{const r=e[a].state;t[a].getLayers(r).forEach((e=>{n[e]=t[a].getPublicAPI({state:r,layerId:e})}))})),n}));async function y(e,t,n){const{state:{visualization:a,datasourceStates:r},visualizationType:o,references:i,title:s,description:l}=n;if(!o)return{ast:null,errors:[{shortMessage:"",longMessage:Object(h.c)()}]};if(!t[o])return{ast:null,errors:[Object(h.e)(o)]};const u=t[o],c=await m(e,Object.fromEntries(Object.entries(r).map((([e,t])=>[e,{isLoading:!1,state:t}]))),i,void 0,{isFullEditor:!1}),d=v(c,e),p=Object(b.getActiveDatasourceIdFromDoc)(n);if(null==p)return{ast:null,errors:[{shortMessage:"",longMessage:Object(h.a)()}]};const f=j(e[p],c[p]);if(f)return{ast:null,errors:f};const y=_(e[p],c[p].state,u,a,{datasourceLayers:d});return{ast:g({title:s,description:l,visualization:u,visualizationState:a,datasourceMap:e,datasourceStates:c,datasourceLayers:d}),errors:y}}function x(e,t){if(null==t||null==e)return[];const n=e.checkIntegrity(t.state);return n.length?n:[]}const j=(e,t)=>{const n=x(e,t);if(n.length)return[{shortMessage:"",longMessage:Object(h.b)(n),type:"fixable"}]},_=(e,t,n,a,r)=>{const o=a?null==n?void 0:n.getLayerIds(a).reduce(((e,t)=>{const o=null==n?void 0:n.getConfiguration({frame:r,layerId:t,state:a}).groups;return o&&(e[t]=o),e}),{}):void 0,i=t?null==e?void 0:e.getErrorMessages(t,o):void 0,s=a?null==n?void 0:n.getErrorMessages(a,r.datasourceLayers):void 0;if(null!=i&&i.length||null!=s&&s.length)return[...i||[],...s||[]]};var w=n(2);const O=Object(a.memo)((e=>{const t=Object(u.R)(u.x),n=Object(u.R)(u.p),c=Object(u.R)(u.w),d=!n||c[n].isLoading,p=Object(u.Q)(),f=Object(a.useMemo)((()=>(e,t)=>{p(Object(u.N)({updater:e,datasourceId:n,clearStagedPreview:!0})),null!=t&&t.applyImmediately&&p(Object(u.b)())}),[n,p]);Object(a.useEffect)((()=>{n&&null===c[n].state&&m(e.datasourceMap,c,void 0,void 0,{isFullEditor:!0}).then((e=>{const t=Object.entries(e).reduce(((e,[t,n])=>({...e,[t]:{...n,isLoading:!1}})),{});p(Object(u.I)({datasourceStates:t}))}))}),[c,n,e.datasourceMap,p]);const g={...t,dragDropContext:Object(a.useContext)(l.b),state:n?c[n].state:null,setState:f,core:e.core,showNoDataPopover:e.showNoDataPopover,dropOntoWorkspace:e.dropOntoWorkspace,hasSuggestionForField:e.hasSuggestionForField,uiActions:e.plugins.uiActions},[b,h]=Object(a.useState)(!1);return Object(w.jsx)(r.a.Fragment,null,Object.keys(e.datasourceMap).length>1&&Object(w.jsx)(i.EuiPopover,{id:"datasource-switch",className:"lnsDataPanelWrapper__switchSource",button:Object(w.jsx)(i.EuiButtonIcon,{"aria-label":o.i18n.translate("xpack.lens.dataPanelWrapper.switchDatasource",{defaultMessage:"Switch to datasource"}),title:o.i18n.translate("xpack.lens.dataPanelWrapper.switchDatasource",{defaultMessage:"Switch to datasource"}),"data-test-subj":"datasource-switch",onClick:()=>h(!0),iconType:"gear"}),isOpen:b,closePopover:()=>h(!1),panelPaddingSize:"none",anchorPosition:"rightUp"},Object(w.jsx)(i.EuiContextMenuPanel,{title:o.i18n.translate("xpack.lens.dataPanelWrapper.switchDatasource",{defaultMessage:"Switch to datasource"}),items:Object.keys(e.datasourceMap).map((e=>Object(w.jsx)(i.EuiContextMenuItem,{key:e,"data-test-subj":`datasource-switch-${e}`,icon:n===e?"check":"empty",onClick:()=>{h(!1),p(Object(u.L)({newDatasourceId:e}))}},e)))})),n&&!d&&Object(w.jsx)(s.a,{className:"lnsDataPanelWrapper",render:e.datasourceMap[n].renderDataPanel,nativeProps:g}))}));var D=n(21),P=n.n(D),k=(n(402),n(68));function S({activeVisualization:e,layerConfigProps:t}){if(!e.renderLayerHeader){const n=e.getDescription(t.state);return n?Object(w.jsx)(k.j,{label:n.label,icon:n.icon}):null}return Object(w.jsx)(s.a,{render:e.renderLayerHeader,nativeProps:t})}var L=n(69),C=n(92);function I({onRemoveLayer:e,layerIndex:t,isOnlyLayer:n,activeVisualization:a}){let r;return r=a.removeLayer?n?o.i18n.translate("xpack.lens.resetLayerAriaLabel",{defaultMessage:"Reset layer {index}",values:{index:t+1}}):o.i18n.translate("xpack.lens.deleteLayerAriaLabel",{defaultMessage:"Delete layer {index}",values:{index:t+1}}):o.i18n.translate("xpack.lens.resetVisualizationAriaLabel",{defaultMessage:"Reset visualization"}),Object(w.jsx)(i.EuiButtonIcon,{size:"xs",iconType:n?"eraser":"trash",color:"danger","data-test-subj":"lnsLayerRemove","aria-label":r,title:r,onClick:()=>{const t=document.activeElement;null!=t&&t.blur&&t.blur(),e()}})}var M=n(32),E=n(77),T=n(34),A=n.n(T);const z=({type:e,isIncompatible:t})=>{const{icon:n,label:a,controlKey:r}=function(e){switch(e){case"duplicate":return{icon:"copy",label:o.i18n.translate("xpack.lens.dragDrop.duplicate",{defaultMessage:"Duplicate"}),controlKey:o.i18n.translate("xpack.lens.dragDrop.altOption",{defaultMessage:"Alt/Option"})};case"swap":return{icon:"merge",label:o.i18n.translate("xpack.lens.dragDrop.swap",{defaultMessage:"Swap"}),controlKey:o.i18n.translate("xpack.lens.dragDrop.shift",{defaultMessage:"Shift"})};case"combine":return{icon:"aggregate",label:o.i18n.translate("xpack.lens.dragDrop.combine",{defaultMessage:"Combine"}),controlKey:o.i18n.translate("xpack.lens.dragDrop.control",{defaultMessage:"Control"})};default:throw Error("Drop type not supported")}}(e);return Object(w.jsx)(i.EuiFlexGroup,{gutterSize:"s",justifyContent:"spaceBetween",alignItems:"center",className:A()("lnsDragDrop__extraDrop",{"lnsDragDrop-incompatibleExtraDrop":t})},Object(w.jsx)(i.EuiFlexItem,{grow:!1},Object(w.jsx)(i.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},Object(w.jsx)(i.EuiFlexItem,{grow:!1},Object(w.jsx)(i.EuiIcon,{size:"m",type:n})),Object(w.jsx)(i.EuiFlexItem,{grow:!1,"data-test-subj":`lnsDragDrop-${e}`},Object(w.jsx)(i.EuiText,{size:"s"},a)))),Object(w.jsx)(i.EuiFlexItem,{grow:!1},Object(w.jsx)(i.EuiText,{size:"xs"},Object(w.jsx)("code",null," ",r))))},F={replace_duplicate_incompatible:z({type:"duplicate",isIncompatible:!0}),duplicate_incompatible:z({type:"duplicate",isIncompatible:!0}),swap_incompatible:z({type:"swap",isIncompatible:!0}),replace_duplicate_compatible:z({type:"duplicate"}),duplicate_compatible:z({type:"duplicate"}),swap_compatible:z({type:"swap"}),field_combine:z({type:"combine"}),combine_compatible:z({type:"combine"}),combine_incompatible:z({type:"combine",isIncompatible:!0})},R=e=>(null==F?void 0:F[e])||null,N=e=>{if(e&&["field_replace","replace_compatible","replace_incompatible","replace_duplicate_compatible","replace_duplicate_incompatible"].includes(e))return"lnsDragDrop-isReplacing"},W=e=>{if(e&&["move_incompatible","replace_incompatible","swap_incompatible","duplicate_incompatible","replace_duplicate_incompatible","combine_incompatible"].includes(e))return"lnsDragDrop-notCompatible"},B=(e,t,n)=>{return e?e.getDropProps(t):(r=t,(a=t.dragging)&&r&&"columnId"in a&&a.columnId!==r.columnId&&"groupId"in a&&a.groupId===r.groupId&&"layerId"in a&&a.layerId===r.layerId?{dropTypes:[n?"duplicate_compatible":"reorder"],nextLabel:""}:void 0);var a,r},V=o.i18n.translate("xpack.lens.indexPattern.emptyDimensionButton",{defaultMessage:"Empty dimension"}),q={ariaLabel:e=>o.i18n.translate("xpack.lens.indexPattern.addColumnAriaLabel",{defaultMessage:"Add or drag-and-drop a field to {groupLabel}",values:{groupLabel:e}}),label:Object(w.jsx)(M.FormattedMessage,{id:"xpack.lens.configure.emptyConfig",defaultMessage:"Add or drag-and-drop a field"})},G=({columnId:e,group:t,onClick:n})=>{const{buttonAriaLabel:a,buttonLabel:r}=t.labels||{};return Object(w.jsx)(i.EuiButtonEmpty,{className:"lnsLayerPanel__triggerText",color:"text",size:"s",iconType:"plusInCircleFilled",contentProps:{className:"lnsLayerPanel__triggerTextContent"},"aria-label":a||q.ariaLabel(t.groupLabel),"data-test-subj":"lns-empty-dimension",onClick:()=>{n(e)}},r||q.label)},H=({columnId:e,group:t,onClick:n})=>{var a,r;return Object(w.jsx)(i.EuiButtonEmpty,{className:"lnsLayerPanel__triggerText",color:"text",size:"s",iconType:"plusInCircleFilled",contentProps:{className:"lnsLayerPanel__triggerTextContent"},"aria-label":o.i18n.translate("xpack.lens.indexPattern.suggestedValueAriaLabel",{defaultMessage:"Suggested value: {value} for {groupLabel}",values:{value:null===(a=t.suggestedValue)||void 0===a?void 0:a.call(t),groupLabel:t.groupLabel}}),"data-test-subj":"lns-empty-dimension-suggested-value",onClick:()=>{n(e)}},Object(w.jsx)(M.FormattedMessage,{id:"xpack.lens.configure.suggestedValuee",defaultMessage:"Suggested value: {value}",values:{value:null===(r=t.suggestedValue)||void 0===r?void 0:r.call(t)}}))};function $({group:e,groups:t,layerDatasource:n,layerDatasourceDropProps:o,layerId:i,groupIndex:s,layerIndex:u,onClick:c,onDrop:d}){var p;const{dragging:f}=Object(a.useContext)(l.b),g=e.accessors.length,[b,h]=Object(a.useState)(Object(E.a)());Object(a.useEffect)((()=>{h(Object(E.a)())}),[g]);const m=B(n,{...o||{},dragging:f,columnId:b,filterOperations:e.filterOperations,groupId:e.groupId,dimensionGroups:t},!0),v=null==m?void 0:m.dropTypes,y=null==m?void 0:m.nextLabel,x=!(!v||!v.includes("duplicate_compatible")&&!v.includes("duplicate_incompatible")),j=Object(a.useMemo)((()=>({columnId:b,groupId:e.groupId,layerId:i,id:b,humanData:{label:V,groupLabel:e.groupLabel,position:g+1,nextLabel:y||"",canDuplicate:x}})),[b,e.groupId,i,e.groupLabel,g,y,x]),_=r.a.useCallback(((e,t)=>d(e,j,t)),[j,d]),O={columnId:j.columnId,onClick:c,group:e};return Object(w.jsx)("div",{className:"lnsLayerPanel__dimensionContainer","data-test-subj":e.dataTestSubj},Object(w.jsx)(l.c,{getAdditionalClassesOnDroppable:W,value:j,order:[2,u,s,g],onDrop:_,dropTypes:v,getCustomDropTarget:R},Object(w.jsx)("div",{className:"lnsLayerPanel__dimension lnsLayerPanel__dimension--empty"},"number"==typeof(null===(p=e.suggestedValue)||void 0===p?void 0:p.call(e))?Object(w.jsx)(H,O):Object(w.jsx)(G,O))))}function U({accessorConfig:e,children:t}){let n=null;if(e.triggerIcon&&"none"!==e.triggerIcon){const t={size:"s",className:"lnsLayerPanel__colorIndicator"};n=Object(w.jsx)(i.EuiFlexItem,{grow:!1},"color"===e.triggerIcon&&e.color&&Object(w.jsx)(i.EuiIcon,P()({},t,{color:e.color,type:"stopFilled","aria-label":o.i18n.translate("xpack.lens.editorFrame.colorIndicatorLabel",{defaultMessage:"Color of this dimension: {hex}",values:{hex:e.color}})})),"disabled"===e.triggerIcon&&Object(w.jsx)(i.EuiIcon,P()({},t,{type:"stopSlash",color:"subdued","aria-label":o.i18n.translate("xpack.lens.editorFrame.noColorIndicatorLabel",{defaultMessage:"This dimension does not have an individual color"})})),"invisible"===e.triggerIcon&&Object(w.jsx)(i.EuiIcon,P()({},t,{type:"eyeClosed",color:"subdued","aria-label":o.i18n.translate("xpack.lens.editorFrame.invisibleIndicatorLabel",{defaultMessage:"This dimension is currently not visible in the chart"})})),"colorBy"===e.triggerIcon&&Object(w.jsx)(i.EuiIcon,P()({},t,{type:"brush",color:"text","aria-label":o.i18n.translate("xpack.lens.editorFrame.paletteColorIndicatorLabel",{defaultMessage:"This dimension is using a palette"})})))}return Object(w.jsx)(i.EuiFlexGroup,{gutterSize:"none",alignItems:"center",responsive:!1},n,Object(w.jsx)(i.EuiFlexItem,null,t))}function Y({accessorConfig:e}){return"colorBy"===e.triggerIcon&&e.palette?Object(w.jsx)("div",{className:"lnsLayerPanel__paletteContainer"},Object(w.jsx)(i.EuiColorPaletteDisplay,{className:"lnsLayerPanel__palette",size:"xs",palette:e.palette})):null}const K=e=>o.i18n.translate("xpack.lens.configure.editConfig",{defaultMessage:"Edit {label} configuration",values:{label:e}});function Q({group:e,children:t,onClick:n,onRemoveClick:a,accessorConfig:s,label:l,invalid:u}){return Object(w.jsx)(r.a.Fragment,null,Object(w.jsx)(i.EuiLink,{className:"lnsLayerPanel__dimensionLink","data-test-subj":"lnsLayerPanel-dimensionLink",onClick:()=>n(s.columnId),"aria-label":K(l),title:K(l),color:u||e.invalid?"danger":void 0},Object(w.jsx)(U,{accessorConfig:s},t)),Object(w.jsx)(i.EuiButtonIcon,{className:"lnsLayerPanel__dimensionRemove","data-test-subj":"indexPattern-dimension-remove",iconType:"cross",iconSize:"s",size:"s",color:"danger","aria-label":o.i18n.translate("xpack.lens.indexPattern.removeColumnLabel",{defaultMessage:'Remove configuration from "{groupLabel}"',values:{groupLabel:e.groupLabel}}),title:o.i18n.translate("xpack.lens.indexPattern.removeColumnLabel",{defaultMessage:'Remove configuration from "{groupLabel}"',values:{groupLabel:e.groupLabel}}),onClick:()=>a(s.columnId)}),Object(w.jsx)(Y,{accessorConfig:s}))}var Z=n(97);function X({layerId:e,label:t,accessorIndex:n,groupIndex:r,layerIndex:o,columnId:i,group:s,groups:u,onDrop:c,onDragStart:d,onDragEnd:p,children:f,layerDatasourceDropProps:g,layerDatasource:b,registerNewButtonRef:h}){const{dragging:m}=Object(a.useContext)(l.b),v=B(b,{...g||{},dragging:m,columnId:i,filterOperations:s.filterOperations,groupId:s.groupId,dimensionGroups:u}),y=null==v?void 0:v.dropTypes,x=null==v?void 0:v.nextLabel,j=!(!y||!y.includes("replace_duplicate_incompatible")&&!y.includes("replace_duplicate_compatible")),_=!(!y||!y.includes("swap_incompatible")&&!y.includes("swap_compatible")),O=Boolean(y&&(y.includes("combine_compatible")||y.includes("field_combine")||y.includes("combine_incompatible"))),D=Object(a.useMemo)((()=>({columnId:i,groupId:s.groupId,layerId:e,id:i,filterOperations:s.filterOperations,humanData:{canSwap:_,canDuplicate:j,canCombine:O,label:t,groupLabel:s.groupLabel,position:n+1,nextLabel:x||""}})),[i,s.groupId,n,e,t,s.groupLabel,x,s.filterOperations,j,_,O]),P=Object(a.useMemo)((()=>s.accessors.map((e=>({id:e.columnId})))),[s.accessors]),k=Object(a.useCallback)((e=>h(i,e)),[h,i]),S=Object(a.useCallback)(((e,t)=>c(e,D,t)),[D,c]);return Object(w.jsx)("div",{ref:k,className:"lnsLayerPanel__dimensionContainer","data-test-subj":s.dataTestSubj},Object(w.jsx)(l.c,{getCustomDropTarget:R,getAdditionalClassesOnEnter:N,getAdditionalClassesOnDroppable:W,order:[2,o,r,n],draggable:!0,dragType:Object(Z.a)(m)?"move":"copy",dropTypes:y,reorderableGroup:P.length>1?P:void 0,value:D,onDrop:S,onDragStart:()=>d(),onDragEnd:()=>p()},f))}function J(e){const[t,n]=Object(a.useState)(null),[r,o]=Object(a.useState)({});Object(a.useEffect)((()=>{const e=t&&r[t];if(e){const t=(e=>{const t="button, [href], input, select, textarea, [tabindex]";return e?e.matches(t)?e:e.querySelector(t)||null:null})(e);null==t||t.focus(),n(null)}}),[e,r,t]);const i=Object(a.useCallback)(((e,t)=>{t&&o((n=>({...n,[e]:t})))}),[]),s=Object(a.useCallback)((t=>{if(e.length<=1)return n(t);const a=e.findIndex((e=>e===t));o((e=>{const n={...e};return delete n[t],n}));const r=0===a?e[1]:e[a-1];return n(r)}),[e]);return{setNextFocusedId:n,removeRef:s,registerNewRef:i}}const ee={isNew:!1};function te(e){var t,n,c;const[d,p]=Object(a.useState)(ee),[f,g]=Object(a.useState)(!1),{framePublicAPI:b,layerId:h,isOnlyLayer:m,onRemoveLayer:v,registerNewLayerRef:y,layerIndex:x,activeVisualization:j,updateVisualization:_,updateDatasource:O,toggleFullscreen:D,updateAll:P,updateDatasourceAsync:k,visualizationState:M}=e,E=Object(u.R)(u.w),T=Object(u.R)(u.A),A=Object(u.R)(u.B);Object(a.useEffect)((()=>{p(ee)}),[j.id]);const z=Object(a.useRef)(null),F=Object(a.useCallback)((e=>y(h,e)),[h,y]),R={layerId:h,state:e.visualizationState,frame:e.framePublicAPI,dateRange:A,activeData:e.framePublicAPI.activeData},N=null===(t=b.datasourceLayers)||void 0===t?void 0:t[h],W=null==N?void 0:N.datasourceId,B=null==E||null===(n=E[W])||void 0===n?void 0:n.state,V=e.datasourceMap[W],q=Object(a.useMemo)((()=>({layerId:h,state:B,setState:e=>{O(W,e)}})),[h,B,W,O]),G={...q,frame:e.framePublicAPI,dateRange:A},{groups:H}=Object(a.useMemo)((()=>j.getConfiguration(R)),[R.frame,R.state,h,j]),U=!V&&j.getUniqueLabels?j.getUniqueLabels(e.visualizationState):null==V||null===(c=V.uniqueLabels)||void 0===c?void 0:c.call(V,null==G?void 0:G.state),Y=!H.some((e=>e.accessors.length>0)),{activeId:K,activeGroup:Z}=d,{setDimension:te,removeDimension:ne}=j,ae=H.flatMap((e=>e.accessors.map((e=>e.columnId)))),{setNextFocusedId:re,removeRef:oe,registerNewRef:ie}=J(ae),se=null==V?void 0:V.onDrop,le=Object(a.useMemo)((()=>(t,n,a)=>{if(!a)return;const{columnId:r,groupId:o,layerId:i}=n;if(re("reorder"===a||"field_replace"===a||"field_add"===a?t.id:r),V){const n=H.find((({groupId:e})=>e===o)),s=(null==n?void 0:n.filterOperations)||(()=>!1),l=se({...q,droppedItem:t,columnId:r,layerId:i,filterOperations:s,dimensionGroups:H,groupId:o,dropType:a});if(l){let s="string"==typeof t.column?t.column:void 0;s||(s="duplicate_compatible"===a&&"string"==typeof t.columnId&&null!=n&&n.requiresPreviousColumnOnDuplicate?t.columnId:"object"==typeof l?l.deleted:void 0);const u=te({columnId:r,groupId:o,layerId:i,prevState:e.visualizationState,previousColumn:s,frame:b});_("object"==typeof l?ne({columnId:l.deleted,layerId:i,prevState:u,frame:b}):u)}}else if("duplicate_compatible"===a||"reorder"===a){const n=te({columnId:r,groupId:o,layerId:i,prevState:e.visualizationState,previousColumn:t.id,frame:b});_(n)}}),[b,H,se,e.visualizationState,_,te,ne,q,re,V]),ue=Boolean(K),ce=Object(a.useCallback)(((e,{isDimensionComplete:t=!0,forceRender:n=!1}={})=>{Z&&K&&(ae.includes(K)?t?n?O(W,e):k(W,e):P(W,e,j.removeDimension({layerId:h,columnId:K,prevState:M,frame:b})):t?(P(W,e,j.setDimension({layerId:h,groupId:Z.groupId,columnId:K,prevState:M,frame:b})),p({...d,isNew:!1})):n?O(W,e):k(W,e))}),[d,Z,K,j,W,h,P,k,M,b]);return Object(w.jsx)(r.a.Fragment,null,Object(w.jsx)("section",{tabIndex:-1,ref:F,className:"lnsLayerPanel"},Object(w.jsx)(i.EuiPanel,{"data-test-subj":`lns-layerPanel-${x}`,paddingSize:"none"},Object(w.jsx)("header",{className:"lnsLayerPanel__layerHeader"},Object(w.jsx)(i.EuiFlexGroup,{gutterSize:"s",responsive:!1,alignItems:"center"},Object(w.jsx)(i.EuiFlexItem,{grow:!0,className:"lnsLayerPanel__layerSettingsWrapper"},Object(w.jsx)(S,{layerConfigProps:{...R,setState:e.updateVisualization},activeVisualization:j})),Object(w.jsx)(i.EuiFlexItem,{grow:!1},Object(w.jsx)(I,{onRemoveLayer:v,layerIndex:x,isOnlyLayer:m,activeVisualization:j}))),V&&Object(w.jsx)(r.a.Fragment,null,Object(w.jsx)(i.EuiSpacer,{size:"s"}),Object(w.jsx)(s.a,{render:V.renderLayerPanel,nativeProps:{layerId:h,state:B,activeData:e.framePublicAPI.activeData,setState:t=>{const n="function"==typeof t?t(B):t,a=V.getPublicAPI({state:n,layerId:h}),r=new Set(a.getTableSpec().map((({columnId:e})=>e))),o=N.getTableSpec().map((({columnId:e})=>e)).filter((e=>!r.has(e)));let i=e.visualizationState;o.forEach((e=>{i=j.removeDimension({layerId:h,columnId:e,prevState:i,frame:b})})),e.updateAll(W,n,i)}}}))),H.map(((t,n)=>{let a=!1;Y||(t.requiredMinDimensionCount?a=t.accessors.length<t.requiredMinDimensionCount:t.required&&(a=0===t.accessors.length));const u=t.requiredMinDimensionCount?o.i18n.translate("xpack.lens.editorFrame.requiresTwoOrMoreFieldsWarningLabel",{defaultMessage:"Requires {requiredMinDimensionCount} fields",values:{requiredMinDimensionCount:t.requiredMinDimensionCount}}):o.i18n.translate("xpack.lens.editorFrame.requiresFieldWarningLabel",{defaultMessage:"Requires field"}),c=!t.required&&!t.suggestedValue;return Object(w.jsx)(i.EuiFormRow,{className:"lnsLayerPanel__row",fullWidth:!0,label:Object(w.jsx)(r.a.Fragment,null,t.groupLabel,t.groupTooltip&&Object(w.jsx)(r.a.Fragment,null,Object(w.jsx)(i.EuiIconTip,{color:"subdued",content:t.groupTooltip,iconProps:{className:"eui-alignTop"},position:"top",size:"s",type:"questionInCircle"}))),labelAppend:c?Object(w.jsx)(i.EuiText,{color:"subdued",size:"xs","data-test-subj":"lnsGroup_optional"},o.i18n.translate("xpack.lens.editorFrame.optionalDimensionLabel",{defaultMessage:"Optional"})):null,labelType:"legend",key:t.groupId,isInvalid:a,error:a?u:[]},Object(w.jsx)(r.a.Fragment,null,t.accessors.length?Object(w.jsx)(l.d,{id:t.groupId,className:"lnsLayerPanel__group"},t.accessors.map(((a,o)=>{var i;const{columnId:l}=a;return Object(w.jsx)(X,{registerNewButtonRef:ie,accessorIndex:o,columnId:l,group:t,groups:H,groupIndex:n,key:l,layerDatasourceDropProps:q,label:null==U?void 0:U[l],layerDatasource:V,layerIndex:x,layerId:h,onDragStart:()=>g(!0),onDragEnd:()=>g(!1),onDrop:le},Object(w.jsx)("div",{className:"lnsLayerPanel__dimension"},Object(w.jsx)(Q,{accessorConfig:a,label:null==U?void 0:U[a.columnId],group:t,onClick:e=>{p({isNew:!1,activeGroup:t,activeId:e})},onRemoveClick:t=>{Object(L.e)("indexpattern_dimension_removed"),W&&V?e.updateAll(W,V.removeColumn({layerId:h,columnId:t,prevState:B}),j.removeDimension({layerId:h,columnId:t,prevState:e.visualizationState,frame:b})):e.updateVisualization(j.removeDimension({layerId:h,columnId:t,prevState:e.visualizationState,frame:b})),oe(t)},invalid:V&&!(null!=V&&V.isValidColumn(B,h,l))},V?Object(w.jsx)(s.a,{render:V.renderDimensionTrigger,nativeProps:{...G,columnId:a.columnId,groupId:t.groupId,filterOperations:t.filterOperations,hideTooltip:f,invalid:t.invalid,invalidMessage:t.invalidMessage}}):Object(w.jsx)(r.a.Fragment,null,null==j||null===(i=j.renderDimensionTrigger)||void 0===i?void 0:i.call(j,{columnId:l,label:U[l],hideTooltip:f,invalid:t.invalid,invalidMessage:t.invalidMessage})))))}))):null,t.supportsMoreColumns?Object(w.jsx)($,{group:t,groupIndex:n,groups:H,layerId:h,layerIndex:x,layerDatasource:V,layerDatasourceDropProps:q,onClick:n=>{e.onEmptyDimensionAdd(n,t),p({activeGroup:t,activeId:n,isNew:!t.supportStaticValue&&Boolean(V)})},onDrop:le}):null))})))),Object(w.jsx)(C.b,{panelRef:e=>z.current=e,isOpen:ue,isFullscreen:T,groupLabel:(null==Z?void 0:Z.groupLabel)||"",handleClose:()=>{if(V){if(V.canCloseDimensionEditor&&!V.canCloseDimensionEditor(B))return!1;if(V.updateStateOnCloseDimension){const t=V.updateStateOnCloseDimension({state:B,layerId:h,columnId:K});t&&e.updateDatasource(W,t)}}return p(ee),T&&D(),!0},panel:Object(w.jsx)("div",null,Z&&K&&V&&Object(w.jsx)(s.a,{render:V.renderDimensionEditor,nativeProps:{...G,core:e.core,columnId:K,groupId:Z.groupId,hideGrouping:Z.hideGrouping,filterOperations:Z.filterOperations,dimensionGroups:H,toggleFullscreen:D,isFullscreen:T,setState:ce,supportStaticValue:Boolean(Z.supportStaticValue),paramEditorCustomProps:Z.paramEditorCustomProps,supportFieldFormat:!1!==Z.supportFieldFormat,layerType:j.getLayerType(h,M)}}),Z&&K&&!T&&!d.isNew&&j.renderDimensionEditor&&(null==Z?void 0:Z.enableDimensionEditor)&&Object(w.jsx)("div",{className:"lnsLayerPanel__styleEditor"},Object(w.jsx)(s.a,{render:j.renderDimensionEditor,nativeProps:{...R,groupId:Z.groupId,accessor:K,setState:e.updateVisualization,panelRef:z}})))}))}var ne=n(107);const ae=Object(a.memo)((function(e){const t=Object(u.R)(u.F),n=t.activeId?e.visualizationMap[t.activeId]:null;return n&&t.state?Object(w.jsx)(re,P()({},e,{activeVisualization:n})):null}));function re(e){const{activeVisualization:t,datasourceMap:n}=e,{activeDatasourceId:r,visualization:o}=Object(u.R)((e=>e.lens)),s=Object(u.Q)(),l=t.getLayerIds(o.state),{setNextFocusedId:c,removeRef:d,registerNewRef:p}=J(l),f=Object(a.useMemo)((()=>e=>{s(Object(u.P)({visualizationId:t.id,newState:e}))}),[t,s]),g=Object(a.useMemo)((()=>(e,t)=>{s(Object(u.N)({updater:e=>"function"==typeof t?t(e):t,datasourceId:e,clearStagedPreview:!1}))}),[s]),h=Object(a.useMemo)((()=>(e,t)=>{setTimeout((()=>{g(e,t)}),0)}),[g]),m=Object(a.useMemo)((()=>(e,t,n)=>{setTimeout((()=>{s(Object(u.O)({updater:a=>{const r="function"==typeof t?t(a.datasourceStates[e].state):t,o="function"==typeof n?n(a.visualization.state):n;return{...a,datasourceStates:{...a.datasourceStates,[e]:{state:r,isLoading:!1}},visualization:{...a.visualization,state:o}}}}))}),0)}),[s]),v=Object(a.useMemo)((()=>()=>{s(Object(u.J)())}),[s]);return Object(w.jsx)(i.EuiForm,{className:"lnsConfigPanel"},l.map(((a,i)=>Object(w.jsx)(te,P()({},e,{activeVisualization:t,registerNewLayerRef:p,key:a,layerId:a,layerIndex:i,visualizationState:o.state,updateVisualization:f,updateDatasource:g,updateDatasourceAsync:h,updateAll:m,isOnlyLayer:"clear"===Object(b.getRemoveOperation)(t,o.state,a,l.length),onEmptyDimensionAdd:(e,{groupId:t})=>{var o;null!=r&&null!==(o=n[r])&&void 0!==o&&o.initializeDimension&&s(Object(u.G)({layerId:a,columnId:e,groupId:t}))},onRemoveLayer:()=>{s(Object(u.m)({visualizationId:t.id,layerId:a,layerIds:l})),d(a)},toggleFullscreen:v})))),Object(w.jsx)(ne.a,{visualization:t,visualizationState:o.state,layersMeta:e.framePublicAPI,onAddLayerClick:e=>{const t=Object(E.a)();s(Object(u.a)({layerId:t,layerType:e})),Object(L.e)("layer_added"),c(t)}}))}function oe(e){const t=Object(u.R)(u.A);return Object(w.jsx)(i.EuiPage,{className:A()("lnsFrameLayout",{"lnsFrameLayout-isFullscreen":t})},Object(w.jsx)(i.EuiPageBody,{restrictWidth:!1,className:"lnsFrameLayout__pageContent","aria-labelledby":"lns_ChartTitle"},Object(w.jsx)("section",{className:A()("lnsFrameLayout__sidebar lnsFrameLayout__sidebar--left",{}),"aria-labelledby":"dataPanelId"},Object(w.jsx)(i.EuiScreenReaderOnly,null,Object(w.jsx)("h2",{id:"dataPanelId"},o.i18n.translate("xpack.lens.section.dataPanelLabel",{defaultMessage:"Data panel"}))),e.dataPanel),Object(w.jsx)("section",{className:A()("lnsFrameLayout__pageBody",{"lnsFrameLayout__pageBody-isFullscreen":t}),"aria-labelledby":"workspaceId"},Object(w.jsx)(i.EuiScreenReaderOnly,null,Object(w.jsx)("h2",{id:"workspaceId"},o.i18n.translate("xpack.lens.section.workspaceLabel",{defaultMessage:"Visualization workspace"}))),e.workspacePanel,Object(w.jsx)("div",{className:"lnsFrameLayout__suggestionPanel"},e.suggestionsPanel)),Object(w.jsx)("section",{className:A()("lnsFrameLayout__sidebar lnsFrameLayout__sidebar--right",{"lnsFrameLayout__sidebar-isFullscreen":t}),"aria-labelledby":"configPanel"},Object(w.jsx)(i.EuiScreenReaderOnly,null,Object(w.jsx)("h2",{id:"configPanel"},o.i18n.translate("xpack.lens.section.configPanelLabel",{defaultMessage:"Config panel"}))),e.configPanel)))}n(407),n(412);var ie=n(31),se=n(417),le=n.n(se),ue=n(84);const ce=({withLabel:e,ExpressionRendererComponent:t,expression:n,hasError:a})=>{const r=Object(w.jsx)("div",{className:"lnsSuggestionPanel__suggestionIcon"},Object(w.jsx)(i.EuiIconTip,{size:"xl",color:"danger",type:"alert","aria-label":o.i18n.translate("xpack.lens.editorFrame.previewErrorLabel",{defaultMessage:"Preview rendering failed"}),content:o.i18n.translate("xpack.lens.editorFrame.previewErrorLabel",{defaultMessage:"Preview rendering failed"})}));return Object(w.jsx)("div",{className:A()("lnsSuggestionPanel__chartWrapper",{"lnsSuggestionPanel__chartWrapper--withLabel":e})},!n||a?r:Object(w.jsx)(t,{className:"lnsSuggestionPanel__expressionRenderer",padding:"s",expression:n,debounce:2e3,renderError:()=>r}))},de=({preview:e,ExpressionRenderer:t,selected:n,onSelect:a,showTitleAsLabel:r})=>Object(w.jsx)(i.EuiToolTip,{content:e.title},Object(w.jsx)("div",{"data-test-subj":`lnsSuggestion-${Object(ie.camelCase)(e.title)}`},Object(w.jsx)(i.EuiPanel,{hasBorder:!0,hasShadow:!1,className:A()("lnsSuggestionPanel__button",{"lnsSuggestionPanel__button-isSelected":n}),paddingSize:"none","data-test-subj":"lnsSuggestion",onClick:a,"aria-current":!!n,"aria-label":e.title},e.expression||e.error?Object(w.jsx)(ce,{ExpressionRendererComponent:t,expression:e.expression&&Object(p.toExpression)(e.expression),withLabel:Boolean(r),hasError:Boolean(e.error)}):Object(w.jsx)("span",{className:"lnsSuggestionPanel__suggestionIcon"},Object(w.jsx)(i.EuiIcon,{size:"xxl",type:e.icon})),r&&Object(w.jsx)("span",{className:"lnsSuggestionPanel__buttonLabel"},e.title)))),pe=e=>Object(u.R)(u.A)?null:Object(w.jsx)(fe,e);function fe({datasourceMap:e,visualizationMap:t,frame:n,ExpressionRenderer:s}){const l=Object(u.Q)(),c=Object(u.R)(u.p),d=Object(u.R)(u.o),p=Object(u.R)(u.w),f=Object(u.R)((e=>Boolean(e.lens.stagedPreview))),g=Object(u.R)(u.u),b=Object(u.R)(u.t),h=Object(u.R)(u.s),[m,v]=le()("LENS_SUGGESTIONS_PANEL_HIDDEN",!1),y=Object(a.useCallback)((()=>{v(!m)}),[v,m]),j=x(c?e[c]:null,c?p[c]:null),{suggestions:O,currentStateExpression:D,currentStateError:k}=Object(a.useMemo)((()=>{var a;const r=j.length?[]:Object(ue.a)({datasourceMap:e,datasourceStates:b,visualizationMap:t,activeVisualization:g.activeId?t[g.activeId]:void 0,visualizationState:g.state,activeData:d}).filter((({hide:a,visualizationId:r,visualizationState:o,datasourceState:i,datasourceId:s})=>!a&&null==_(s?e[s]:null,i,t[r],o,n))).slice(0,5).map((a=>({...a,previewExpression:ge(a,t[a.visualizationId],e,b,n)}))),o=_(c?e[c]:null,c&&(null===(a=b[c])||void 0===a?void 0:a.state),g.activeId?t[g.activeId]:null,g.state,n);return{suggestions:r,currentStateExpression:g.state&&g.activeId&&!o?ge({visualizationState:g.state},t[g.activeId],e,b,n):void 0,currentStateError:o}}),[b,g.state,g.activeId,c,e,t]),S=Object(u.R)(u.y),I=Object(u.R)(u.D),E=Object(a.useRef)(S);E.current=S;const T=Object(a.useRef)(I);T.current=I;const A=Object(a.useMemo)((()=>e=>Object(w.jsx)(s,P()({},e,{searchContext:E.current,searchSessionId:T.current}))),[s]),[z,F]=Object(a.useState)(-1);if(Object(a.useEffect)((()=>{f||-1===z||F(-1)}),[f]),!c)return null;if(0===O.length)return null;function R(){-1!==z&&(Object(L.d)("back_to_current"),F(-1),l(Object(u.n)()),l(Object(u.b)()))}return Object(w.jsx)("div",{className:"lnsSuggestionPanel"},Object(w.jsx)(i.EuiAccordion,{id:"lensSuggestionsPanel",buttonContent:Object(w.jsx)(i.EuiTitle,{size:"xxs"},Object(w.jsx)("h3",null,Object(w.jsx)(M.FormattedMessage,{id:"xpack.lens.editorFrame.suggestionPanelTitle",defaultMessage:"Suggestions"}))),forceState:m?"closed":"open",onToggle:y,extraAction:f&&!m&&Object(w.jsx)(i.EuiToolTip,{content:o.i18n.translate("xpack.lens.suggestion.refreshSuggestionTooltip",{defaultMessage:"Refresh the suggestions based on the selected visualization."})},Object(w.jsx)(i.EuiButtonEmpty,{"data-test-subj":"lensSubmitSuggestion",size:"xs",iconType:"refresh",onClick:()=>{Object(L.e)("suggestion_confirmed"),l(Object(u.K)())}},o.i18n.translate("xpack.lens.sugegstion.refreshSuggestionLabel",{defaultMessage:"Refresh"})))},Object(w.jsx)("div",{className:"lnsSuggestionPanel__suggestions","data-test-subj":"lnsSuggestionsPanel"},h?Object(w.jsx)(r.a.Fragment,null,g.activeId&&!m&&Object(w.jsx)(de,{preview:{error:null!=k,expression:D,icon:t[g.activeId].getDescription(g.state).icon||"empty",title:o.i18n.translate("xpack.lens.suggestions.currentVisLabel",{defaultMessage:"Current visualization"})},ExpressionRenderer:A,onSelect:R,selected:-1===z,showTitleAsLabel:!0}),!m&&O.map(((e,t)=>Object(w.jsx)(de,{preview:{expression:e.previewExpression,icon:e.previewIcon,title:e.title},ExpressionRenderer:A,key:t,onSelect:()=>{Object(L.e)("suggestion_clicked"),z===t?R():(F(t),Object(ue.d)(l,e,{applyImmediately:!0}))},selected:t===z})))):Object(w.jsx)(i.EuiPanel,{hasShadow:!1,className:"lnsSuggestionPanel__applyChangesPrompt",paddingSize:"m"},Object(w.jsx)(i.EuiText,{size:"s",color:"subdued",className:"lnsSuggestionPanel__applyChangesMessage"},Object(w.jsx)("p",null,Object(w.jsx)(M.FormattedMessage,{id:"xpack.lens.suggestions.applyChangesPrompt",defaultMessage:"Latest changes must be applied to view suggestions."}))),Object(w.jsx)(i.EuiButtonEmpty,{iconType:"checkInCircleFilled",size:"s",className:C.a,onClick:()=>l(Object(u.b)()),"data-test-subj":"lnsApplyChanges__suggestions"},Object(w.jsx)(M.FormattedMessage,{id:"xpack.lens.suggestions.applyChangesLabel",defaultMessage:"Apply changes"}))))))}function ge(e,t,n,a,r){const o=e.datasourceId,i=e.datasourceState,s=function(e,t,n,a){if(!t.toPreviewExpression)return null;const r={datasourceLayers:{...a.datasourceLayers}};if(e.keptLayerIds&&e.datasourceId&&e.datasourceState){const t=n[e.datasourceId],r=e.datasourceState,o=Object(ie.pick)(a.datasourceLayers,e.keptLayerIds);t.getLayers(e.datasourceState).forEach((e=>{o[e]&&(o[e]=t.getPublicAPI({layerId:e,state:r}))}))}return t.toPreviewExpression(e.visualizationState,r.datasourceLayers)}(e,t,n,r);if(s)return f(s,n,o?{...a,[o]:{isLoading:!1,state:i}}:a)}var be=n(33),he=n(8),me=n(114);const ve=({title:e,titleId:t,...n})=>Object(w.jsx)("svg",P()({width:176,height:176,viewBox:"0 0 176 176",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t},n),e?Object(w.jsx)("title",{id:t},e):null,Object(w.jsx)("path",{d:"M122.155 89.485H12.389v40.796h109.766V89.485z",fill:"#58C5A7"}),Object(w.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.471 91.253c.358-.28.786-.454 1.236-.503A1.664 1.664 0 0122 92.647a1.842 1.842 0 01-1.801 1.375 1.65 1.65 0 01-1.513-1.69c.156-.426.428-.8.785-1.08zm-6.188 3.1c.137 0 .618-.07.646-.275.027-.207-.358-.482-.509-.496a.482.482 0 00-.495.317c-.041.22.206.412.357.454zm-.908 5.197v1.952c.097.108.22.188.357.234a1.156 1.156 0 001.376-1.086c.096-.536-.372-1.018-1.142-1.141-.197-.03-.4-.016-.591.041zm34.375 9.213a.797.797 0 00-.921.371c-.385.619-.33.921.275 1.54-.041.549-.041 1.101 0 1.65a.548.548 0 00.376.522.557.557 0 00.614-.192c.076-.103.16-.203.245-.304.314-.373.64-.759.607-1.332l-.591-.605c.041-.798-.192-1.527-.605-1.65zm-33.096 5.211a.727.727 0 00-.646-.88 2.289 2.289 0 00-.62 0v2.131h.152a.715.715 0 00-.165.275v.468a.44.44 0 00.316.343c.385.097.578-.44.591-.618.014-.179 0-.564-.357-.605h-.055c.395-.257.676-.656.784-1.114zm.261 1.952c-.165-.041-.165-.206-.165-.33a.348.348 0 01.22-.124c.082.042.289.193.192.262a.263.263 0 00-.074.097c-.035.063-.067.122-.173.095zm-1.54 2.613v.632a1.71 1.71 0 001.169.853 1.062 1.062 0 001.107-.45c.078-.118.132-.25.158-.389a1.376 1.376 0 00-1.059-1.568 1.536 1.536 0 00-1.375.922zm1.293 4.304a1.38 1.38 0 001.457-.894 1.513 1.513 0 00-1.182-1.595c-.427 0-.95.522-1.045 1.169a1.112 1.112 0 00.77 1.32zm11.809-1.457c.158.123.29.277.387.453.962.247 1.553.948 1.347 1.705a1.966 1.966 0 01-1.925 1.471 1.898 1.898 0 01-1.375-1.746 1.225 1.225 0 01-.234-.894c.11-.66.784-1.334 1.265-1.251.195.05.377.139.535.262zm4.91.989a1.376 1.376 0 00-1.265.701 1.16 1.16 0 00-.357.151c.038.136.066.274.082.413a2.842 2.842 0 00-.082.33 1.155 1.155 0 001.072 1.375 1.374 1.374 0 001.664-1.375 1.472 1.472 0 00-1.113-1.595zm-4.262 7.164a1.004 1.004 0 00.523.632c.343.124.838-.371.756-.756-.06-.28-.186-.378-.281-.453a.473.473 0 01-.09-.083c-.633-.028-1.032.371-.908.66zm4.386-1.059c.232.136.433.319.591.536.174-.022.349-.026.523-.014a1.01 1.01 0 01.839.935.806.806 0 01-.096.33h-4.126a1.378 1.378 0 01.124-.605c.454-1.045 1.375-1.54 2.145-1.182zm-5.514.536a.904.904 0 00.908-.838c0-.468-.289-.674-.729-.715a.83.83 0 00-.864.43.828.828 0 00-.098.326.75.75 0 00.216.572.753.753 0 00.568.225zm11.688.344c.041-.853.44-1.251 1.127-1.251.757.055 1.458.646 1.43 1.21 0 .288-.453.701-.92.948h-1.156a1.202 1.202 0 01-.481-.907zm14.286-7.205c.124-.22.097-.385-.137-.495-.234-.11-.372-.082-.495.138a.314.314 0 00.01.396c.03.037.07.065.114.085a.316.316 0 00.509-.124zM13.2 130.267h-.825v-6.985c.072-.015.154-.046.245-.08h.001v-.001c.394-.148.945-.355 1.514.37.333.425-.1.878-.317 1.105a1.2 1.2 0 00-.095.105.78.78 0 01.646-.151.74.74 0 01.674.866v.151a1.87 1.87 0 012.447 0 1.702 1.702 0 01-.11-.907.851.851 0 01.839-.784c.742-.055 1.595.701 1.375 1.155-.18.42-.488.771-.88 1.004h.192a.866.866 0 01.77.839 1.55 1.55 0 01-.33 1.003c.66-.151 1.471.702 1.279 1.637-.047.232-.14.452-.275.646h-3.3c-.137-.206-.275-1.664.151-1.898.326-.178.716.077.943.226.07.045.125.081.157.091.113.033.18-.043.283-.163.023-.026.047-.055.075-.085h-.138a2.187 2.187 0 01-.976-.852c-.27.371-.675.622-1.128.701a2.637 2.637 0 01-.632.261 1.628 1.628 0 01-.371-.399 1.841 1.841 0 01-.825-1.636c.02-.123.057-.244.11-.357a.765.765 0 01-.234.123c.12.29-.057.572-.2.8-.055.086-.104.164-.13.232-.045.116.03.18.153.285.14.12.34.291.493.65.289.673-.632 1.595-1.609 1.375h-.096c.098.21.14.442.124.673zm4.895-4.056h-.082a.58.58 0 01-.317-.192c.052.109.089.225.11.343.092-.058.189-.109.289-.151zm22.358-1.87c-.633-.068-1.018.317-1.114 1.073a.179.179 0 00-.083.069 1.374 1.374 0 00.316 1.375 1.23 1.23 0 001.306-.385.782.782 0 00.62-.605 1.843 1.843 0 00-1.045-1.527zm-19.345 1.893a.813.813 0 01-.208-.573.906.906 0 01.963-.77.827.827 0 01.715.977.736.736 0 01-.318.525.75.75 0 01-.604.107.813.813 0 01-.548-.266zm28.575-6.065a1.195 1.195 0 01-.073-.709 1.374 1.374 0 011.32-.426.962.962 0 01.426 1.169.885.885 0 01-.49.525.877.877 0 01-.72-.017 1.192 1.192 0 01-.463-.542zm-32.358-1.919a.55.55 0 00-.605.66c0 .275.151 1.004.536.976.385-.027.756-.646.798-.921.041-.275-.275-.715-.729-.715zm5.795 8.839c.213.248.34.557.365.882-.041.481-.564.812-1.306.812h-.33a1.09 1.09 0 01-.756-1.018c.04-.55.742-1.169 1.21-1.169.318.073.604.246.817.493zm-.937 1.694h-.004.041H22.183zm0 0c-.675.012-1.338.366-1.338.866-.007.206.04.409.138.591h2.392a.734.734 0 000-.165c0-.837-.315-1.222-1.192-1.292zm-2.15-12.114c0 .605.317 1.003.674.907a1.05 1.05 0 00.633-.522c.124-.344-.371-.839-.756-.757-.272.059-.373.179-.452.273a.502.502 0 01-.098.099zm5.34 9.231c.028.082.037.17.023.256-.027.454-.44.756-.715.715-.275-.041-.88-.412-.907-.797-.028-.385.701-.523.976-.523a.535.535 0 01.623.349zm2.127 4.312h.481a.62.62 0 00-.481 0zm-4.648-6.366c.138.083.33.33.234.536-.082.193-.398.22-.55.179-.151-.041-.454-.412-.371-.605.082-.192.55-.192.688-.11zm25.617 6.422l.192-.33a2.2 2.2 0 00.454-.097.856.856 0 00-.083.413h2.984a1.2 1.2 0 00-.445-1.285 1.207 1.207 0 00-.435-.2 1.943 1.943 0 00-1.059 0 .8.8 0 00-.563-.536c-.688-.22-.963-.083-1.375.646-.543.098-1.08.226-1.609.385a.582.582 0 00-.34.318.59.59 0 00-.004.466 2.012 2.012 0 00-1.1.275l3.383-.055zm7.38-16.424a.77.77 0 01-.01-.393c.811-.426 1.1-.426 1.292-.041a.783.783 0 01-.343.963.77.77 0 01-.94-.529zm-3.795 1.45a.885.885 0 01.334.206c.508.316.536.646.412.853-.124.206.316.261.481.123.165-.137.592-.316.99.262.399.577-.233 1.058-.66 1.292-.426.234-.728.33-1.072 0-.16-.154-.321-.182-.505-.215-.21-.037-.452-.079-.76-.321a1.376 1.376 0 01-.261-1.843.9.9 0 01.651-.401.875.875 0 01.39.044zm-17.074 1.155c0-.165-.22-.427-.357-.44-.138-.014-.537 0-.55.412-.013.378.31.398.49.41l.046.003c.165.013.385-.262.371-.385zm4.318 2.447c-.798-.275-1.032-.756-.798-1.375.248-.284.59-.47.962-.522a.756.756 0 01-.618-.605 1.032 1.032 0 01.88-.99.353.353 0 01.268.109.342.342 0 01.09.276c.002.092.012.196.022.302.031.34.065.71-.091.825a.766.766 0 01.316 0c.343.165.522.633.343 1.169-.288.811-.577 1.086-1.374.811zm15.014-7.755c0-.044.009-.093.018-.144.026-.155.055-.326-.141-.419a.303.303 0 00-.44.165c-.069.165-.179.577 0 .687.178.11.55-.192.563-.289zm-5.898 14.011c.07.029.132.077.178.138a1.1 1.1 0 01.798-.124c.536.138.962 1.238.536 1.513a.933.933 0 01-.715 0 .77.77 0 010 .275c-.178.509-.756.66-1.457.371a.955.955 0 01-.206-.11c.027.082-.042.536-.386.468-.343-.069-.343-.427-.343-.592a.315.315 0 01.22-.302.908.908 0 010-.88 1.116 1.116 0 011.375-.757zm-3.685 4.098c.082-.344-.426-.962-.853-1.059a.674.674 0 00-.524.136.668.668 0 00-.246.483c-.096.701 0 1.196.399 1.279a1.38 1.38 0 001.224-.839zm13.166-11.052a.757.757 0 01-.31-.031.849.849 0 01-.481-1.127.685.685 0 01.595-.549.688.688 0 01.285.026.897.897 0 01.577 1.1.767.767 0 01-.666.581zm-22.806 4.809a1.372 1.372 0 01-.81.014 1.168 1.168 0 01-.413-1.499.661.661 0 01.633-.467c.27-.143.576-.201.88-.165.426.082.632.303.632.77-.03.264-.119.518-.261.742v.138c-.169.219-.4.381-.661.467zm-5.169-11.852c.22 0 .412-.206.454-.357.041-.152-.083-.619-.289-.647-.206-.027-.481.358-.481.509 0 .151.096.468.316.495zm.591 2.805c-.096.412-1.058.66-1.375.412-.261-.247-.261-1.402.578-1.416a.932.932 0 01.289 0c.068-.165.26-.412.426-.412a.448.448 0 01.289.398 1.103 1.103 0 01-.207.427 1.22 1.22 0 010 .591zm22.44 7.04c-.027-1.224.426-2.516 2.214-2.228.342.056.672-.045.99-.142.386-.118.753-.231 1.1-.05a2.116 2.116 0 01.949 1.774 2.6 2.6 0 01-1.746 2.598 1.111 1.111 0 01-.867 0c-.19.191-.402.357-.632.495a.987.987 0 01-.564-.756 1.69 1.69 0 01-1.031-.577A1.899 1.899 0 0152.95 121zm-31.061-3.383c0 .495.619.674.907.743.29.069.564-.289.592-.646.027-.358-.275-.825-.633-.729-.048.013-.1.025-.155.038-.344.081-.758.178-.711.594zm-1.733-10.546c.07-.371 1.403-1.059 1.61-.783.233.275.467 1.154-.235 1.347-.7.192-1.443-.192-1.375-.564zm6.958 19.127a1.25 1.25 0 00.77 1.746 1.182 1.182 0 001.526-.536 1.775 1.775 0 00-.949-1.994 1.254 1.254 0 00-1.347.784zm.99-3.658c.027 0 .124.22.124.22-.041.069-.193.289-.261.192-.024-.032-.055-.055-.085-.078-.059-.043-.112-.083-.094-.183.027-.151.288-.151.316-.151zM33 127.077a1.38 1.38 0 00-1.375.674c-.124.317.289 1.004.701 1.155a.6.6 0 00.702-.22 1.512 1.512 0 00.948.757.829.829 0 00.922-.784c.08.046.162.088.247.124a1.148 1.148 0 00.939.009 1.13 1.13 0 00.628-.697 1.372 1.372 0 00-.32-1.666 1.375 1.375 0 00-.532-.287 1.488 1.488 0 00-1.856.661 1.195 1.195 0 00.11 1.045 1.448 1.448 0 00-.866.33c.068-.605-.014-1.004-.248-1.101zm-9.996-16.747c.069.124.22.467.069.591a.533.533 0 01-.592.055c-.179-.069-.344-.467-.179-.646a.634.634 0 01.702 0zm-8.195 2.984h-.275a.809.809 0 00-.44.866c-.006.256.071.507.22.715.239-.06.483-.102.729-.124a.695.695 0 00-.262.523 1.732 1.732 0 001.375 1.622 1.276 1.276 0 001.045-1.182 1.089 1.089 0 00-1.114-1.279 1.74 1.74 0 00-.538-.002c.02-.005.06-.026.071-.108.044-.228-.208-.45-.454-.666-.14-.124-.277-.245-.357-.365zm1.99-6.431c.043.175.044.357.003.532a.897.897 0 01-1.03.585.897.897 0 01-.386-.186 1.04 1.04 0 01-.222-.83 1.036 1.036 0 01.484-.71.99.99 0 01.907.137c.117.136.2.298.244.472zm.884 16.619c.49.176.881.032 1.14-.063.145-.053.248-.091.303-.047.022.018.052.048.089.085.22.218.688.681 1.135.328a1.074 1.074 0 00.426-1.375 1.06 1.06 0 00.949-.743 1.76 1.76 0 000-.66c.162-.105.31-.229.44-.371a1.376 1.376 0 00-.165-2.117 1.538 1.538 0 00-2.255.371c-.394.54-.25.955-.133 1.295.104.3.187.541-.142.754-.316.205-.51.146-.712.085-.247-.075-.508-.154-1.02.231-.936.701-.84 1.939-.055 2.227zm.893-9.377c.206-.096.537.124.537.289.055.178-.014.536-.22.563a.637.637 0 01-.578-.343.441.441 0 01.261-.509zm2.186 1.581a.605.605 0 00.66.715 1.062 1.062 0 00.757-.412c.11-.206-.179-.99-.564-1.031a.796.796 0 00-.852.728zm11.804 8.348c.05-.002.1.007.145.026.087.019.184.035.283.052.343.058.715.121.79.292a.77.77 0 01-.798 1.003 1.043 1.043 0 01-.728-1.1.33.33 0 01.308-.273zm37.311-5.226c-.77-.11-1.636.412-1.677 1.003-.041.592.564 1.114 1.182 1.169a1.208 1.208 0 001.21-1.114c.07-.618-.178-.99-.715-1.058zm-1.503 4.809c.014-.231.082-.456.197-.657a1.38 1.38 0 01.704-.862 1.368 1.368 0 011.111-.059 2.063 2.063 0 011.238 2.103 1.691 1.691 0 01-2.131 1.032 1.521 1.521 0 01-1.006-.88 1.516 1.516 0 01-.113-.677zm4.075-14.325a1.376 1.376 0 00-1.636.413c-.248.481.15 1.182.866 1.526a1.004 1.004 0 001.182-.44 1.209 1.209 0 00-.412-1.499zm-12.26 19.874a1.61 1.61 0 01-.789-.899 1.555 1.555 0 011.251-1.581c.88-.014 1.843.371 1.843 1.004a1.57 1.57 0 01-1.114 1.581 1.613 1.613 0 01-1.19-.105zm6.54-4.707a1.868 1.868 0 00-2.132.866 1.567 1.567 0 00.702 2.062 2.48 2.48 0 002.406-.907 1.608 1.608 0 00-.976-2.021zm-3.819-8.983a1.583 1.583 0 011.11-.092 1.539 1.539 0 01.605 1.884 1.58 1.58 0 01-1.815.385 1.086 1.086 0 01-.674-1.375c.152-.353.427-.637.774-.802zm6.362-1.77c-.577-.275-1.058 0-1.375.743a1.375 1.375 0 00.358 1.526 1.51 1.51 0 001.76-.646 1.375 1.375 0 00-.743-1.623zm-10.725 16.033c.22-.344.674-.344 1.197 0 .149.114.31.211.481.288.17.052.332.126.481.22h-2.269a.633.633 0 01.11-.508zm13.503-2.558a1.183 1.183 0 002.2.674 1.457 1.457 0 00-.578-1.774c-.398-.151-1.443.537-1.622 1.1zm-58.74-17.545a.88.88 0 01.261 0 1.623 1.623 0 011.1 1.581 1.225 1.225 0 01-1.375.784 1.651 1.651 0 01-.921-.357v-1.375c.034-.04.066-.082.097-.123.044-.059.088-.117.137-.166H12.375v-5.115a1.113 1.113 0 011.114 1.54 1.279 1.279 0 000 .715 2.75 2.75 0 01.178 1.87 1.47 1.47 0 01-.357.646zm-.935-4.771v-.66a.55.55 0 010 .66zm1.705-.22a.893.893 0 00.674 1.031.909.909 0 001.017-.701 1.03 1.03 0 00-.756-1.114.883.883 0 00-.935.784zm60.76 13.21c.166.323.21.695.125 1.049a1.508 1.508 0 01-.773.947 1.508 1.508 0 01-1.221.057 1.174 1.174 0 01-.876-1.048c-.012-.163.01-.326.065-.479a1.663 1.663 0 011.898-1.237c.337.135.615.387.781.711zm-10.394 3.551c-.09.552.336.793.785 1.046l.095.054.165-.114c.398-.272.797-.544.591-1.123a.347.347 0 00-.082-.151 2.024 2.024 0 001.155-1.073.853.853 0 00-.605-1.045 1.213 1.213 0 00-.955-.053 1.218 1.218 0 00-.695.658 1.375 1.375 0 00.11 1.183.835.835 0 00-.564.618zm22.15.271c.038.097.049.204.029.307 0 .206-.426.137-.605.082a.549.549 0 01-.316-.522c.055-.206.564-.193.701-.11a.547.547 0 01.19.243zm1.968 5.669a1.195 1.195 0 00-1.375.77c-.22.592-.083 1.004.426 1.21a1.472 1.472 0 001.76-.563 1.377 1.377 0 00-.811-1.417zm-4.895-8.772c.398.069.412.509.288.825-.082.316-.398.564-1.003.316a2.784 2.784 0 00-.06-.228c-.062-.221-.137-.486-.078-.624.083-.193.454-.358.853-.289zm6.325 3.781a.466.466 0 00-.234-.591.5.5 0 00-.426-.027.513.513 0 00-.322.524.509.509 0 00.418.452.527.527 0 00.564-.358zm2.224-2.268a.685.685 0 01.292-.015c.069.014.247.275.151.427l-.038.064c-.103.175-.273.466-.54.321-.237-.13-.177-.396-.14-.557v-.001a.562.562 0 00.017-.102.671.671 0 01.258-.137zm-31.086-.482a.76.76 0 00.423-.446.77.77 0 00-.038-.613c-.123-.247-.48-.563-.728-.55-.619 0-.839.523-.908 1.128l.007.006c.328.301.712.653 1.245.475zm15.712 6.117c-.285-.221-.688-.535-.518-.933.168-.432.608-.341 1.019-.256l.177.036c.454.082.55.481.372.88-.179.398-.647.618-.894.398a3.96 3.96 0 00-.156-.125zm-18.049-18.217c-.22.674.564 1.073.949.921a.809.809 0 00.343-.962.742.742 0 00-1.292.041zm3.892 1.969c.25-.043.506 0 .728.121a1.378 1.378 0 01.66 1.306c-.069.619-.316.88-.963.88h-1.044v.564a1.565 1.565 0 01-.949 1.482 1.574 1.574 0 01-.605.127.975.975 0 01-.715-.248 2.022 2.022 0 01-.591-1.87 1.76 1.76 0 011.553-1.127h.564c.204-.32.444-.615.715-.88.17-.188.398-.313.647-.355zm19.14 10.131c-.798-.481-1.21-.385-1.65.44-.334.624-.556 1.012-.794 1.426l-.238.417c-1.182-.55-1.375-.482-1.554.604.44.509.908.454 1.375 0 1.279.963 2.104.523 2.324-1.168.103-.047.209-.089.316-.124.468-.069.605-.399.647-.811a.85.85 0 00-.427-.784zm-2.198 9.221c.004-.179.045-.355.121-.517.399-.963 1.196-1.444 1.911-1.155a1.757 1.757 0 01.963 1.883 1.733 1.733 0 01-2.145 1.032 1.3 1.3 0 01-.751-.72 1.294 1.294 0 01-.099-.523zm-1.68-15.312a1.084 1.084 0 00-.811.233c-.427.523-.152.99.357 1.472.084-.03.17-.055.253-.081.427-.128.824-.248.847-.799a.757.757 0 00-.646-.825zM28.6 116.641c-.179-.014-.715-.206-.619-.591.11-.371.619-.371.798-.33a.55.55 0 01.426.564c-.041.357-.426.371-.605.357zm11.866-3.891a.82.82 0 00-.632.454.55.55 0 00.495.729c.233 0 .866-.083.907-.606.042-.522-.563-.577-.77-.577zm-3.011 9.57c-.082-.234-.014-.715.151-.811.383-.15.704-.427.908-.784.041-.096.247-.179.357-.179.413.124.468.564.413.715a11.73 11.73 0 01-.192.481 1.228 1.228 0 01.66 1.004c-.015.33-.716.756-1.128.756a.918.918 0 01-.688-.715 1.055 1.055 0 01-.481-.467zm3.699-3.52a.647.647 0 00.481.852.196.196 0 00.096 0 1.6 1.6 0 00.784.495 1.207 1.207 0 001.306-.618 2.025 2.025 0 00-.701-1.884 1.376 1.376 0 00-1.279.619.618.618 0 00-.687.536zM15.252 96.463a.963.963 0 01.67-.213.949.949 0 01.84 1.017.894.894 0 01-.936.784 1.059 1.059 0 01-.921-.976.963.963 0 01.347-.612zm21.53 21.333a1.226 1.226 0 00-1.307.66.866.866 0 00.591 1.059.975.975 0 001.169-.426c.151-.399-.11-1.197-.454-1.293zm-1.238 6.683c.206-.083.687-.138.825 0 .272.314.638.531 1.045.619.083.01.15.122.207.217.02.032.037.061.054.085-.027.413-.192.578-.578.578a7.28 7.28 0 01-1.375-.234c-.206-.069-.522-.316-.522-.495.01-.292.133-.569.344-.77zm9.061-10.354a1.016 1.016 0 00-1.114.577c-.261.839-.096 1.513.426 1.678a1.182 1.182 0 10.688-2.255zm1.99 2.892c.142-.042.285-.085.416-.142a1.378 1.378 0 011.252.303 1.124 1.124 0 01.44 1.072 1.376 1.376 0 01-.936 1.059 1.84 1.84 0 01-1.54-.344c-.219-.179-.272-.366-.321-.539-.019-.065-.037-.129-.063-.19a.839.839 0 010-.756c.106-.27.422-.364.753-.463zm-4.809-1.256a.441.441 0 00.413.371.626.626 0 00.495-.467c0-.206-.303-.358-.509-.358-.206 0-.44.193-.399.454zm2.136 5.613a1.525 1.525 0 01.174-1.075 1.99 1.99 0 012.407-.592 1.667 1.667 0 01.247 2.324 1.373 1.373 0 01-2.241.261 1.525 1.525 0 01-.587-.918zm-7.828-6.534a.65.65 0 00-.547.016.655.655 0 00-.347.424.605.605 0 00.33.839.643.643 0 00.777-.031.645.645 0 00.172-.217.754.754 0 00-.385-1.031zm6.448-3.121c.097-.248.344-.248.523-.248.096 0 .509.206.358.481-.126.229-.385.211-.564.198a1.22 1.22 0 00-.096-.005.325.325 0 01-.208-.163.316.316 0 01-.013-.263zm-1.003-2.585c-.248.509 0 1.265.426 1.375.426.11 1.375-1.004 1.169-1.485-.206-.481-1.348-.399-1.595.11zm-23.224-4.125a.633.633 0 00.577.343c.207 0 .276-.385.22-.563-.054-.179-.33-.385-.536-.289a.442.442 0 00-.261.509zm-2.14-4.767a.815.815 0 01.614-.046c.572.149.582.574.593 1.037.003.094.005.189.012.283-.839.385-1.238.426-1.513 0a1.046 1.046 0 01-.11-.811.815.815 0 01.405-.463zm1.205 11.326c0 .398.124.715.495.797a4.88 4.88 0 002.874-.082c.137-.073.262-.165.371-.275a1.091 1.091 0 00.297-1.148 1.081 1.081 0 00-.93-.736h-.11c.092-.127.153-.273.18-.426a.798.798 0 00-.784-.908.752.752 0 00-.798.366.751.751 0 00-.096.294c-.004.202.034.404.11.591h-.317a1.707 1.707 0 00-1.292 1.527zm4.473-11.346a1.47 1.47 0 011-.342c.742.028 1.512 1.155 1.36 2.062a1.248 1.248 0 01-.992 1.036c-.167.033-.34.031-.506-.004a1.575 1.575 0 01-1.079-.62 1.588 1.588 0 01-.296-1.209c.05-.361.234-.69.513-.923zm2.608 8.829c.138.358 1.375.537 1.54 0a.837.837 0 00-.357-1.058c-.481-.138-1.32.701-1.183 1.058zm2.187 8.451c.176-.041.359-.044.536-.008.563.041 1.155.632 1.1 1.168a1.758 1.758 0 01-1.691 1.375c-.51 0-.908-.687-.908-1.375a1.253 1.253 0 01.963-1.16zm22.398-2.937a.88.88 0 00-1.072.413.736.736 0 00-.054.602.744.744 0 00.411.443.88.88 0 001.073-.413.724.724 0 00-.1-.87.73.73 0 00-.258-.175zM25.878 97.611c-.083-.151-.083-.756.165-.839a.77.77 0 01.7.358.689.689 0 01-.22.632.673.673 0 01-.645-.15zm-2.063 16.156c-.413 0-.921.482-1.045 1.265.033.034.07.081.112.133.113.143.257.326.438.376a.67.67 0 00.289 0c.165.096.398 0 .577-.206a.837.837 0 00.385-.495 1.06 1.06 0 00-.756-1.073zm6.29 6.069c.127-.249.333-.449.585-.569.32-.143.65-.258.99-.343a1.634 1.634 0 01.468 2.268c-.184.267-.466.45-.784.509a1.371 1.371 0 01-1.375-1.059 1.262 1.262 0 01.116-.806z",fill:"#54B399"}),Object(w.jsx)("path",{d:"M135.905 24.86H26.139v40.796h109.766V24.86z",fill:"#58C5A7"}),Object(w.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M33.218 26.624c.358-.28.788-.453 1.24-.499a1.664 1.664 0 011.292 1.898 1.842 1.842 0 01-1.801 1.375 1.65 1.65 0 01-1.513-1.692c.154-.427.425-.802.782-1.082zm-6.186 3.104c.138 0 .62-.07.647-.276.027-.206-.358-.48-.509-.495a.482.482 0 00-.495.317c-.041.22.206.412.357.453zm-.907 5.197v1.953c.097.107.22.188.358.233a1.153 1.153 0 001.375-1.086c.11-.536-.372-1.017-1.142-1.141-.198-.03-.4-.016-.591.041zM60.5 44.138a.798.798 0 00-.921.37c-.385.62-.33.922.275 1.54-.04.55-.04 1.102 0 1.65a.55.55 0 00.99.33c.076-.102.16-.202.245-.303.314-.373.64-.759.607-1.333l-.591-.605c.041-.797-.192-1.526-.605-1.65zm-33.096 4.905c.022.1.022.205 0 .306a1.87 1.87 0 01-.798 1.114h.069c.357.04.371.426.357.605-.013.178-.206.715-.59.618a.44.44 0 01-.317-.357v-.454a.715.715 0 01.165-.275h-.151v-2.131c.205-.028.413-.028.619 0a.727.727 0 01.646.574zm.096 1.928c0 .124 0 .289.165.33.106.027.138-.032.173-.095.02-.036.04-.073.075-.097.096-.069-.11-.22-.193-.262a.344.344 0 00-.22.124zm-1.375 3.575v-.632a1.54 1.54 0 011.375-.922 1.374 1.374 0 011.059 1.568 1.06 1.06 0 01-1.265.839 1.72 1.72 0 01-1.169-.853zm2.177 3.479c-.265.162-.576.23-.884.193a1.113 1.113 0 01-.77-1.32c.096-.647.618-1.17 1.044-1.17a1.513 1.513 0 011.183 1.596 1.375 1.375 0 01-.573.7zm11.312-.811a1.373 1.373 0 00-.921-.715c-.482-.083-1.155.591-1.265 1.251-.042.317.042.638.233.894a1.898 1.898 0 001.375 1.746 1.967 1.967 0 001.925-1.471c.206-.756-.385-1.458-1.347-1.705zm3.791.707c.224-.124.477-.183.733-.171a1.47 1.47 0 011.113 1.595 1.374 1.374 0 01-1.663 1.375 1.155 1.155 0 01-1.073-1.375c.021-.112.048-.222.082-.33a2.746 2.746 0 00-.082-.413c.11-.07.23-.121.358-.15.124-.224.309-.407.532-.531zm-3.336 7.365a1.002 1.002 0 01-.194-.372c-.124-.289.275-.688.907-.66.023.03.055.055.09.083.096.075.222.173.282.453.082.385-.413.88-.757.756a1.004 1.004 0 01-.328-.26zm4.783-.895c-.158-.217-.36-.4-.59-.536-.77-.357-1.692.138-2.146 1.182-.086.19-.129.397-.123.605h4.124a.812.812 0 00.097-.33 1.004 1.004 0 00-.839-.934 2.615 2.615 0 00-.523.013zm-5.486-.24a.908.908 0 01-.618.24.758.758 0 01-.784-.797.838.838 0 01.962-.757c.44.042.729.248.729.715a.908.908 0 01-.289.598zm12.197-.667c-.688 0-1.087.398-1.128 1.251a1.21 1.21 0 00.481.907h1.155c.468-.247.922-.66.922-.948.027-.564-.674-1.155-1.43-1.21zm13.02-6.449c.234.11.262.275.138.495a.316.316 0 01-.508.124.316.316 0 01-.124-.482c.124-.22.261-.247.495-.137zm-38.458 8.608h.811a1.376 1.376 0 00-.123-.674h.096c.976.22 1.897-.701 1.608-1.375a1.635 1.635 0 00-.493-.65c-.122-.105-.198-.17-.153-.285.027-.068.076-.146.13-.232.143-.228.32-.51.2-.8a.77.77 0 00.234-.123c-.053.113-.09.234-.11.357a1.841 1.841 0 00.825 1.637c.1.152.226.287.371.398.221-.06.434-.147.633-.261.452-.079.856-.33 1.127-.701.232.376.572.673.977.852h.137l-.075.085c-.103.12-.17.196-.282.163-.033-.01-.087-.046-.157-.091-.228-.149-.618-.404-.944-.225-.426.233-.288 1.69-.15 1.897h3.3c.134-.194.228-.414.274-.646.193-.935-.618-1.788-1.278-1.636.223-.286.34-.641.33-1.004a.852.852 0 00-.77-.839.91.91 0 00-.193 0c.393-.232.7-.584.88-1.004.22-.453-.633-1.21-1.375-1.155a.853.853 0 00-.839.784c-.046.307-.008.62.11.907a1.65 1.65 0 00-1.045-.467 1.677 1.677 0 00-1.375.426v-.151a.77.77 0 00-.674-.88.84.84 0 00-.646.165 1.54 1.54 0 01.085-.09c.219-.22.68-.685.328-1.12-.57-.725-1.12-.518-1.514-.37h-.001c-.09.035-.173.066-.245.081l-.014 7.026zm5.624-4.126h.096c-.03.013-.06.026-.088.04l-.008-.04zm-.303-.192a.577.577 0 00.28.247 1.9 1.9 0 00-.17.097 1.005 1.005 0 00-.11-.344zm21.643-.536c.096-.757.481-1.073 1.114-1.073a1.842 1.842 0 011.044 1.526.783.783 0 01-.618.605 1.224 1.224 0 01-1.306.386 1.375 1.375 0 01-.317-1.444.18.18 0 01.083 0zm-18.439.247a.812.812 0 00.756.839.742.742 0 00.922-.633.853.853 0 00-.716-.99.935.935 0 00-.962.784zm28.71-6.201a1.197 1.197 0 00.536 1.251.88.88 0 001.21-.508.962.962 0 00-.426-1.17 1.374 1.374 0 00-1.32.427zm-32.542-1.18a.55.55 0 01.257-.03c.454 0 .77.44.729.715-.041.275-.413.894-.798.921-.385.028-.536-.701-.536-.976a.55.55 0 01.348-.63zm6.417 9.691a1.526 1.526 0 00-1.182-1.375c-.468-.068-1.17.619-1.21 1.169a1.086 1.086 0 00.756 1.017h.334c-.675.013-1.338.367-1.338.853-.008.21.04.419.138.605h2.392a.723.723 0 000-.165c0-.837-.315-1.222-1.192-1.292h.037-.041c.742 0 1.265-.33 1.306-.812zm-2.777-10.395c-.358.096-.674-.302-.674-.907a.495.495 0 00.098-.099.705.705 0 01.452-.273c.385-.082.88.413.756.757a1.044 1.044 0 01-.633.522zm4.688 8.58a.535.535 0 00-.646-.605c-.275 0-1.004.138-.976.523.027.385.632.756.907.797.275.041.688-.261.715-.715zm2.585 4.057h-.481a.605.605 0 01.481 0zm-4.895-5.83a.468.468 0 00-.233-.537c-.023 0-.057-.002-.099-.006-.187-.015-.521-.041-.589.116-.082.193.22.564.371.605.151.041.468.014.55-.178zM69.6 49.218a.77.77 0 01-.01-.393c.811-.426 1.1-.44 1.292-.041a.783.783 0 01-.344.963.77.77 0 01-.938-.529zm-3.795 1.45a.895.895 0 01.334.206c.508.316.536.646.412.852-.124.207.316.262.481.124.165-.137.591-.316.99.261.399.578-.234 1.06-.66 1.293-.426.234-.729.33-1.072 0-.16-.153-.318-.182-.5-.215a1.493 1.493 0 01-.765-.335 1.375 1.375 0 01-.261-1.829.893.893 0 011.041-.357zM48.73 51.824c0-.165-.22-.426-.357-.44-.138-.014-.537 0-.55.412-.013.378.31.398.49.41.017 0 .032.002.046.003.165.013.385-.262.371-.385zm4.318 2.447c-.798-.275-1.032-.756-.798-1.375.23-.27.545-.454.894-.522a.756.756 0 01-.619-.605 1.031 1.031 0 01.88-.99.331.331 0 01.358.371l.004.02c.082.398.198.96-.005 1.121a.77.77 0 01.317 0c.343.165.632.358.343 1.169-.288.811-.577 1.086-1.374.811zm15.014-7.755c0-.044.009-.093.018-.144.026-.155.055-.326-.141-.42a.303.303 0 00-.44.166c-.069.164-.179.577 0 .687.178.11.55-.193.564-.289zm3.583 7.057a.77.77 0 01-.31-.03.853.853 0 01-.481-1.128.688.688 0 01.88-.523.894.894 0 01.577 1.1.772.772 0 01-.666.581zm-22.806 4.81c-.263.085-.545.09-.81.013a1.169 1.169 0 01-.413-1.498.66.66 0 01.633-.468c.27-.143.576-.201.88-.165.426.082.632.303.632.77a1.76 1.76 0 01-.261.743v.137c-.169.219-.4.382-.661.467zM43.67 46.53c.22 0 .413-.206.454-.358.041-.15-.083-.618-.289-.646-.206-.027-.481.358-.481.509a.481.481 0 00.316.495zm.591 2.805c-.096.413-1.059.66-1.375.413-.261-.248-.261-1.403.578-1.417a.939.939 0 01.288 0c.07-.165.262-.412.427-.412a.454.454 0 01.288.399 1.1 1.1 0 01-.206.426c.049.194.049.397 0 .591zm22.44 7.04c-.027-1.224.427-2.516 2.214-2.227.342.055.672-.046.99-.143.386-.118.753-.231 1.1-.05a2.117 2.117 0 01.949 1.774 2.599 2.599 0 01-1.746 2.599 1.115 1.115 0 01-.867 0c-.19.19-.402.356-.632.494a.99.99 0 01-.564-.756 1.69 1.69 0 01-1.031-.577 1.897 1.897 0 01-.413-1.114zM35.64 52.992c0 .495.619.674.907.743.29.069.564-.289.592-.646.027-.358-.275-.825-.633-.73-.048.014-.1.026-.155.039-.344.081-.758.178-.711.594zm-1.733-10.546c.07-.371 1.403-1.058 1.61-.783.233.275.467 1.155-.235 1.347-.7.193-1.443-.192-1.374-.564zm6.958 19.127a1.253 1.253 0 00.77 1.746 1.182 1.182 0 001.526-.537 1.773 1.773 0 00-.935-1.993 1.266 1.266 0 00-1.361.783zm.99-3.658c.028 0 .124.22.124.22-.041.069-.193.289-.261.193-.024-.033-.055-.056-.085-.079-.059-.043-.112-.083-.094-.183.027-.151.288-.151.316-.151zm4.895 4.538a1.375 1.375 0 00-1.375.673c-.124.317.289 1.004.701 1.155a.605.605 0 00.702-.22 1.499 1.499 0 00.948.756.825.825 0 00.922-.783l.247.123a1.14 1.14 0 001.567-.687 1.375 1.375 0 00-.852-1.953 1.485 1.485 0 00-1.856.66 1.196 1.196 0 00.11 1.045 1.458 1.458 0 00-.866.33c.068-.605-.014-1.003-.248-1.1zm-9.996-16.748c.069.124.22.468.069.591a.535.535 0 01-.592.055c-.178-.069-.343-.467-.178-.646a.633.633 0 01.7 0zm-8.195 2.984h-.275a.811.811 0 00-.44.866c-.006.256.071.507.22.715.239-.06.483-.102.729-.124a.689.689 0 00-.262.523 1.732 1.732 0 001.375 1.622 1.278 1.278 0 001.045-1.182 1.088 1.088 0 00-1.114-1.279 1.734 1.734 0 00-.538-.002c.02-.005.06-.026.071-.108.044-.228-.208-.45-.454-.666-.14-.124-.277-.245-.357-.365zm1.99-6.43c.043.174.044.356.003.531a.893.893 0 01-1.416.399 1.032 1.032 0 01.262-1.54.99.99 0 01.907.137c.117.136.2.298.244.472zm.884 16.618c.49.176.882.032 1.14-.063.145-.053.248-.091.303-.047.022.018.052.048.089.084.22.219.688.682 1.135.329a1.073 1.073 0 00.426-1.375 1.059 1.059 0 00.949-.742 1.76 1.76 0 000-.66c.161-.105.31-.23.44-.372a1.375 1.375 0 00-.165-2.117 1.54 1.54 0 00-2.255.371c-.394.54-.25.957-.132 1.294.104.298.186.535-.143.741-.314.197-.507.143-.709.086-.247-.07-.508-.143-1.024.244-.934.701-.838 1.939-.054 2.227zm.893-9.377c.206-.096.536.124.536.289.055.178-.013.536-.22.563a.62.62 0 01-.577-.357.44.44 0 01.261-.495zm2.187 1.581a.604.604 0 00.66.715 1.058 1.058 0 00.756-.412c.11-.206-.179-.99-.564-1.032a.798.798 0 00-.852.73zm11.803 8.348a.33.33 0 01.145.026c.087.019.184.035.283.052.343.058.715.121.79.292a.772.772 0 01-.798 1.004 1.045 1.045 0 01-.728-1.1.33.33 0 01.308-.274zm37.311-5.227c-.77-.11-1.636.413-1.677 1.004-.041.591.564 1.114 1.182 1.169a1.21 1.21 0 001.21-1.114c.07-.619-.178-.99-.715-1.059zm1.683-9.589c.296-.075.609-.048.889.075a1.21 1.21 0 01.412 1.498 1.004 1.004 0 01-1.182.44c-.715-.343-1.114-1.045-.867-1.526.189-.24.452-.412.748-.487zm-7.54 6.166a1.581 1.581 0 00-1.884.893 1.086 1.086 0 00.674 1.376 1.58 1.58 0 001.815-.386 1.54 1.54 0 00-.605-1.883zm3.877-.935c.317-.743.798-1.018 1.375-.743a1.375 1.375 0 01.743 1.623 1.513 1.513 0 01-1.76.646 1.375 1.375 0 01-.358-1.526zM27.321 45.03h-.261c.174-.175.297-.393.358-.632a2.75 2.75 0 00-.18-1.884 1.224 1.224 0 010-.701 1.114 1.114 0 00-1.113-1.554.55.55 0 000-.66v5.775H26.359a1.559 1.559 0 00-.137.166 2.463 2.463 0 01-.097.123v1.375c.263.21.585.335.921.357.591 0 1.279-.33 1.375-.784a1.623 1.623 0 00-1.1-1.58zm.64-4.34a.894.894 0 01-.131-.651.88.88 0 01.935-.784 1.03 1.03 0 01.756 1.114.907.907 0 01-1.017.701.894.894 0 01-.543-.38zm60.754 13.608a1.512 1.512 0 00-.907-1.76 1.664 1.664 0 00-1.898 1.237 1.17 1.17 0 00.811 1.526 1.497 1.497 0 001.994-1.003zm-9.734 3.548c-.449-.253-.875-.494-.785-1.046a.839.839 0 01.564-.619A1.375 1.375 0 0178.65 55a1.21 1.21 0 011.65-.605.84.84 0 01.605 1.045 2.022 2.022 0 01-1.155 1.073c.04.043.068.094.082.15.206.58-.193.852-.591 1.124l-.165.114-.042-.024-.053-.03zm21.394-.468a.547.547 0 00-.22-.55c-.138-.083-.646-.096-.701.11a.55.55 0 00.316.522c.179.055.605.124.605-.082zm-2.956-3.41c.398.069.412.508.288.825-.082.316-.398.564-1.003.316a2.85 2.85 0 00-.06-.228c-.062-.22-.137-.486-.078-.624.083-.193.454-.358.853-.29zm6.325 3.781a.471.471 0 00-.234-.591.512.512 0 00-.608.094.507.507 0 00.076.771c.061.042.129.07.202.084a.521.521 0 00.564-.358zm2.224-2.268a.675.675 0 01.292-.014c.069.013.247.274.151.426l-.041.07c-.103.177-.273.47-.536.315a.48.48 0 01-.124-.66.673.673 0 01.258-.137zM74.882 55a.769.769 0 00.385-1.059c-.123-.247-.48-.564-.728-.55-.619 0-.839.523-.908 1.128l.007.006c.328.301.712.653 1.244.475zm-1.388-11.179c-.385.151-1.169-.247-.949-.921a.742.742 0 011.293-.041.812.812 0 01-.344.962zm3.671 1.169a1.128 1.128 0 00-1.375.234c-.271.265-.51.56-.715.88h-.564a1.76 1.76 0 00-1.553 1.127 2.021 2.021 0 00.59 1.87.977.977 0 00.716.248 1.567 1.567 0 001.553-1.609v-.564c.127 0 .25.008.37.016.234.015.458.03.675-.016.647 0 .894-.261.963-.88a1.375 1.375 0 00-.66-1.306zm16.761 10.45c.44-.825.853-.921 1.65-.44a.853.853 0 01.427.797c-.042.413-.18.812-.647.812a3.015 3.015 0 00-.316.123c-.22 1.692-1.045 2.132-2.324 1.156-.467.453-.935.508-1.375 0 .179-1.087.372-1.155 1.554-.62l.142-.243c.276-.474.512-.878.89-1.585zM91.7 48.909a1.084 1.084 0 00-.811.233c-.427.523-.152.99.357 1.472.084-.03.17-.055.253-.08.427-.13.824-.25.847-.8a.756.756 0 00-.646-.825zM42.35 52.016c-.179-.014-.715-.22-.619-.591.11-.371.619-.371.798-.33a.55.55 0 01.426.564c-.041.357-.426.371-.605.357zm11.866-3.891a.824.824 0 00-.632.454.55.55 0 00.495.728c.233 0 .866-.082.907-.605.042-.522-.563-.577-.77-.577zm-3.011 9.57c-.082-.234-.014-.715.151-.811a1.8 1.8 0 00.908-.784c.041-.179.247-.179.357-.179.413.124.468.564.413.715-.02.054-.05.109-.08.165-.055.103-.113.21-.113.316a1.223 1.223 0 01.66.99c-.014.344-.715.77-1.127.77a.922.922 0 01-.688-.715 1.06 1.06 0 01-.481-.467zm3.699-3.52a.646.646 0 00.481.853h.096c.207.238.48.41.784.495a1.21 1.21 0 001.306-.62 2.021 2.021 0 00-.701-1.883 1.375 1.375 0 00-1.279.619.619.619 0 00-.687.536zM29.002 31.838a.963.963 0 01.67-.213.949.949 0 01.84 1.017.894.894 0 01-.936.784 1.059 1.059 0 01-.921-.976.963.963 0 01.347-.612zm21.53 21.333a1.224 1.224 0 00-1.376.647.866.866 0 00.592 1.072.977.977 0 001.168-.426c.22-.399-.041-1.197-.385-1.293zm-1.238 6.683c.206-.083.687-.138.825 0 .272.314.638.531 1.045.618.11.014.261.207.261.303-.027.413-.192.578-.578.578a7.184 7.184 0 01-1.375-.234c-.206-.069-.522-.316-.522-.495.01-.292.133-.569.344-.77zM58.355 49.5a1.018 1.018 0 00-1.114.578c-.261.838-.096 1.512.426 1.677a1.512 1.512 0 001.554-.88 1.5 1.5 0 00-.866-1.375zm1.99 2.892c.142-.042.285-.085.416-.142a1.375 1.375 0 011.252.303 1.127 1.127 0 01.44 1.072 1.375 1.375 0 01-.936 1.059 1.842 1.842 0 01-1.54-.344c-.219-.18-.272-.366-.321-.539a1.485 1.485 0 00-.063-.19.84.84 0 010-.756c.106-.27.422-.364.753-.463zm-4.809-1.256a.44.44 0 00.413.371.66.66 0 00.495-.467c0-.206-.303-.358-.509-.358-.206 0-.44.193-.399.454zm2.136 5.613a1.527 1.527 0 01.174-1.075 1.994 1.994 0 012.407-.591 1.663 1.663 0 01.247 2.323 1.376 1.376 0 01-2.241.261 1.527 1.527 0 01-.587-.918zm-7.828-6.534a.66.66 0 00-.894.44.605.605 0 00.33.839.646.646 0 00.949-.248.757.757 0 00-.385-1.031zm6.448-3.121c.097-.248.344-.248.523-.248.096 0 .509.207.358.482-.126.228-.385.21-.564.197-.036-.003-.069-.005-.096-.005a.316.316 0 01-.22-.426zm-1.003-2.585c-.248.508 0 1.265.426 1.375.426.11 1.375-1.004 1.169-1.485-.206-.482-1.348-.399-1.595.11zM32.065 40.37a.619.619 0 00.578.358c.206 0 .274-.386.22-.578-.056-.192-.33-.371-.537-.275a.44.44 0 00-.261.495zm-2.14-4.753a.811.811 0 01.614-.046c.572.149.582.574.593 1.038.003.093.005.188.012.282-.839.385-1.238.427-1.513 0a1.045 1.045 0 01-.11-.811.81.81 0 01.405-.463zm1.205 11.326c0 .398.124.715.495.797a4.88 4.88 0 002.874-.083 1.51 1.51 0 00.371-.274 1.087 1.087 0 00-.633-1.884h-.11c.092-.127.153-.273.18-.427a.797.797 0 00-.785-.907.755.755 0 00-.893.66 1.5 1.5 0 00.11.591h-.316a1.704 1.704 0 00-1.293 1.527zm4.473-11.346a1.47 1.47 0 011-.342c.742.027 1.512 1.155 1.36 2.063a1.253 1.253 0 01-1.498 1.03 1.58 1.58 0 01-1.375-1.828c.05-.36.234-.69.513-.923zm2.608 8.83c.138.357 1.375.535 1.54 0a.866.866 0 00-.357-1.073c-.481-.124-1.32.715-1.183 1.072zm2.187 8.45a1.25 1.25 0 01.536-.008c.564.041 1.155.632 1.1 1.169a1.76 1.76 0 01-1.691 1.375c-.51 0-.908-.688-.908-1.375a1.25 1.25 0 01.963-1.161zm22.398-2.937a.894.894 0 00-1.072.399.754.754 0 00.357 1.059.88.88 0 001.073-.413.729.729 0 00-.358-1.045zM39.627 32.986c-.082-.151-.082-.756.165-.839a.77.77 0 01.702.358.689.689 0 01-.22.632.673.673 0 01-.647-.15zm-2.062 16.157c-.412 0-.921.48-1.045 1.264.033.034.07.08.112.133.113.143.257.326.438.376.096.014.193.014.289 0 .165.097.398 0 .577-.206a.838.838 0 00.385-.495 1.058 1.058 0 00-.756-1.073zm6.29 6.068c.127-.25.333-.449.585-.569.32-.143.65-.258.99-.343a1.639 1.639 0 01.468 2.269c-.184.266-.466.449-.784.508a1.375 1.375 0 01-1.375-1.059 1.265 1.265 0 01.116-.806z",fill:"#54B399"}),Object(w.jsx)("path",{d:"M162.085 56.072H50.999V96.87h111.086V56.072z",fill:"#8ADFC8"}),Object(w.jsx)("path",{className:"lnsDropIllustration__adjustFill",fillRule:"evenodd",clipRule:"evenodd",d:"M43.574 36.575a8.91 8.91 0 110 17.82 8.91 8.91 0 010-17.82zM23.98 103.166h14.946v14.947H23.98v-14.947zm45.306-34.072L59.14 85.388h20.295L69.286 69.094zm54.288 4.224a2.901 2.901 0 012.197-.292 2.902 2.902 0 011.898 3.589l-3.96 13.516-4.125 12.691c-2.186 7.467-10.326 11.647-18.576 9.227-5.17-1.513-11.564-7.109-12.692-11.592l-3.575-16.156a3.066 3.066 0 011.953-3.712 2.75 2.75 0 013.52 1.939l2.062 6.874.207-.715 1.663-5.65 5.541-19.168a2.864 2.864 0 015.259-.583 2.86 2.86 0 01.242 2.178l-5.212 17.792 2.475.715 6.174-21.134a2.868 2.868 0 012.434-2.048 2.868 2.868 0 012.105.61 2.852 2.852 0 011.057 1.92c.041.374.009.752-.096 1.114l-6.242 21.133 2.475.715L115.5 68.53a2.868 2.868 0 012.434-2.048 2.868 2.868 0 012.105.61 2.852 2.852 0 011.057 1.92c.041.374.009.752-.096 1.113l-5.225 17.751 2.475.715 3.974-13.516c.2-.742.685-1.374 1.35-1.758z"}),Object(w.jsx)("path",{className:"lnsDropIllustration__adjustFill lnsDropIllustration__hand",id:"lnsDropIllustrationArrow",d:"M84.688 156.577v-31.021c0-1.17.853-2.118 1.906-2.118s1.906.948 1.906 2.118v31.021l15.617-15.617a1.907 1.907 0 012.696 2.696l-16.175 16.175a5.695 5.695 0 01-3.525 1.652 1.725 1.725 0 01-1.039 0 5.695 5.695 0 01-3.524-1.652l-16.175-16.175a1.907 1.907 0 012.696-2.696l15.617 15.617z"}));var ye=n(418),xe=n.n(ye),je=n(419),_e=n.n(je),we=n(83);const Oe={value:{id:"lnsWorkspace",humanData:{label:o.i18n.translate("xpack.lens.editorFrame.workspaceLabel",{defaultMessage:"Workspace"})}},order:[1,0,0,0]},De=r.a.memo((function(e){const{getSuggestionForField:t,...n}=e,r=Object(a.useContext)(l.b),o=Object(a.useMemo)((()=>r.dragging&&t(r.dragging)),[r.dragging,t]);return Object(w.jsx)(Pe,P()({},n,{suggestionForDraggedField:o}))})),Pe=r.a.memo((function({framePublicAPI:e,visualizationMap:t,datasourceMap:n,core:s,plugins:c,ExpressionRenderer:d,suggestionForDraggedField:f,lensInspector:m}){const v=Object(u.Q)(),y=Object(u.R)(u.A),j=Object(u.R)(u.F),O=Object(u.R)(u.p),D=Object(u.R)(u.w),P=Object(u.R)(u.r),k=Object(u.R)(u.s),S=Object(u.R)(u.E),[I,M]=Object(a.useState)({expressionBuildError:void 0,expandError:!1,expressionToRender:void 0}),E=Object(a.useRef)(),T=P||!E.current||S,{datasourceLayers:z}=e,F=j.activeId?t[j.activeId]:null,R=x(O?n[O]:null,O?D[O]:null),N=R.length?[{shortMessage:"",longMessage:o.i18n.translate("xpack.lens.indexPattern.missingDataView",{defaultMessage:"The {count, plural, one {data view} other {data views}} ({count, plural, one {id} other {ids}}: {indexpatterns}) cannot be found",values:{count:R.length,indexpatterns:R.join(", ")}})}]:[],W=j.activeId&&!F,B=Object(a.useMemo)((()=>{var t;return _(O?n[O]:null,O&&(null===(t=D[O])||void 0===t?void 0:t.state),F,j.state,e)}),[F,j.state,O,n,D]),V=Object(a.useMemo)((()=>{if(!(null!=B&&B.length||N.length||W))try{const e=g({visualization:F,visualizationState:j.state,datasourceMap:n,datasourceStates:D,datasourceLayers:z});return e?Object(p.toExpression)(e):null}catch(e){const t=null==F?void 0:F.getErrorMessages(j.state),n={shortMessage:o.i18n.translate("xpack.lens.editorFrame.buildExpressionError",{defaultMessage:"An unexpected error occurred while preparing the chart"}),longMessage:e.toString()};M((e=>({...e,expressionBuildError:null!=t?t:[n]})))}W&&M((e=>({...e,expressionBuildError:[Object(h.e)(j.activeId)]})))}),[F,j.state,n,D,z,null==B?void 0:B.length,N.length,W,j.activeId]);Object(a.useEffect)((()=>{v(Object(u.H)(Boolean(V)))}),[V,v]),Object(a.useEffect)((()=>{P||v(Object(we.f)(V===I.expressionToRender))})),Object(a.useEffect)((()=>{T&&M((e=>({...e,expressionToRender:V})))}),[V,T]);const q=Boolean(I.expressionToRender);Object(a.useEffect)((()=>{!q&&null!==I.expressionToRender||E.current||(E.current=!0)}),[q,I.expressionToRender]);const G=Object(a.useCallback)((e=>{c.uiActions&&(Object(Z.b)(e)&&c.uiActions.getTrigger(he.VIS_EVENT_TO_TRIGGER[e.name]).exec({data:{...e.data,timeFieldName:Object(b.inferTimeField)(e.data)}}),Object(Z.d)(e)&&c.uiActions.getTrigger(he.VIS_EVENT_TO_TRIGGER[e.name]).exec({data:{...e.data,timeFieldName:Object(b.inferTimeField)(e.data)}}),Object(Z.c)(e)&&null!=F&&F.onEditAction&&v(Object(u.d)({visualizationId:F.id,event:e})))}),[c.uiActions,F,v]);Object(a.useEffect)((()=>{q&&I.expressionBuildError&&M((e=>({...e,expressionBuildError:void 0})))}),[q,I.expressionBuildError]);const H=Object(a.useCallback)((()=>{f&&(Object(L.e)("drop_onto_workspace"),Object(L.e)(q?"drop_non_empty":"drop_empty"),Object(ue.d)(v,f,{clearStagedPreview:!0}))}),[f,q,v]),$=s.uiSettings.get("theme:darkMode"),U=()=>Object(w.jsx)(i.EuiText,{className:A()("lnsWorkspacePanel__emptyContent"),textAlign:"center","data-test-subj":"workspace-drag-drop-prompt",size:"s"},Object(w.jsx)(ve,{"aria-hidden":!0,className:A()("lnsWorkspacePanel__promptIllustration","lnsWorkspacePanel__dropIllustration")}),Object(w.jsx)("h2",null,Object(w.jsx)("strong",null,q?o.i18n.translate("xpack.lens.editorFrame.emptyWorkspaceSimple",{defaultMessage:"Drop field here"}):o.i18n.translate("xpack.lens.editorFrame.emptyWorkspace",{defaultMessage:"Drop some fields here to start"}))),!q&&Object(w.jsx)(r.a.Fragment,null,Object(w.jsx)(i.EuiTextColor,{color:"subdued",component:"div"},Object(w.jsx)("p",null,o.i18n.translate("xpack.lens.editorFrame.emptyWorkspaceHeading",{defaultMessage:"Lens is the recommended editor for creating visualizations"}))),Object(w.jsx)("p",{className:"lnsWorkspacePanel__actions"},Object(w.jsx)(i.EuiLink,{href:"https://www.elastic.co/products/kibana/feedback",target:"_blank",external:!0},o.i18n.translate("xpack.lens.editorFrame.goToForums",{defaultMessage:"Make requests and give feedback"}))))),Y=()=>{const e=o.i18n.translate("xpack.lens.editorFrame.applyChanges",{defaultMessage:"Apply changes"});return Object(w.jsx)(i.EuiText,{className:A()("lnsWorkspacePanel__emptyContent"),textAlign:"center","data-test-subj":"workspace-apply-changes-prompt",size:"s"},Object(w.jsx)("img",{"aria-hidden":!0,src:$?xe.a:_e.a,alt:e,className:"lnsWorkspacePanel__promptIllustration"}),Object(w.jsx)("h2",null,Object(w.jsx)("strong",null,o.i18n.translate("xpack.lens.editorFrame.applyChangesWorkspacePrompt",{defaultMessage:"Apply changes to render visualization"}))),Object(w.jsx)("p",{className:"lnsWorkspacePanel__actions"},Object(w.jsx)(i.EuiButtonEmpty,{size:"s",className:C.a,iconType:"checkInCircleFilled",onClick:()=>v(Object(u.b)()),"data-test-subj":"lnsApplyChanges__workspace"},e)))},K=()=>Object(w.jsx)(ke,{expression:I.expressionToRender,framePublicAPI:e,lensInspector:m,onEvent:G,setLocalState:M,localState:{...I,configurationValidationError:B,missingRefsErrors:N},ExpressionRendererComponent:d,application:s.application,datasourceMap:n,activeDatasourceId:O}),Q=Object(a.useContext)(l.b);return Object(w.jsx)(me.b,{framePublicAPI:e,visualizationState:j.state,visualizationId:j.activeId,datasourceStates:D,datasourceMap:n,visualizationMap:t,isFullscreen:y},(()=>{var e;const t=O&&null!==(e=n[O])&&void 0!==e&&e.getCustomWorkspaceRenderer&&Q.dragging?n[O].getCustomWorkspaceRenderer(D[O].state,Q.dragging):void 0;if(t)return t();const a=null!==I.expressionToRender?K:k?U:Y;return Object(w.jsx)(l.c,{className:A()("lnsWorkspacePanel__dragDrop",{"lnsWorkspacePanel__dragDrop--fullscreen":y}),dataTestSubj:"lnsWorkspace",draggable:!1,dropTypes:f?["field_add"]:void 0,onDrop:H,value:Oe.value,order:Oe.order},Object(w.jsx)(i.EuiPageContentBody,{className:"lnsWorkspacePanelWrapper__pageContentBody"},a()))})())})),ke=({expression:e,framePublicAPI:t,lensInspector:n,onEvent:s,setLocalState:l,localState:c,ExpressionRendererComponent:d,application:p,activeDatasourceId:f,datasourceMap:g})=>{var b,m,v;const y=Object(u.R)(u.x),x=Object(a.useMemo)((()=>({query:y.query,timeRange:{from:y.dateRange.fromDate,to:y.dateRange.toDate},filters:y.filters})),[y]),j=Object(u.R)(u.D),_=Object(u.R)((e=>Object(u.v)(e,g))),O=Object(u.Q)(),[D]=Object.keys(_),P=Object(a.useCallback)(((e,t)=>{var n;t&&t.tables&&O(Object(u.k)(Object.entries(null===(n=t.tables)||void 0===n?void 0:n.tables).reduce(((e,[t,n],a,r)=>({...e,[1===r.length?D:t]:n})),{})))}),[D,O]);function k(e){return e&&e.fixAction&&f&&Object(w.jsx)(r.a.Fragment,null,Object(w.jsx)(i.EuiButton,{"data-test-subj":"errorFixAction",onClick:async()=>{var n;Object(L.e)("error_fix_action");const a=await(null===(n=e.fixAction)||void 0===n?void 0:n.newState({...t,...y}));O(Object(u.N)({updater:a,datasourceId:f}))}},e.fixAction.label),Object(w.jsx)(i.EuiSpacer,null))}if(null!==(b=c.configurationValidationError)&&void 0!==b&&b.length){var S;let e=null,t=null;return c.configurationValidationError.length>1&&(c.expandError?e=c.configurationValidationError.slice(1).map((e=>Object(w.jsx)(r.a.Fragment,null,Object(w.jsx)("p",{key:e.shortMessage,className:"eui-textBreakWord","data-test-subj":"configuration-failure-error"},e.longMessage),k(e)))):t=Object(w.jsx)(i.EuiButtonEmpty,{onClick:()=>{l((e=>({...e,expandError:!e.expandError})))},"data-test-subj":"configuration-failure-more-errors"},o.i18n.translate("xpack.lens.editorFrame.configurationFailureMoreErrors",{defaultMessage:" +{errors} {errors, plural, one {error} other {errors}}",values:{errors:c.configurationValidationError.length-1}}))),Object(w.jsx)(i.EuiFlexGroup,{"data-test-subj":"configuration-failure"},Object(w.jsx)(i.EuiFlexItem,null,Object(w.jsx)(i.EuiEmptyPrompt,{actions:t,body:Object(w.jsx)(r.a.Fragment,null,Object(w.jsx)("p",{className:"eui-textBreakWord","data-test-subj":"configuration-failure-error"},c.configurationValidationError[0].longMessage),k(null===(S=c.configurationValidationError)||void 0===S?void 0:S[0]),e),iconColor:"danger",iconType:"alert"})))}if(null!==(m=c.missingRefsErrors)&&void 0!==m&&m.length){const{management:e}=p.capabilities.navLinks,t=p.capabilities.management.kibana.indexPatterns;return Object(w.jsx)(i.EuiFlexGroup,{"data-test-subj":"configuration-failure"},Object(w.jsx)(i.EuiFlexItem,null,Object(w.jsx)(i.EuiEmptyPrompt,{actions:e&&t?Object(w.jsx)(be.RedirectAppLinks,{application:p},Object(w.jsx)("a",{href:p.getUrlForApp("management",{path:"/kibana/indexPatterns/create"}),"data-test-subj":"configuration-failure-reconfigure-indexpatterns"},o.i18n.translate("xpack.lens.editorFrame.dataViewReconfigure",{defaultMessage:"Recreate it in the data view management page"}))):null,body:Object(w.jsx)(r.a.Fragment,null,Object(w.jsx)("p",{className:"eui-textBreakWord","data-test-subj":"missing-refs-failure"},Object(w.jsx)(M.FormattedMessage,{id:"xpack.lens.editorFrame.dataViewNotFound",defaultMessage:"Data view not found"})),Object(w.jsx)("p",{className:"eui-textBreakWord lnsSelectableErrorMessage"},c.missingRefsErrors[0].longMessage)),iconColor:"danger",iconType:"alert"})))}if(null!==(v=c.expressionBuildError)&&void 0!==v&&v.length){const e=c.expressionBuildError[0];return Object(w.jsx)(i.EuiFlexGroup,null,Object(w.jsx)(i.EuiFlexItem,null,Object(w.jsx)(i.EuiEmptyPrompt,{body:Object(w.jsx)(r.a.Fragment,null,Object(w.jsx)("p",{"data-test-subj":"expression-failure"},Object(w.jsx)(M.FormattedMessage,{id:"xpack.lens.editorFrame.expressionFailure",defaultMessage:"An error occurred in the expression"})),Object(w.jsx)("p",null,e.longMessage)),iconColor:"danger",iconType:"alert"})))}return Object(w.jsx)("div",{className:"lnsExpressionRenderer"},Object(w.jsx)(d,{className:"lnsExpressionRenderer__component",padding:"m",expression:e,searchContext:x,searchSessionId:j,onEvent:s,onData$:P,inspectorAdapters:n.adapters,renderMode:"edit",renderError:(e,t)=>{const n=Object(h.d)(t),a=n.length?n:e?[e]:[];return Object(w.jsx)(i.EuiFlexGroup,null,Object(w.jsx)(i.EuiFlexItem,null,Object(w.jsx)(i.EuiEmptyPrompt,{actions:a.length&&!c.expandError?Object(w.jsx)(i.EuiButtonEmpty,{onClick:()=>{l((e=>({...e,expandError:!e.expandError})))}},o.i18n.translate("xpack.lens.editorFrame.expandRenderingErrorButton",{defaultMessage:"Show details of error"})):null,body:Object(w.jsx)(r.a.Fragment,null,Object(w.jsx)("p",{"data-test-subj":"expression-failure"},Object(w.jsx)(M.FormattedMessage,{id:"xpack.lens.editorFrame.dataFailure",defaultMessage:"An error occurred when loading data."})),c.expandError?a.map((e=>Object(w.jsx)("p",{className:"eui-textBreakWord",key:e},e))):null),iconColor:"danger",iconType:"alert"})))}}))};function Se(e){const{datasourceMap:t,visualizationMap:n}=e,r=Object(u.Q)(),o=Object(u.R)(u.p),i=Object(u.R)(u.w),s=Object(u.R)(u.F),c=Object(u.R)(u.q),d=!!s.state,p=Boolean(s.activeId&&e.visualizationMap[s.activeId]),f=Object(u.R)((e=>Object(u.z)(e,t))),g=Object(a.useRef)();g.current=e=>{if(e&&o)return Object(ue.b)(f.datasourceLayers,s,i,n,t[o],e)};const b=Object(a.useCallback)((e=>void 0!==g.current(e)),[g]),h=Object(a.useCallback)((e=>{const t=g.current(e);t&&(Object(L.e)("drop_onto_workspace"),Object(ue.d)(r,t,{clearStagedPreview:!0}))}),[g,r]);return Object(w.jsx)(l.e,null,Object(w.jsx)(oe,{dataPanel:Object(w.jsx)(O,{core:e.core,plugins:e.plugins,datasourceMap:t,showNoDataPopover:e.showNoDataPopover,dropOntoWorkspace:h,hasSuggestionForField:b}),configPanel:c&&Object(w.jsx)(ae,{core:e.core,datasourceMap:t,visualizationMap:n,framePublicAPI:f}),workspacePanel:c&&d&&Object(w.jsx)(De,{core:e.core,plugins:e.plugins,ExpressionRenderer:e.ExpressionRenderer,lensInspector:e.lensInspector,datasourceMap:t,visualizationMap:n,framePublicAPI:f,getSuggestionForField:g.current}),suggestionsPanel:p&&c&&Object(w.jsx)(pe,{ExpressionRenderer:e.ExpressionRenderer,datasourceMap:t,visualizationMap:n,frame:f})}))}},,,,function(e,t,n){"use strict";var a=n(72);t.__esModule=!0;var r=a(n(354));t.Provider=r.default;var o=a(n(135));t.connectAdvanced=o.default;var i=n(79);t.ReactReduxContext=i.ReactReduxContext;var s=a(n(358));t.connect=s.default;var l=n(365);t.useDispatch=l.useDispatch,t.createDispatchHook=l.createDispatchHook;var u=n(366);t.useSelector=u.useSelector,t.createSelectorHook=u.createSelectorHook;var c=n(141);t.useStore=c.useStore,t.createStoreHook=c.createStoreHook;var d=n(134),p=n(367);t.batch=p.unstable_batchedUpdates;var f=a(n(137));t.shallowEqual=f.default,(0,d.setBatch)(p.unstable_batchedUpdates)},function(e,t,n){"use strict";function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(71));function o(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var i="function"==typeof Symbol&&Symbol.observable||"@@observable",s=function(){return Math.random().toString(36).substring(7).split("").join(".")},l={INIT:"@@redux/INIT"+s(),REPLACE:"@@redux/REPLACE"+s(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+s()}};function u(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function c(e,t){return function(){return t(e.apply(this,arguments))}}function d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}t.__DO_NOT_USE__ActionTypes=l,t.applyMiddleware=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),a=function(){throw new Error(o(15))},i={getState:n.getState,dispatch:function(){return a.apply(void 0,arguments)}},s=t.map((function(e){return e(i)}));return a=d.apply(void 0,s)(n.dispatch),r.default(r.default({},n),{},{dispatch:a})}}},t.bindActionCreators=function(e,t){if("function"==typeof e)return c(e,t);if("object"!=typeof e||null===e)throw new Error(o(16));var n={};for(var a in e){var r=e[a];"function"==typeof r&&(n[a]=c(r,t))}return n},t.combineReducers=function(e){for(var t=Object.keys(e),n={},a=0;a<t.length;a++){var r=t[a];"function"==typeof e[r]&&(n[r]=e[r])}var i,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:l.INIT}))throw new Error(o(12));if(void 0===n(void 0,{type:l.PROBE_UNKNOWN_ACTION()}))throw new Error(o(13))}))}(n)}catch(e){i=e}return function(e,t){if(void 0===e&&(e={}),i)throw i;for(var a=!1,r={},l=0;l<s.length;l++){var u=s[l],c=n[u],d=e[u],p=c(d,t);if(void 0===p)throw t&&t.type,new Error(o(14));r[u]=p,a=a||p!==d}return(a=a||s.length!==Object.keys(e).length)?r:e}},t.compose=d,t.createStore=function e(t,n,a){var r;if("function"==typeof n&&"function"==typeof a||"function"==typeof a&&"function"==typeof arguments[3])throw new Error(o(0));if("function"==typeof n&&void 0===a&&(a=n,n=void 0),void 0!==a){if("function"!=typeof a)throw new Error(o(1));return a(e)(t,n)}if("function"!=typeof t)throw new Error(o(2));var s=t,c=n,d=[],p=d,f=!1;function g(){p===d&&(p=d.slice())}function b(){if(f)throw new Error(o(3));return c}function h(e){if("function"!=typeof e)throw new Error(o(4));if(f)throw new Error(o(5));var t=!0;return g(),p.push(e),function(){if(t){if(f)throw new Error(o(6));t=!1,g();var n=p.indexOf(e);p.splice(n,1),d=null}}}function m(e){if(!u(e))throw new Error(o(7));if(void 0===e.type)throw new Error(o(8));if(f)throw new Error(o(9));try{f=!0,c=s(c,e)}finally{f=!1}for(var t=d=p,n=0;n<t.length;n++)(0,t[n])();return e}function v(e){if("function"!=typeof e)throw new Error(o(10));s=e,m({type:l.REPLACE})}function y(){var e,t=h;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(o(11));function n(){e.next&&e.next(b())}return n(),{unsubscribe:t(n)}}})[i]=function(){return this},e}return m({type:l.INIT}),(r={dispatch:m,subscribe:h,getState:b,replaceReducer:v})[i]=y,r}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l})),n(385);var a=n(6),r=n(7),o=n(0),i=n(2);const s="lensDontCloseDimensionContainerOnClick";function l({isOpen:e,groupLabel:t,handleClose:n,panel:l,isFullscreen:u,panelRef:c}){const[d,p]=Object(a.useState)(!1),f=Object(a.useCallback)((()=>{const e=n();return e&&p(!1),e}),[n]),g=Object(a.useCallback)((e=>{e.key===r.keys.ESCAPE&&f()&&e.preventDefault()}),[f]);return Object(a.useEffect)((()=>(e?document.body.classList.add("lnsBody--overflowHidden"):document.body.classList.remove("lnsBody--overflowHidden"),()=>{document.body.classList.remove("lnsBody--overflowHidden")}))),e?Object(i.jsx)("div",{ref:c},Object(i.jsx)(r.EuiFocusTrap,{disabled:!d,clickOutsideDisables:!0},Object(i.jsx)(r.EuiWindowEvent,{event:"keydown",handler:g}),Object(i.jsx)(r.EuiOutsideClickDetector,{onOutsideClick:e=>{u||function(e){for(let t=e.target;null!==t;t=t.parentElement)if(t.classList.contains(s))return!0;return!1}(e)||f()},isDisabled:!e},Object(i.jsx)("div",{role:"dialog","aria-labelledby":"lnsDimensionContainerTitle",className:"lnsDimensionContainer euiFlyout",onAnimationEnd:()=>{e&&p(!0)}},Object(i.jsx)(r.EuiFlyoutHeader,{hasBorder:!0,className:"lnsDimensionContainer__header"},Object(i.jsx)(r.EuiFlexGroup,{gutterSize:"m",alignItems:"center",responsive:!1},Object(i.jsx)(r.EuiFlexItem,{grow:!0},Object(i.jsx)(r.EuiTitle,{size:"xs"},Object(i.jsx)("h2",{id:"lnsDimensionContainerTitle",className:"lnsDimensionContainer__headerTitle"},Object(i.jsx)("strong",null,o.i18n.translate("xpack.lens.configure.configurePanelTitle",{defaultMessage:"{groupLabel}",values:{groupLabel:t}}))))),Object(i.jsx)(r.EuiFlexItem,{grow:!1},Object(i.jsx)(r.EuiButtonIcon,{color:"text","data-test-subj":"lns-indexPattern-dimensionContainerBack",className:"lnsDimensionContainer__backIcon",onClick:f,iconType:"cross","aria-label":o.i18n.translate("xpack.lens.dimensionContainer.closeConfiguration",{defaultMessage:"Close configuration"})})))),Object(i.jsx)("div",{className:"lnsDimensionContainer__content"},l),Object(i.jsx)(r.EuiFlyoutFooter,{className:"lnsDimensionContainer__footer"},Object(i.jsx)(r.EuiButtonEmpty,{flush:"left",size:"s",iconType:"cross",onClick:f,"data-test-subj":"lns-indexPattern-dimensionContainerClose"},o.i18n.translate("xpack.lens.dimensionContainer.close",{defaultMessage:"Close"}))))))):null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(390);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAst=function(e){return"object"==typeof e&&"expression"===(null==e?void 0:e.type)},t.isAstWithMeta=function(e){return"object"==typeof(null==e?void 0:e.node)}},function(e,t,n){"use strict";n.r(t),n.d(t,"SaveModalContainer",(function(){return j})),n.d(t,"runSaveLensVisualization",(function(){return _})),n.d(t,"removePinnedFilters",(function(){return w}));var a=n(6),r=n.n(a),o=n(0),i=n(50),s=n(80),l=n(21),u=n.n(l),c=n(58),d=n(2);const p=({initialTags:e,onSave:t,savedObjectsTagging:n,options:o,...i})=>{const[s,l]=Object(a.useState)(e),p=Object(a.useMemo)((()=>n?Object(d.jsx)(n.ui.components.SavedObjectSaveModalTagSelector,{initialSelection:e,onTagsSelected:l}):void 0),[n,e]),f="function"==typeof o?e=>Object(d.jsx)(r.a.Fragment,null,p,o(e)):Object(d.jsx)(r.a.Fragment,null,p,o),g=Object(a.useCallback)((e=>{t({...e,newTags:s})}),[t,s]);return Object(d.jsx)(c.SavedObjectSaveModalOrigin,u()({},i,{onSave:g,options:f}))};var f=n(59);const g=Object(f.withSuspense)(f.LazySavedObjectSaveModalDashboard),b=({initialTags:e,onSave:t,savedObjectsTagging:n,...o})=>{const[i,s]=Object(a.useState)(e),l=Object(a.useMemo)((()=>n?Object(d.jsx)(n.ui.components.SavedObjectSaveModalTagSelector,{initialSelection:e,onTagsSelected:s}):void 0),[n,e]),c=Object(d.jsx)(r.a.Fragment,null,l),p=Object(a.useCallback)((e=>{t({...e,returnToOrigin:!1,newTags:i})}),[t,i]);return Object(d.jsx)(g,u()({},o,{onSave:p,tagOptions:c}))},h=e=>{const{originatingApp:t,savingToLibraryPermitted:n,savedObjectsTagging:a,tagsIds:r,savedObjectId:i,title:s,description:l,allowByValueEmbeddables:u,returnToOriginSwitchLabel:c,getAppNameFromId:f,onClose:g,onSave:h}=e;return t||!u?Object(d.jsx)(p,{savedObjectsTagging:a,initialTags:r,originatingApp:t,onClose:g,onSave:e=>h(e,{saveToLibrary:!0}),getAppNameFromId:f,documentInfo:{id:i,title:s||"",description:l||""},returnToOriginSwitchLabel:c,objectType:o.i18n.translate("xpack.lens.app.saveModalType",{defaultMessage:"Lens visualization"}),"data-test-subj":"lnsApp_saveModalOrigin"}):Object(d.jsx)(b,{savedObjectsTagging:a,initialTags:r,canSaveByReference:Boolean(n),onSave:e=>{const t=Boolean(e.addToLibrary);h(e,{saveToLibrary:t})},onClose:g,documentInfo:{id:n?i:void 0,title:s||"",description:l||""},objectType:o.i18n.translate("xpack.lens.app.saveModalType",{defaultMessage:"Lens visualization"}),"data-test-subj":"lnsApp_saveModalDashboard"})};var m=n(150),v=n(11),y=n(69),x=n(144);function j({returnToOriginSwitchLabel:e,onClose:t,onSave:n,runSave:r,persistedDoc:o,originatingApp:i,initialInput:s,redirectTo:l,redirectToOrigin:u,getAppNameFromId:c=(()=>{}),isSaveable:p=!0,lastKnownDoc:f,lensServices:g}){let b,m,v="";const[y,j]=Object(a.useState)(f);y&&(v=y.title,b=y.description,m=y.savedObjectId);const{attributeService:w,savedObjectsTagging:O,application:D,dashboardFeatureFlag:P}=g;Object(a.useEffect)((()=>{j(f)}),[f]),Object(a.useEffect)((()=>{let e=!0;return s&&Object(x.a)({initialInput:s,lensServices:g}).then((t=>{null!=t&&t.doc&&e&&j(t.doc)})),()=>{e=!1}}),[s,g]);const k=o&&O?O.ui.getTagIdsFromReferences(o.references):[],S=Boolean(p&&D.capabilities.visualize.save);return Object(d.jsx)(h,{originatingApp:i,savingToLibraryPermitted:S,allowByValueEmbeddables:null==P?void 0:P.allowByValueEmbeddables,savedObjectsTagging:O,tagsIds:k,onSave:(e,a)=>{((e,a)=>{r?r(e,a):w&&y&&_({...g,lastKnownDoc:y,initialInput:s,attributeService:w,redirectTo:l,redirectToOrigin:u,originatingApp:i,getIsByValueMode:()=>!1,onAppLeave:()=>{}},e,a).then((()=>{null==n||n(),t()}))})(e,a)},onClose:t,getAppNameFromId:c,title:v,description:b,savedObjectId:m,returnToOriginSwitchLabel:e})}const _=async(e,t,n)=>{const{chrome:a,initialInput:r,originatingApp:s,lastKnownDoc:l,persistedDoc:u,savedObjectsClient:c,overlays:d,notifications:p,stateTransfer:f,attributeService:g,usageCollection:b,savedObjectsTagging:h,getIsByValueMode:x,redirectToOrigin:j,onAppLeave:_,redirectTo:O,dashboardFeatureFlag:D}=e;if(!l)return;b&&b.reportUiCounter(s||"visualize",i.METRIC_TYPE.CLICK,"lens:save");let P=l.references;if(h){const e=u&&h?h.ui.getTagIdsFromReferences(u.references):[];P=h.ui.updateTagsReferences(P,t.newTags||e)}const k=((e,t,n)=>{const a={...w(e),references:n};return void 0!==t.newDescription&&(a.description=t.newDescription),void 0!==t.newTitle&&(a.title=t.newTitle),a})(l,t,P);x()&&k.state.filters.forEach((e=>{"function"==typeof e.meta.value&&delete e.meta.value}));const S=t.newCopyOnSave?void 0:r,L=null==S?void 0:S.savedObjectId;if(n.saveToLibrary)try{await Object(m.b)({id:L,title:k.title,copyOnSave:t.newCopyOnSave,lastSavedTitle:l.title,getEsType:()=>"lens",getDisplayName:()=>o.i18n.translate("xpack.lens.app.saveModalType",{defaultMessage:"Lens visualization"})},t.isTitleDuplicateConfirmed,t.onTitleDuplicate,{savedObjectsClient:c,overlays:d})}catch(e){throw e}try{const e=await g.wrapAttributes(k,n.saveToLibrary,S);return t.returnToOrigin&&j?(null==_||_((e=>e.default())),void j({input:e,isCopied:t.newCopyOnSave})):t.dashboardId?(null==_||_((e=>e.default())),void(({embeddableInput:e,dashboardFeatureFlag:t,dashboardId:n,stateTransfer:a})=>{if(!t.allowByValueEmbeddables)throw new Error("redirectToDashboard called with by-value embeddables disabled");const r={input:e,type:v.h},o="new"===n?"#/create":`#/view/${n}`;a.navigateToWithEmbeddablePackage("dashboards",{state:r,path:o})})({embeddableInput:e,dashboardId:t.dashboardId,stateTransfer:f,dashboardFeatureFlag:D})):(p.toasts.addSuccess(o.i18n.translate("xpack.lens.app.saveVisualization.successNotificationText",{defaultMessage:"Saved '{visTitle}'",values:{visTitle:k.title}})),g.inputIsRefType(e)&&e.savedObjectId!==L?(a.recentlyAccessed.add(Object(v.n)(e.savedObjectId),k.title,e.savedObjectId),null===(C=f.clearEditorState)||void 0===C||C.call(f,v.a),null==O||O(e.savedObjectId),{isLinkedToOriginatingApp:!1}):{persistedDoc:{...k,...e},isLinkedToOriginatingApp:!1});var C}catch(e){throw console.dir(e),Object(y.e)("save_failed"),e}};function w(e){var t;if(e)return{...e,state:{...e.state,filters:((null===(t=e.state)||void 0===t?void 0:t.filters)||[]).filter((e=>!Object(s.e)(e)))}}}t.default=j},function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"h",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"j",(function(){return p})),n.d(t,"i",(function(){return f})),n.d(t,"c",(function(){return g})),n.d(t,"f",(function(){return b}));var a=n(74),r=n(39);const o=e=>"end"===e,i=e=>{const t=e[e.length-1];return[...e,{start:t.end,color:t.color,end:void 0}].sort((({start:e},{start:t})=>Number(e)-Number(t))).reduce(((e,n,a,r)=>{let o=n.color;return a===r.length-2&&r[a+1].start!==t.end&&(o=r[a+1].color),a!==r.length-1&&e.push({color:o,start:n.start,end:r[a+1].start}),e}),[])},s=(e,t)=>{const n=Object(r.checkIsMinContinuity)(t)?Number.NEGATIVE_INFINITY:e[0].start,a=Object(r.checkIsMaxContinuity)(t)?Number.POSITIVE_INFINITY:e[e.length-1].end;return{min:n,max:a,colorStops:e.map(((e,t)=>({color:e.color,stop:0===t?n:e.start})))}},l=(e,t,n,o,i)=>{const{max:s,min:l}=Object(a.e)(o,i);let u;return u=n?Object(r.checkIsMaxContinuity)(t)?Number.POSITIVE_INFINITY:Object(a.j)(e[e.length-1].start>s?e[e.length-1].start+1:s):Object(r.checkIsMinContinuity)(t)?Number.NEGATIVE_INFINITY:Object(a.j)(e[0].end<l?e[0].end-1:l),u},u=(e,t,n)=>{const a=[...e];return a[t]={...a[t],...n},a},c=(e,t,n)=>{let r=[...e];const o=r.length-1,i=r[o].start,s=r[o].end,l=r[o].color,{max:c}=Object(a.e)(t,n),d=Math.max(c,s);let p=Object(a.j)(Math.min(i+1,d));return p===Number.NEGATIVE_INFINITY&&(p=1),r=u(r,o,{end:p}),r.push({color:l,start:p,end:s===p?s+1:s}),r},d=(e,t)=>{const n=t.length-1;let a=t;return 0!==e&&(e!==n&&(a=u(a,e-1,{end:a[e+1].start})),e===n&&(a=u(a,e-1,{end:t[e].end}))),a.filter(((t,n)=>n!==e))},p=(e,t,n,a)=>{const r=t?parseFloat(t):Number.NaN;let o=a;return"end"===n?o=u(o,e,{end:r}):(o=u(o,e,{start:r}),e>0&&(o=u(o,e-1,{end:r}))),o},f=(e,t,n)=>u(n,e,{color:t}),g=(e,t,n,o)=>{const i=e.length,s=e.length-1,{min:l,max:u}=Object(a.e)(t,o),c=Object(a.j)((u-l)/i),d=e=>Object(a.j)(l+c*e),p=e=>0===e?Object(r.checkIsMinContinuity)(n)?Number.NEGATIVE_INFINITY:Object(a.j)(l):d(e),f=e=>e===s?Object(r.checkIsMaxContinuity)(n)?Number.POSITIVE_INFINITY:Object(a.j)(u):d(e+1);return e.map(((e,t)=>({color:e.color,start:p(t),end:f(t)})))},b=e=>e.map((({color:t},n)=>({color:t,start:e[e.length-n-1].start,end:e[e.length-n-1].end}))).reverse()},function(e,t,n){"use strict";function a(e){return"object"==typeof e&&null!==e&&"columnId"in e}function r(e){return"filter"===e.name}function o(e){return"brush"===e.name}function i(e){return"edit"===e.name}function s(e){return"tableRowContextMenuClick"===e.name}n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return s}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(6),r=n.n(a),o=n(36);function i({render:e,nativeProps:t,tag:n,...i}){const s=Object(a.useRef)(),l=Object(a.useRef)();return Object(a.useEffect)((()=>()=>{s.current&&(l.current&&"function"==typeof l.current&&l.current(s.current),Object(o.unmountComponentAtNode)(s.current))}),[]),r.a.createElement(n||"div",{...i,ref:n=>{if(n){s.current=n;const a=e(n,t);a instanceof Promise?a.then((e=>{"function"==typeof e&&(l.current=e)})):"function"==typeof a&&(l.current=a)}}})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(208),r=n.n(a);function o(){return r()()}},,function(e,t,n){e.exports=n(22)(21)},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));const a="lens-settings",r=(e,t)=>{const n=e.get(a);return n&&n[t]},o=(e,t,n)=>{e.set(a,{...e.get(a),[t]:n})}},,function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=n(134),r={notify:function(){}},o=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=r,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){var e,t,n;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=(e=(0,a.getBatch)(),t=null,n=null,{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var a=!0,r=n={callback:e,next:null,prev:n};return r.prev?r.prev.next=r:t=r,function(){a&&null!==t&&(a=!1,r.next?r.next.prev=r.prev:n=r.prev,r.prev?r.prev.next=r.next:t=r.next)}}}))},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=r)},e}();t.default=o},function(e,t,n){e.exports=n(22)(1115)},function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u}));var a=n(6),r=n(7),o=n(0),i=n(11),s=n(2);function l(e,t,n){return e.getLayerType(n,t)||i.o.DATA}function u({visualization:e,visualizationState:t,onAddLayerClick:n,layersMeta:l}){const[u,c]=Object(a.useState)(!1),d=Object(a.useMemo)((()=>{var n;return e.appendLayer&&t?null===(n=e.getSupportedLayers)||void 0===n?void 0:n.call(e,t,l):null}),[e,t,l]);return null==d?null:1===d.length?Object(s.jsx)(r.EuiToolTip,{display:"block",title:o.i18n.translate("xpack.lens.xyChart.addLayer",{defaultMessage:"Add a layer"}),content:o.i18n.translate("xpack.lens.xyChart.addLayerTooltip",{defaultMessage:"Use multiple layers to combine visualization types or visualize different data views."}),position:"bottom"},Object(s.jsx)(r.EuiButton,{fullWidth:!0,"data-test-subj":"lnsLayerAddButton","aria-label":o.i18n.translate("xpack.lens.configPanel.addLayerButton",{defaultMessage:"Add layer"}),fill:!0,color:"text",onClick:()=>n(d[0].type),iconType:"layers"},o.i18n.translate("xpack.lens.configPanel.addLayerButton",{defaultMessage:"Add layer"}))):Object(s.jsx)(r.EuiPopover,{display:"block","data-test-subj":"lnsConfigPanel__addLayerPopover",button:Object(s.jsx)(r.EuiButton,{fullWidth:!0,"data-test-subj":"lnsLayerAddButton","aria-label":o.i18n.translate("xpack.lens.configPanel.addLayerButton",{defaultMessage:"Add layer"}),fill:!0,color:"text",onClick:()=>c(!u),iconType:"layers"},o.i18n.translate("xpack.lens.configPanel.addLayerButton",{defaultMessage:"Add layer"})),isOpen:u,closePopover:()=>c(!1),panelPaddingSize:"none"},Object(s.jsx)(r.EuiContextMenu,{initialPanelId:0,panels:[{id:0,title:o.i18n.translate("xpack.lens.configPanel.selectLayerType",{defaultMessage:"Select layer type"}),width:300,items:d.map((({type:e,label:t,icon:a,disabled:l,toolTipContent:u})=>({toolTipContent:u,disabled:l,name:e===i.o.ANNOTATIONS?Object(s.jsx)(r.EuiFlexGroup,{gutterSize:"m"},Object(s.jsx)(r.EuiFlexItem,null,Object(s.jsx)("span",{className:"lnsLayerAddButton__label"},t)),Object(s.jsx)(r.EuiFlexItem,{grow:!1},Object(s.jsx)(r.EuiBadge,{className:"lnsLayerAddButton__techBadge",color:"hollow",isDisabled:l},o.i18n.translate("xpack.lens.configPanel.experimentalLabel",{defaultMessage:"Technical preview"})))):Object(s.jsx)("span",{className:"lnsLayerAddButtonLabel"},t),className:"lnsLayerAddButton",icon:a&&Object(s.jsx)(r.EuiIcon,{size:"m",type:a}),"data-test-subj":`lnsLayerAddButton-${e}`,onClick:()=>{n(e),c(!1)}})))}]}))}},function(e,t,n){"use strict";e.exports=n(368)},function(e,t,n){switch(window.__kbnThemeTag__){case"v8dark":return n(371);case"v8light":return n(373)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=void 0;const a=n(392).parse;t.parse=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getType=function(e){if(null==e)return"null";if("object"==typeof e){if(!e.type)throw new Error("Objects must have a type property");return e.type}return typeof e}},function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"e",(function(){return p}));var a=n(0),r=n(31),o=n(35);const i=e=>{var t,n,a;return"body"in e&&void 0!==(null===(t=e.body)||void 0===t||null===(n=t.attributes)||void 0===n||null===(a=n.error)||void 0===a?void 0:a.caused_by)};function s(e){const{type:t,reason:n,caused_by:a}=e;return"failed_shards"in e&&e.failed_shards?e.failed_shards.flatMap((e=>function({type:e,reason:t,caused_by:n,lang:a,script:r}){if(!n)return/script/.test(t)?[{type:e,reason:t,context:{type:"Painless script",reason:""}}]:[{type:e,reason:t}];const[o]=s(n);return"painless"===a?[{...o,context:{type:"Painless script",reason:`"${r}"`||t}}]:[{...o,context:{type:e,reason:t}}]}(e.reason))):a?s(a):[{type:t,reason:n}]}function l(e){const t=[];if(e&&"original"in e&&e.original)if("message"in(n=e.original)&&"stack"in n&&!i(n)&&!Object(o.isEsError)(n))(e=>"Batch request failed with status 0"===e.message)(e.original)?t.push(a.i18n.translate("xpack.lens.editorFrame.networkErrorMessage",{defaultMessage:"Network error, try again later or contact your administrator."})):t.push(e.message);else{const n=Object(r.uniqWith)(function(e){return i(e)?s(e.body.attributes.error):Object(o.isEsError)(e)?null!==(t=e.attributes)&&void 0!==t&&t.reason?s(e.attributes):s(null===(n=e.attributes)||void 0===n?void 0:n.caused_by):[];var t,n}(e.original),r.isEqual);for(const e of n)e.context?t.push(a.i18n.translate("xpack.lens.editorFrame.expressionFailureMessageWithContext",{defaultMessage:"Request error: {type}, {reason} in {context}",values:{reason:e.reason,type:e.type,context:e.context.reason?`${e.context.reason} (${e.context.type})`:e.context.type}})):t.push(a.i18n.translate("xpack.lens.editorFrame.expressionFailureMessage",{defaultMessage:"Request error: {type}, {reason}",values:{reason:e.reason,type:e.type}}))}var n;return t}function u(){return a.i18n.translate("xpack.lens.editorFrame.expressionMissingVisualizationType",{defaultMessage:"Visualization type not found."})}function c(){return a.i18n.translate("xpack.lens.editorFrame.expressionMissingDatasource",{defaultMessage:"Could not find datasource for the visualization"})}function d(e){return a.i18n.translate("xpack.lens.editorFrame.expressionMissingDataView",{defaultMessage:"Could not find the {count, plural, one {data view} other {data views}}: {ids}",values:{count:e.length,ids:e.join(", ")}})}function p(e){return{shortMessage:a.i18n.translate("xpack.lens.unknownVisType.shortMessage",{defaultMessage:"Unknown visualization type"}),longMessage:a.i18n.translate("xpack.lens.unknownVisType.longMessage",{defaultMessage:"The visualization type {visType} could not be resolved.",values:{visType:e}})}}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return O})),n(109);var a=n(6),r=n.n(a),o=n(7),i=n(34),s=n.n(i),l=n(32),u=n(98),c=(n(375),n(0)),d=n(84),p=n(69),f=n(33),g=n(70),b=n(99),h=n(2);function m({visualizationMap:e,visualization:t}){const n=e[t.activeId||""];if(!n)return Object(h.jsx)(r.a.Fragment,null,c.i18n.translate("xpack.lens.configPanel.selectVisualization",{defaultMessage:"Select a visualization"}));const a=n.getDescription(t.state);return Object(h.jsx)(r.a.Fragment,null,a.icon&&Object(h.jsx)(o.EuiIcon,{size:"l",className:"lnsChartSwitch__summaryIcon",type:a.icon}),Object(h.jsx)("span",{className:"lnsChartSwitch__summaryText"},a.label))}function v(e,t){return 0===e.length?0:Math.min(32*e.length,t)}const y=Object(a.memo)((function(e){const[t,n]=Object(a.useState)(!1),i=Object(g.Q)(),s=Object(g.R)(g.p),u=Object(g.R)(g.F),y=Object(g.R)(g.w);function x(t,n){const a=e.visualizationMap[t],r=e.visualizationMap[t].switchVisualizationType||((e,t)=>t),o=Object.entries(e.framePublicAPI.datasourceLayers),l=o.some((([e,t])=>t.getTableSpec().length>0));if(u.activeId===t&&u.state&&a.getVisualizationTypeId(u.state)===n)return{visualizationId:t,subVisualizationId:n,dataLoss:"nothing",keptLayerIds:Object.keys(e.framePublicAPI.datasourceLayers),getVisualizationState:()=>r(n,u.state),sameDatasources:!0};const c=function(e,t,n,a,r,o){const i=a.activeId&&e.visualizationMap[a.activeId]&&e.visualizationMap[a.activeId].getMainPalette?e.visualizationMap[a.activeId].getMainPalette(a.state):void 0,s=Object(d.a)({datasourceMap:e.datasourceMap,datasourceStates:n,visualizationMap:{[t]:r},activeVisualization:a.activeId?e.visualizationMap[a.activeId]:void 0,visualizationState:a.state,subVisualizationId:o,activeData:e.framePublicAPI.activeData,mainPalette:i}).filter((e=>"extended"!==e.changeType&&r.getVisualizationTypeId(e.visualizationState)===o));return s.find((e=>"unchanged"===e.changeType))||s.find((e=>"reduced"===e.changeType))||s[0]}(e,t,y,u,a,n);let p;function f(){const e=Object(b.a)();return i(Object(g.g)({datasourceId:s,layerId:e})),e}return p=l?c?o.length>1&&o.length!==c.keptLayerIds.length?"layers":c.columns!==o[0][1].getTableSpec().length?"columns":"nothing":"everything":"nothing",{visualizationId:t,subVisualizationId:n,dataLoss:p,getVisualizationState:c?()=>r(n,a.initialize(f,c.visualizationState)):()=>r(n,a.initialize(f,u.activeId===a.id?u.state:void 0,u.activeId&&e.visualizationMap[u.activeId].getMainPalette?e.visualizationMap[u.activeId].getMainPalette(u.state):void 0)),keptLayerIds:c?c.keptLayerIds:[],datasourceState:c?c.datasourceState:void 0,datasourceId:c?c.datasourceId:void 0,sameDatasources:"nothing"===p&&u.activeId===a.id}}const[j,_]=Object(a.useState)(""),{visualizationTypes:w,visualizationsLookup:O}=Object(a.useMemo)((()=>{if(!t)return{visualizationTypes:[],visualizationsLookup:{}};const n=u.activeId&&e.visualizationMap[u.activeId]?(a=e.visualizationMap[u.activeId],r=u.state,a.getVisualizationTypeId(r)):void 0;var a,r;const i=j.toLowerCase(),s={},d={};return Object.entries(e.visualizationMap).forEach((([e,t])=>{for(const a of t.visualizationTypes){var n;if(a.label.toLowerCase().includes(i)||(null===(n=a.fullLabel)||void 0===n?void 0:n.toLowerCase().includes(i))){s[a.groupLabel]=s[a.groupLabel]||{priority:0,visualizations:[]};const t={...a,visualizationId:e,selection:x(e,a.id)};s[a.groupLabel].priority+=a.sortPriority||0,s[a.groupLabel].visualizations.push(t),d[`${e}:${a.id}`]=t}}})),{visualizationTypes:Object.keys(s).sort(((e,t)=>s[t].priority-s[e].priority)).flatMap((e=>{const{visualizations:t}=s[e];return 0===t.length?[]:[{key:e,label:e,isGroupLabel:!0,"aria-label":e,"data-test-subj":`lnsChartSwitchPopover_${e}`}].concat(t.sort(((e,t)=>(e.fullLabel||e.label).localeCompare(t.fullLabel||t.label))).map((e=>({"aria-label":e.fullLabel||e.label,className:"lnsChartSwitch__option",isGroupLabel:!1,key:`${e.visualizationId}:${e.id}`,value:`${e.visualizationId}:${e.id}`,"data-test-subj":`lnsChartSwitchPopover_${e.id}`,label:e.fullLabel||e.label,prepend:Object(h.jsx)(o.EuiIcon,{className:"lnsChartSwitch__chartIcon",type:e.icon||"empty"}),append:"nothing"!==e.selection.dataLoss||e.showExperimentalBadge?Object(h.jsx)(o.EuiFlexGroup,{gutterSize:"xs",responsive:!1,alignItems:"center",className:"lnsChartSwitch__append"},"nothing"!==e.selection.dataLoss?Object(h.jsx)(o.EuiFlexItem,{grow:!1},Object(h.jsx)(o.EuiIconTip,{"aria-label":c.i18n.translate("xpack.lens.chartSwitch.dataLossLabel",{defaultMessage:"Warning"}),type:"alert",color:"warning",content:c.i18n.translate("xpack.lens.chartSwitch.dataLossDescription",{defaultMessage:"Selecting this visualization type will remove incompatible configuration options and multiple layers, if present"}),iconProps:{className:"lnsChartSwitch__chartIcon","data-test-subj":`lnsChartSwitchPopoverAlert_${e.id}`}})):null,e.showExperimentalBadge?Object(h.jsx)(o.EuiFlexItem,{grow:!1},Object(h.jsx)(o.EuiBadge,{color:"hollow"},Object(h.jsx)(l.FormattedMessage,{id:"xpack.lens.chartSwitch.experimentalLabel",defaultMessage:"Technical preview"}))):null):null,...n===e.id&&{checked:"on"}}))))})),visualizationsLookup:d}}),[t,e.visualizationMap,e.framePublicAPI,u.activeId,u.state,j]);return Object(h.jsx)("div",{className:"lnsChartSwitch__header"},Object(h.jsx)(o.EuiPopover,{id:"lnsChartSwitchPopover",ownFocus:!0,initialFocus:".lnsChartSwitch__popoverPanel",panelClassName:"lnsChartSwitch__popoverPanel",panelPaddingSize:"s",button:Object(h.jsx)(f.ToolbarButton,{onClick:()=>n(!t),"data-test-subj":"lnsChartSwitchPopover",fontWeight:"bold"},Object(h.jsx)(m,{visualization:u,visualizationMap:e.visualizationMap})),isOpen:t,closePopover:()=>n(!1),anchorPosition:"downLeft"},Object(h.jsx)(o.EuiPopoverTitle,null,Object(h.jsx)(o.EuiFlexGroup,{alignItems:"center",responsive:!1},Object(h.jsx)(o.EuiFlexItem,null,c.i18n.translate("xpack.lens.configPanel.visualizationType",{defaultMessage:"Visualization type"})))),Object(h.jsx)(o.EuiSelectable,{className:"lnsChartSwitch__options",height:v(w,380),searchable:!0,singleSelection:!0,isPreFiltered:!0,"data-test-subj":"lnsChartSwitchList",searchProps:{className:"lnsChartSwitch__search","data-test-subj":"lnsChartSwitchSearch",onChange:e=>_(e)},options:w,onChange:t=>{const a=t.find((({checked:e})=>"on"===e));if(!a)return;const r=a.value;var o;o=O[r].selection,n(!1),Object(p.e)("chart_switch"),Object(d.d)(i,{...o,visualizationState:o.getVisualizationState()},{clearStagedPreview:!0}),(o.datasourceId||o.sameDatasources)&&"everything"!==o.dataLoss||i(Object(g.l)({visualizationId:u.activeId,layerIds:Object.keys(e.framePublicAPI.datasourceLayers)}))},noMatchesMessage:Object(h.jsx)(l.FormattedMessage,{id:"xpack.lens.chartSwitch.noResults",defaultMessage:"No results found for {term}.",values:{term:Object(h.jsx)("strong",null,j)}})},((e,t)=>Object(h.jsx)(r.a.Fragment,null,t,e)))))}));n(380);const x=({children:e})=>{const[t,n]=Object(a.useState)(!1);if(!e)return null;const i=r.a.Children.count(e);return Object(h.jsx)(o.EuiPopover,{panelPaddingSize:"none",button:Object(h.jsx)(o.EuiButtonEmpty,{color:"warning",onClick:()=>n((e=>!e)),iconType:"alert",className:"lnsWorkspaceWarning__button"},i,Object(h.jsx)("span",{className:"lnsWorkspaceWarning__buttonText"}," ",c.i18n.translate("xpack.lens.chartWarnings.number",{defaultMessage:"{warningsCount, plural, one {warning} other {warnings}}",values:{warningsCount:i}}))),isOpen:t,closePopover:()=>n(!1)},Object(h.jsx)("ul",{className:"lnsWorkspaceWarningList"},r.a.Children.map(e,((e,t)=>Object(h.jsx)("li",{key:t,className:"lnsWorkspaceWarningList__item"},Object(h.jsx)(o.EuiText,{size:"s"},e))))))};function j(){const e=Object(g.R)((e=>{var t;return null===(t=e.lens.persistedDoc)||void 0===t?void 0:t.title}));return Object(h.jsx)(o.EuiScreenReaderOnly,null,Object(h.jsx)("h1",{id:"lns_ChartTitle","data-test-subj":"lns_ChartTitle"},e||c.i18n.translate("xpack.lens.chartTitle.unsaved",{defaultMessage:"Unsaved visualization"})))}var _=n(92);const w="autoApplyDisabled";function O({children:e,framePublicAPI:t,visualizationState:n,visualizationId:i,visualizationMap:c,datasourceMap:d,datasourceStates:p,isFullscreen:f}){const b=Object(g.Q)(),m=Object(g.R)(g.s),v=Object(g.R)(g.r),w=i?c[i]:null,O=Object(a.useCallback)((e=>{w&&b(Object(g.P)({visualizationId:w.id,newState:e}))}),[b,w]),D=Object(a.useCallback)(((e,t)=>{b(Object(g.N)({updater:e,datasourceId:t}))}),[b]),P=[];return null!=w&&w.getWarningMessages&&P.push(...w.getWarningMessages(n,t)||[]),Object.entries(p).forEach((([e,n])=>{const a=d[e];!n.isLoading&&a.getWarningMessages&&P.push(...a.getWarningMessages(n.state,t,(t=>D(t,e)))||[])})),Object(h.jsx)(r.a.Fragment,null,!(f&&(v||null!=P&&P.length))&&Object(h.jsx)(o.EuiFlexGroup,{alignItems:"flexEnd",gutterSize:"s",direction:"row",className:s()("lnsWorkspacePanelWrapper__toolbar",{"lnsWorkspacePanelWrapper__toolbar--fullscreen":f}),responsive:!1},!f&&Object(h.jsx)(o.EuiFlexItem,null,Object(h.jsx)(o.EuiFlexGroup,{alignItems:"center",gutterSize:"s",responsive:!1,wrap:!0},Object(h.jsx)(o.EuiFlexItem,{grow:!1},Object(h.jsx)(y,{"data-test-subj":"lnsChartSwitcher",visualizationMap:c,datasourceMap:d,framePublicAPI:t})),w&&w.renderToolbar&&Object(h.jsx)(o.EuiFlexItem,{grow:!1},Object(h.jsx)(u.a,{render:w.renderToolbar,nativeProps:{frame:t,state:n,setState:O}})))),Object(h.jsx)(o.EuiFlexItem,{grow:!1},Object(h.jsx)(o.EuiFlexGroup,{alignItems:"center",gutterSize:"s",responsive:!1},null!=P&&P.length?Object(h.jsx)(o.EuiFlexItem,{grow:!1},Object(h.jsx)(x,null,P)):null,!v&&Object(h.jsx)(o.EuiFlexItem,{grow:!1},Object(h.jsx)(o.EuiButton,{disabled:v||m,fill:!0,className:"lnsWorkspacePanelWrapper__applyButton "+_.a,iconType:"checkInCircleFilled",onClick:()=>b(Object(g.b)()),size:"m","data-test-subj":"lnsApplyChanges__toolbar",minWidth:"auto"},Object(h.jsx)(l.FormattedMessage,{id:"xpack.lens.editorFrame.applyChangesLabel",defaultMessage:"Apply changes"})))))),Object(h.jsx)(o.EuiPageContent,{className:s()("lnsWorkspacePanelWrapper",{"lnsWorkspacePanelWrapper--fullscreen":f}),color:"transparent",hasBorder:!1,hasShadow:!1,paddingSize:"none"},Object(h.jsx)(j,null),e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(41),r=n(6),o=a.__importDefault(n(175));t.default=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=[]);var a=o.default(e,t),i=a[0],s=a[1],l=a[2];return r.useEffect(l,n),[i,s]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDeepEqual=t.off=t.on=t.isClient=void 0;var a=n(41).__importDefault(n(187));t.isClient="object"==typeof window,t.on=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.addEventListener.apply(e,t)},t.off=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.removeEventListener.apply(e,t)},t.isDeepEqual=a.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(6);t.default=function(e,t,n){var r=a.useRef(void 0);r.current&&n(t,r.current)||(r.current=t),a.useEffect(e,r.current)}},,,,,,,,,,function(e,t,n){e.exports=n(22)(42)},function(e,t,n){"use strict";function a(e,t,n,r){var o=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(o,a.prototype),o.expected=t,o.found=n,o.location=r,o.name="SyntaxError",o}function r(e,t,n){return n=n||" ",e.length>t?e:(t-=e.length,e+(n+=n.repeat(t)).slice(0,t))}!function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(a,Error),a.prototype.format=function(e){var t="Error: "+this.message;if(this.location){var n,a=null;for(n=0;n<e.length;n++)if(e[n].source===this.location.source){a=e[n].text.split(/\r\n|\n|\r/g);break}var o=this.location.start,i=this.location.source+":"+o.line+":"+o.column;if(a){var s=this.location.end,l=r("",o.line.toString().length),u=a[o.line-1],c=o.line===s.line?s.column:u.length+1;t+="\n --\x3e "+i+"\n"+l+" |\n"+o.line+" | "+u+"\n"+l+" | "+r("",o.column-1)+r("",c-o.column,"^")}else t+="\n at "+i}return t},a.buildMessage=function(e,t){var n={literal:function(e){return'"'+r(e.text)+'"'},class:function(e){var t=e.parts.map((function(e){return Array.isArray(e)?o(e[0])+"-"+o(e[1]):o(e)}));return"["+(e.inverted?"^":"")+t+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(e){return e.description}};function a(e){return e.charCodeAt(0).toString(16).toUpperCase()}function r(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+a(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+a(e)}))}function o(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+a(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+a(e)}))}function i(e){return n[e.type](e)}return"Expected "+function(e){var t,n,a=e.map(i);if(a.sort(),a.length>0){for(t=1,n=1;t<a.length;t++)a[t-1]!==a[t]&&(a[n]=a[t],n++);a.length=n}switch(a.length){case 1:return a[0];case 2:return a[0]+" or "+a[1];default:return a.slice(0,-1).join(", ")+", or "+a[a.length-1]}}(e)+" but "+function(e){return e?'"'+r(e)+'"':"end of input"}(t)+" found."},e.exports={SyntaxError:a,parse:function(e,t){var n,r={},o=(t=void 0!==t?t:{}).grammarSource,i={start:de,Literal:Oe},s=de,l='"',u="\\",c="@kuery-cursor@",d=/^[\\"]/,p=/^[^"]/,f=/^[\\():<>"*{}]/,g=/^[0-9a-f]/i,b=/^[ \t\r\n\xA0]/,h=oe("(",!1),m=oe(")",!1),v=oe(":",!1),y=oe("{",!1),x=oe("}",!1),j=se("fieldName"),_=se("value"),w=se("OR"),O=oe("or",!0),D=se("AND"),P=oe("and",!0),k=se("NOT"),S=oe("not",!0),L=se("literal"),C=oe('"',!1),I=oe("\\",!1),M=ie(["\\",'"'],!1,!1),E=ie(['"'],!0,!1),T={type:"any"},A=oe("*",!1),z=oe("\\t",!1),F=oe("\\r",!1),R=oe("\\n",!1),N=ie(["\\","(",")",":","<",">",'"',"*","{","}"],!1,!1),W=oe("u",!1),B=ie([["0","9"],["a","f"]],!1,!0),V=oe("<=",!1),q=oe(">=",!1),G=oe("<",!1),H=oe(">",!1),$=se("whitespace"),U=ie([" ","\t","\r","\n"," "],!1,!1),Y=oe("@kuery-cursor@",!1),K=function(e,t){return t},Q=function(e,t){return t},Z=function(){return ze},X=function(t,n,a){const{start:r,end:o}=ue(ee,J);return{type:"cursor",start:r.offset,end:o.offset-n.length,prefix:t.join(""),suffix:a.join(""),text:e.substring(ee,J).replace(n,"")}},J=0,ee=0,te=[{line:1,column:1}],ne=0,ae=[],re=0;if("startRule"in t){if(!(t.startRule in i))throw new Error("Can't start parsing from rule \""+t.startRule+'".');s=i[t.startRule]}function oe(e,t){return{type:"literal",text:e,ignoreCase:t}}function ie(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function se(e){return{type:"other",description:e}}function le(t){var n,a=te[t];if(a)return a;for(n=t-1;!te[n];)n--;for(a={line:(a=te[n]).line,column:a.column};n<t;)10===e.charCodeAt(n)?(a.line++,a.column=1):a.column++,n++;return te[t]=a,a}function ue(e,t){var n=le(e),a=le(t);return{source:o,start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:a.line,column:a.column}}}function ce(e){J<ne||(J>ne&&(ne=J,ae=[]),ae.push(e))}function de(){var e,t,n,a,o,i;for(e=J,t=[],n=Te();n!==r;)t.push(n),n=Te();return(n=pe())===r&&(n=null),(a=Le())!==r?(ee=e,o=n,e="cursor"===(i=a).type?{...i,suggestionTypes:["conjunction"]}:null!==o?o:Ne.function.buildNode("is","*","*")):(J=e,e=r),e}function pe(){var e,t,n,a,o;if(e=J,(t=fe())!==r){if(n=[],a=J,je()!==r&&(o=fe())!==r?(ee=a,a=K(0,o)):(J=a,a=r),a!==r)for(;a!==r;)n.push(a),a=J,je()!==r&&(o=fe())!==r?(ee=a,a=K(0,o)):(J=a,a=r);else n=r;n!==r?(ee=e,e=function(e,t){const n=[e,...t];return ze&&n.find((e=>"cursor"===e.type))||We("or",n)}(t,n)):(J=e,e=r)}else J=e,e=r;return e===r&&(e=fe()),e}function fe(){var e,t,n,a,o;if(e=J,(t=ge())!==r){if(n=[],a=J,_e()!==r&&(o=ge())!==r?(ee=a,a=K(0,o)):(J=a,a=r),a!==r)for(;a!==r;)n.push(a),a=J,_e()!==r&&(o=ge())!==r?(ee=a,a=K(0,o)):(J=a,a=r);else n=r;n!==r?(ee=e,e=function(e,t){const n=[e,...t];return ze&&n.find((e=>"cursor"===e.type))||We("and",n)}(t,n)):(J=e,e=r)}else J=e,e=r;return e===r&&(e=ge()),e}function ge(){var e,t,n;return e=J,we()!==r&&(t=be())!==r?(ee=e,e="cursor"===(n=t).type?n:We("not",[n])):(J=e,e=r),e===r&&(e=be()),e}function be(){var t,n,a,o,i,s,l,u;if(t=J,40===e.charCodeAt(J)?(n="(",J++):(n=r,0===re&&ce(h)),n!==r){for(a=[],o=Te();o!==r;)a.push(o),o=Te();(o=pe())!==r&&(i=Le())!==r?(41===e.charCodeAt(J)?(s=")",J++):(s=r,0===re&&ce(m)),s!==r?(ee=t,l=o,t="cursor"===(u=i).type?{...u,suggestionTypes:["conjunction"]}:l):(J=t,t=r)):(J=t,t=r)}else J=t,t=r;return t===r&&(t=function(){var t,n,a,o,i,s,l,u,c,d;if(t=J,(n=he())!==r){for(a=[],o=Te();o!==r;)a.push(o),o=Te();if(58===e.charCodeAt(J)?(o=":",J++):(o=r,0===re&&ce(v)),o!==r){for(i=[],s=Te();s!==r;)i.push(s),s=Te();if(123===e.charCodeAt(J)?(s="{",J++):(s=r,0===re&&ce(y)),s!==r){for(l=[],u=Te();u!==r;)l.push(u),u=Te();(u=pe())!==r&&(c=Le())!==r?(125===e.charCodeAt(J)?(d="}",J++):(d=r,0===re&&ce(x)),d!==r?(ee=t,t=function(e,t,n){return"cursor"===t.type?{...t,nestedPath:t.nestedPath?`${e.value}.${t.nestedPath}`:e.value}:"cursor"===n.type?{...n,suggestionTypes:["conjunction"]}:We("nested",[e,t])}(n,u,c)):(J=t,t=r)):(J=t,t=r)}else J=t,t=r}else J=t,t=r}else J=t,t=r;return t===r&&(t=function(){var t;return t=function(){var t,n,a,o,i,s,l,u,c;if(t=J,(n=he())!==r){for(a=[],o=Te();o!==r;)a.push(o),o=Te();if(o=function(){var t,n;return t=J,"<="===e.substr(J,2)?(n="<=",J+=2):(n=r,0===re&&ce(V)),n!==r&&(ee=t,n="lte"),(t=n)===r&&(t=J,">="===e.substr(J,2)?(n=">=",J+=2):(n=r,0===re&&ce(q)),n!==r&&(ee=t,n="gte"),(t=n)===r&&(t=J,60===e.charCodeAt(J)?(n="<",J++):(n=r,0===re&&ce(G)),n!==r&&(ee=t,n="lt"),(t=n)===r&&(t=J,62===e.charCodeAt(J)?(n=">",J++):(n=r,0===re&&ce(H)),n!==r&&(ee=t,n="gt"),t=n))),t}(),o!==r){for(i=[],s=Te();s!==r;)i.push(s),s=Te();(s=Oe())!==r?(ee=t,l=n,u=o,t="cursor"===(c=s).type?{...c,suggestionTypes:["conjunction"]}:We("range",[l,u,c])):(J=t,t=r)}else J=t,t=r}else J=t,t=r;return t}(),t===r&&(t=function(){var t,n,a,o,i,s,l,u;if(t=J,(n=he())!==r){for(a=[],o=Te();o!==r;)a.push(o),o=Te();if(58===e.charCodeAt(J)?(o=":",J++):(o=r,0===re&&ce(v)),o!==r){for(i=[],s=Te();s!==r;)i.push(s),s=Te();(s=me())!==r?(ee=t,l=n,t="cursor"===(u=s).type?{...u,fieldName:l.value,suggestionTypes:["value","conjunction"]}:u(l)):(J=t,t=r)}else J=t,t=r}else J=t,t=r;return t}(),t===r&&(t=function(){var e,t;return e=J,(t=xe())!==r&&(ee=e,t=function(e){if("cursor"===e.type){const t=`${e.prefix}${e.suffix}`.trim();return{...e,fieldName:t,suggestionTypes:["field","operator","conjunction"]}}return e(Be(null))}(t)),t}())),t}()),t}()),t}function he(){var e;return re++,e=Oe(),re--,e===r&&0===re&&ce(j),e}function me(){var t,n,a,o,i,s,l,u;if(t=J,40===e.charCodeAt(J)?(n="(",J++):(n=r,0===re&&ce(h)),n!==r){for(a=[],o=Te();o!==r;)a.push(o),o=Te();o=function(){var e,t,n,a,o;if(e=J,(t=ve())!==r){if(n=[],a=J,je()!==r&&(o=ve())!==r?(ee=a,a=Q(0,o)):(J=a,a=r),a!==r)for(;a!==r;)n.push(a),a=J,je()!==r&&(o=ve())!==r?(ee=a,a=Q(0,o)):(J=a,a=r);else n=r;n!==r?(ee=e,e=function(e,t){const n=[e,...t],a=ze&&n.find((e=>"cursor"===e.type));return a?{...a,suggestionTypes:["value"]}:e=>We("or",n.map((t=>t(e))))}(t,n)):(J=e,e=r)}else J=e,e=r;return e===r&&(e=ve()),e}(),o!==r&&(i=Le())!==r?(41===e.charCodeAt(J)?(s=")",J++):(s=r,0===re&&ce(m)),s!==r?(ee=t,l=o,t="cursor"===(u=i).type?{...u,suggestionTypes:["conjunction"]}:l):(J=t,t=r)):(J=t,t=r)}else J=t,t=r;return t===r&&(t=xe()),t}function ve(){var e,t,n,a,o;if(e=J,(t=ye())!==r){if(n=[],a=J,_e()!==r&&(o=ye())!==r?(ee=a,a=Q(0,o)):(J=a,a=r),a!==r)for(;a!==r;)n.push(a),a=J,_e()!==r&&(o=ye())!==r?(ee=a,a=Q(0,o)):(J=a,a=r);else n=r;n!==r?(ee=e,e=function(e,t){const n=[e,...t],a=ze&&n.find((e=>"cursor"===e.type));return a?{...a,suggestionTypes:["value"]}:e=>We("and",n.map((t=>t(e))))}(t,n)):(J=e,e=r)}else J=e,e=r;return e===r&&(e=ye()),e}function ye(){var e,t,n;return e=J,we()!==r&&(t=me())!==r?(ee=e,e="cursor"===(n=t).type?{...list,suggestionTypes:["value"]}:e=>We("not",[n(e)])):(J=e,e=r),e===r&&(e=me()),e}function xe(){var e,t;return re++,e=J,(t=De())!==r&&(ee=e,t=function(e){if("cursor"===e.type)return e;const t=Be(!0);return n=>We("is",[n,e,t])}(t)),(e=t)===r&&(e=J,(t=ke())!==r&&(ee=e,t=function(e){if("cursor"===e.type)return e;!Re&&"wildcard"===e.type&&Ne.wildcard.hasLeadingWildcard(e)&&function(e,t){throw function(e,t){return new a("Leading wildcards are disabled. See query:allowLeadingWildcards in Advanced Settings.",null,null,t)}(0,t=void 0!==t?t:ue(ee,J))}();const t=Be(!1);return n=>We("is",[n,e,t])}(t)),e=t),re--,e===r&&(t=r,0===re&&ce(_)),e}function je(){var t,n,a,o,i;if(re++,t=J,n=[],(a=Te())!==r)for(;a!==r;)n.push(a),a=Te();else n=r;if(n!==r)if("or"===e.substr(J,2).toLowerCase()?(a=e.substr(J,2),J+=2):(a=r,0===re&&ce(O)),a!==r){if(o=[],(i=Te())!==r)for(;i!==r;)o.push(i),i=Te();else o=r;o!==r?t=n=[n,a,o]:(J=t,t=r)}else J=t,t=r;else J=t,t=r;return re--,t===r&&(n=r,0===re&&ce(w)),t}function _e(){var t,n,a,o,i;if(re++,t=J,n=[],(a=Te())!==r)for(;a!==r;)n.push(a),a=Te();else n=r;if(n!==r)if("and"===e.substr(J,3).toLowerCase()?(a=e.substr(J,3),J+=3):(a=r,0===re&&ce(P)),a!==r){if(o=[],(i=Te())!==r)for(;i!==r;)o.push(i),i=Te();else o=r;o!==r?t=n=[n,a,o]:(J=t,t=r)}else J=t,t=r;else J=t,t=r;return re--,t===r&&(n=r,0===re&&ce(D)),t}function we(){var t,n,a,o;if(re++,t=J,"not"===e.substr(J,3).toLowerCase()?(n=e.substr(J,3),J+=3):(n=r,0===re&&ce(S)),n!==r){if(a=[],(o=Te())!==r)for(;o!==r;)a.push(o),o=Te();else a=r;a!==r?t=n=[n,a]:(J=t,t=r)}else J=t,t=r;return re--,t===r&&(n=r,0===re&&ce(k)),t}function Oe(){var e;return re++,(e=De())===r&&(e=ke()),re--,e===r&&0===re&&ce(L),e}function De(){var t,n,a,o,i,s,u;if(t=J,ee=J,(n=(n=Z())?void 0:r)!==r)if(34===e.charCodeAt(J)?(a=l,J++):(a=r,0===re&&ce(C)),a!==r){for(o=[],i=Pe();i!==r;)o.push(i),i=Pe();if((i=Ae())!==r){for(s=[],u=Pe();u!==r;)s.push(u),u=Pe();34===e.charCodeAt(J)?(u=l,J++):(u=r,0===re&&ce(C)),u!==r?(ee=t,t=X(o,i,s)):(J=t,t=r)}else J=t,t=r}else J=t,t=r;else J=t,t=r;if(t===r)if(t=J,34===e.charCodeAt(J)?(n=l,J++):(n=r,0===re&&ce(C)),n!==r){for(a=[],o=Pe();o!==r;)a.push(o),o=Pe();34===e.charCodeAt(J)?(o=l,J++):(o=r,0===re&&ce(C)),o!==r?(ee=t,t=Be(a.join(""))):(J=t,t=r)}else J=t,t=r;return t}function Pe(){var t,n,a;return(t=Ce())===r&&(t=Me())===r&&(t=J,92===e.charCodeAt(J)?(n=u,J++):(n=r,0===re&&ce(I)),n!==r?(d.test(e.charAt(J))?(a=e.charAt(J),J++):(a=r,0===re&&ce(M)),a!==r?(ee=t,t=a):(J=t,t=r)):(J=t,t=r),t===r&&(t=J,n=J,re++,a=Ae(),re--,a===r?n=void 0:(J=n,n=r),n!==r?(p.test(e.charAt(J))?(a=e.charAt(J),J++):(a=r,0===re&&ce(E)),a!==r?(ee=t,t=a):(J=t,t=r)):(J=t,t=r))),t}function ke(){var e,t,n,a,o,i;if(e=J,ee=J,(t=(t=Z())?void 0:r)!==r){for(n=[],a=Se();a!==r;)n.push(a),a=Se();if((a=Ae())!==r){for(o=[],i=Se();i!==r;)o.push(i),i=Se();ee=e,e=X(n,a,o)}else J=e,e=r}else J=e,e=r;if(e===r){if(e=J,t=[],(n=Se())!==r)for(;n!==r;)t.push(n),n=Se();else t=r;t!==r&&(ee=e,t=function(e){const t=e.join("").trim();return"null"===t?Be(null):"true"===t?Be(!0):"false"===t?Be(!1):e.includes(qe)?Ve(t):Be(t)}(t)),e=t}return e}function Se(){var t,n,a,o,i;return(t=Ce())===r&&(t=function(){var t,n,a;return t=J,92===e.charCodeAt(J)?(n=u,J++):(n=r,0===re&&ce(I)),n!==r&&(a=Ie())!==r?(ee=t,t=a):(J=t,t=r),t}(),t===r&&(t=Me())===r&&(t=function(){var t,n,a;return t=J,92===e.charCodeAt(J)?(n=u,J++):(n=r,0===re&&ce(I)),n!==r?("or"===e.substr(J,2).toLowerCase()?(a=e.substr(J,2),J+=2):(a=r,0===re&&ce(O)),a===r&&("and"===e.substr(J,3).toLowerCase()?(a=e.substr(J,3),J+=3):(a=r,0===re&&ce(P)),a===r&&("not"===e.substr(J,3).toLowerCase()?(a=e.substr(J,3),J+=3):(a=r,0===re&&ce(S)))),a!==r?(ee=t,t=a):(J=t,t=r)):(J=t,t=r),t}(),t===r&&(t=function(){var t,n;return t=J,42===e.charCodeAt(J)?(n="*",J++):(n=r,0===re&&ce(A)),n!==r&&(ee=t,n=qe),n}(),t===r&&(t=J,n=J,re++,a=Ie(),re--,a===r?n=void 0:(J=n,n=r),n!==r?(a=J,re++,o=function(){var e;return(e=je())===r&&(e=_e())===r&&(e=we()),e}(),re--,o===r?a=void 0:(J=a,a=r),a!==r?(o=J,re++,i=Ae(),re--,i===r?o=void 0:(J=o,o=r),o!==r?(e.length>J?(i=e.charAt(J),J++):(i=r,0===re&&ce(T)),i!==r?(ee=t,t=i):(J=t,t=r)):(J=t,t=r)):(J=t,t=r)):(J=t,t=r))))),t}function Le(){var e,t,n,a,o,i;if(e=J,ee=J,(t=(t=Z())?void 0:r)!==r){for(n=[],a=Te();a!==r;)n.push(a),a=Te();if((a=Ae())!==r){for(o=[],i=Te();i!==r;)o.push(i),i=Te();ee=e,e=X(n,a,o)}else J=e,e=r}else J=e,e=r;if(e===r)for(e=[],t=Te();t!==r;)e.push(t),t=Te();return e}function Ce(){var t,n;return t=J,"\\t"===e.substr(J,2)?(n="\\t",J+=2):(n=r,0===re&&ce(z)),n!==r&&(ee=t,n="\t"),(t=n)===r&&(t=J,"\\r"===e.substr(J,2)?(n="\\r",J+=2):(n=r,0===re&&ce(F)),n!==r&&(ee=t,n="\r"),(t=n)===r&&(t=J,"\\n"===e.substr(J,2)?(n="\\n",J+=2):(n=r,0===re&&ce(R)),n!==r&&(ee=t,n="\n"),t=n)),t}function Ie(){var t;return f.test(e.charAt(J))?(t=e.charAt(J),J++):(t=r,0===re&&ce(N)),t}function Me(){var t,n,a;return t=J,92===e.charCodeAt(J)?(n=u,J++):(n=r,0===re&&ce(I)),n!==r?(a=function(){var t,n,a,o,i,s,l,u,c;return t=J,117===e.charCodeAt(J)?(n="u",J++):(n=r,0===re&&ce(W)),n!==r?(a=J,o=J,(i=Ee())!==r&&(s=Ee())!==r&&(l=Ee())!==r&&(u=Ee())!==r?o=i=[i,s,l,u]:(J=o,o=r),(a=o!==r?e.substring(a,J):o)!==r?(ee=t,c=a,t=String.fromCharCode(parseInt(c,16))):(J=t,t=r)):(J=t,t=r),t}(),a!==r?(ee=t,t=a):(J=t,t=r)):(J=t,t=r),t}function Ee(){var t;return g.test(e.charAt(J))?(t=e.charAt(J),J++):(t=r,0===re&&ce(B)),t}function Te(){var t;return re++,b.test(e.charAt(J))?(t=e.charAt(J),J++):(t=r,0===re&&ce(U)),re--,t===r&&0===re&&ce($),t}function Ae(){var t,n;return t=J,ee=J,(Z()?void 0:r)!==r?(e.substr(J,14)===c?(n=c,J+=14):(n=r,0===re&&ce(Y)),n!==r?(ee=t,t=Fe):(J=t,t=r)):(J=t,t=r),t}const{parseCursor:ze,cursorSymbol:Fe,allowLeadingWildcards:Re=!0,helpers:{nodeTypes:Ne}}=t,We=Ne.function.buildNodeWithArgumentNodes,Be=Ne.literal.buildNode,Ve=Ne.wildcard.buildNode,{wildcardSymbol:qe}=Ne.wildcard;if((n=s())!==r&&J===e.length)return n;throw n!==r&&J<e.length&&ce({type:"end"}),Ge=ae,He=ne<e.length?e.charAt(ne):null,$e=ne<e.length?ue(ne,ne+1):ue(ne,ne),new a(a.buildMessage(Ge,He),Ge,He,$e);var Ge,He,$e}}},,,,,function(e,t,n){e.exports=n(22)(2470)},function(e,t,n){"use strict";t.__esModule=!0,t.getBatch=t.setBatch=void 0;var a=function(e){e()};t.setBatch=function(e){return a=e},t.getBatch=function(){return a}},function(e,t,n){"use strict";var a=n(133),r=n(72);t.__esModule=!0,t.default=function(e,t){void 0===t&&(t={});var n=t,a=n.getDisplayName,r=void 0===a?function(e){return"ConnectAdvanced("+e+")"}:a,d=n.methodName,x=void 0===d?"connectAdvanced":d,j=n.renderCountProp,_=void 0===j?void 0:j,w=n.shouldHandleStateChanges,O=void 0===w||w,D=n.storeKey,P=void 0===D?"store":D,k=(n.withRef,n.forwardRef),S=void 0!==k&&k,L=n.context,C=void 0===L?p.ReactReduxContext:L,I=(0,i.default)(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]),M=C;return function(t){var n=t.displayName||t.name||"Component",a=r(n),d=(0,o.default)({},I,{getDisplayName:r,methodName:x,renderCountProp:_,shouldHandleStateChanges:O,storeKey:P,displayName:a,wrappedComponentName:n,WrappedComponent:t}),p=I.pure,j=p?l.useMemo:function(e){return e()};function w(n){var a=(0,l.useMemo)((function(){var e=n.forwardedRef,t=(0,i.default)(n,["forwardedRef"]);return[n.context,e,t]}),[n]),r=a[0],s=a[1],p=a[2],x=(0,l.useMemo)((function(){return r&&r.Consumer&&(0,u.isContextConsumer)(l.default.createElement(r.Consumer,null))?r:M}),[r,M]),_=(0,l.useContext)(x),w=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(_)&&Boolean(_.store);var D=w?n.store:_.store,P=(0,l.useMemo)((function(){return function(t){return e(t.dispatch,d)}(D)}),[D]),k=(0,l.useMemo)((function(){if(!O)return g;var e=new c.default(D,w?null:_.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[D,w,_]),S=k[0],L=k[1],C=(0,l.useMemo)((function(){return w?_:(0,o.default)({},_,{subscription:S})}),[w,_,S]),I=(0,l.useReducer)(b,f,y),E=I[0][0],T=I[1];if(E&&E.error)throw E.error;var A=(0,l.useRef)(),z=(0,l.useRef)(p),F=(0,l.useRef)(),R=(0,l.useRef)(!1),N=j((function(){return F.current&&p===z.current?F.current:P(D.getState(),p)}),[D,E,p]);h(m,[z,A,R,p,N,F,L]),h(v,[O,D,S,P,z,A,R,F,L,T],[D,S,P]);var W=(0,l.useMemo)((function(){return l.default.createElement(t,(0,o.default)({},N,{ref:s}))}),[s,t,N]);return(0,l.useMemo)((function(){return O?l.default.createElement(x.Provider,{value:C},W):W}),[x,W,C])}var D=p?l.default.memo(w):w;if(D.WrappedComponent=t,D.displayName=a,S){var k=l.default.forwardRef((function(e,t){return l.default.createElement(D,(0,o.default)({},e,{forwardedRef:t}))}));return k.displayName=a,k.WrappedComponent=t,(0,s.default)(k,t)}return(0,s.default)(D,t)}};var o=r(n(21)),i=r(n(106)),s=r(n(356)),l=a(n(6)),u=n(357),c=r(n(105)),d=n(136),p=n(79),f=[],g=[null,null];function b(e,t){var n=e[1];return[t.payload,n+1]}function h(e,t,n){(0,d.useIsomorphicLayoutEffect)((function(){return e.apply(void 0,t)}),n)}function m(e,t,n,a,r,o,i){e.current=a,t.current=r,n.current=!1,o.current&&(o.current=null,i())}function v(e,t,n,a,r,o,i,s,l,u){if(e){var c=!1,d=null,p=function(){if(!c){var e,n,p=t.getState();try{e=a(p,r.current)}catch(e){n=e,d=e}n||(d=null),e===o.current?i.current||l():(o.current=e,s.current=e,i.current=!0,u({type:"STORE_UPDATED",payload:{error:n}}))}};return n.onStateChange=p,n.trySubscribe(),p(),function(){if(c=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}}var y=function(){return[null,0]}},function(e,t,n){"use strict";t.__esModule=!0,t.useIsomorphicLayoutEffect=void 0;var a=n(6),r="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?a.useLayoutEffect:a.useEffect;t.useIsomorphicLayoutEffect=r},function(e,t,n){"use strict";function a(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}t.__esModule=!0,t.default=function(e,t){if(a(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Object.prototype.hasOwnProperty.call(t,n[o])||!a(e[n[o]],t[n[o]]))return!1;return!0}},function(e,t,n){"use strict";var a=n(72);function r(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}t.__esModule=!0,t.wrapMapToPropsConstant=function(e){return function(t,n){var a=e(t,n);function r(){return a}return r.dependsOnOwnProps=!1,r}},t.getDependsOnOwnProps=r,t.wrapMapToPropsFunc=function(e,t){return function(t,n){n.displayName;var a=function(e,t){return a.dependsOnOwnProps?a.mapToProps(e,t):a.mapToProps(e)};return a.dependsOnOwnProps=!0,a.mapToProps=function(t,n){a.mapToProps=e,a.dependsOnOwnProps=r(e);var o=a(t,n);return"function"==typeof o&&(a.mapToProps=o,a.dependsOnOwnProps=r(o),o=a(t,n)),o},a}},a(n(139))},function(e,t,n){"use strict";var a=n(72);t.__esModule=!0,t.default=function(e,t,n){(0,r.default)(e)||(0,o.default)(n+"() in "+t+" must return a plain object. Instead received "+e+".")};var r=a(n(360)),o=a(n(140))},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}},function(e,t,n){"use strict";t.__esModule=!0,t.createStoreHook=i,t.useStore=void 0;var a=n(6),r=n(79),o=n(142);function i(e){void 0===e&&(e=r.ReactReduxContext);var t=e===r.ReactReduxContext?o.useReduxContext:function(){return(0,a.useContext)(e)};return function(){return t().store}}var s=i();t.useStore=s},function(e,t,n){"use strict";t.__esModule=!0,t.useReduxContext=function(){return(0,a.useContext)(r.ReactReduxContext)};var a=n(6),r=n(79)},function(e,t,n){"use strict";function a(e,t){return e===t}function r(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var a=t.length,r=0;r<a;r++)if(!e(t[r],n[r]))return!1;return!0}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,n=null,o=null;return function(){return r(t,n,arguments)||(o=e.apply(null,arguments)),n=arguments,o}}function i(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}function s(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return function(){for(var t=arguments.length,a=Array(t),r=0;r<t;r++)a[r]=arguments[r];var o=0,s=a.pop(),l=i(a),u=e.apply(void 0,[function(){return o++,s.apply(null,arguments)}].concat(n)),c=e((function(){for(var e=[],t=l.length,n=0;n<t;n++)e.push(l[n].apply(null,arguments));return u.apply(null,e)}));return c.resultFunc=s,c.dependencies=l,c.recomputations=function(){return o},c.resetRecomputations=function(){return o=0},c}}t.__esModule=!0,t.defaultMemoize=o,t.createSelectorCreator=s,t.createStructuredSelector=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.reduce((function(e,t,a){return e[n[a]]=t,e}),{})}))};var l=t.createSelector=s(o)},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return c}));var a=n(0),r=n(70),o=n(83),i=n(73),s=n(86),l=n(3);const u=async({initialInput:e,lensServices:t,history:n})=>{const{notifications:r,spaces:o,attributeService:i}=t;let s;try{const r=await i.unwrapAttributes(e);if(!r)return{doc:{...e,type:l.LENS_EMBEDDABLE_TYPE},sharingSavedObjectProps:{outcome:"exactMatch"}};const{metaInfo:u,attributes:c}=r,d=null==u?void 0:u.sharingSavedObjectProps;if(o&&"aliasMatch"===(null==d?void 0:d.outcome)&&n){const e=d.aliasTargetId,r=t.http.basePath.prepend(`${Object(l.getEditPath)(e)}${n.location.search}`);await o.ui.redirectLegacyUrl({path:r,aliasPurpose:d.aliasPurpose,objectNoun:a.i18n.translate("xpack.lens.legacyUrlConflict.objectNoun",{defaultMessage:"Lens visualization"})})}return s={...e,...c,type:l.LENS_EMBEDDABLE_TYPE},{doc:s,sharingSavedObjectProps:{aliasTargetId:null==d?void 0:d.aliasTargetId,outcome:null==d?void 0:d.outcome}}}catch(e){r.toasts.addDanger(a.i18n.translate("xpack.lens.app.docLoadingError",{defaultMessage:"Error loading saved document"}))}};function c(e,t,{redirectCallback:n,initialInput:a,history:c},d){var p;const{lensServices:f,datasourceMap:g,embeddableEditorIncomingState:b,initialContext:h}=t,{resolvedDateRange:m,searchSessionId:v,isLinkedToOriginatingApp:y,...x}=Object(o.b)(t),{attributeService:j,notifications:_,data:w,dashboardFeatureFlag:O}=f,{lens:D}=e.getState();if(!a||j.inputIsRefType(a)&&a.savedObjectId===(null===(p=D.persistedDoc)||void 0===p?void 0:p.savedObjectId))return Object(s.d)(g,D.datasourceStates,void 0,h,{isFullEditor:!0}).then((t=>{e.dispatch(Object(r.f)({newState:{...x,searchSessionId:w.search.session.getSessionId()||w.search.session.start(),datasourceStates:Object.entries(t).reduce(((e,[t,n])=>({...e,[t]:{...n,isLoading:!1}})),{}),isLoading:!1},initialContext:h})),d&&e.dispatch(Object(o.a)())})).catch((e=>{_.toasts.addDanger({title:e.message}),n()}));u({initialInput:a,lensServices:f,history:c}).then((t=>{if(t){const{doc:n,sharingSavedObjectProps:u}=t;j.inputIsRefType(a)&&f.chrome.recentlyAccessed.add(Object(l.getFullPath)(a.savedObjectId),n.title,a.savedObjectId);const c=Object.entries(n.state.datasourceStates).reduce(((e,[t,n])=>({...e,[t]:{isLoading:!0,state:n}})),{}),p=w.query.filterManager.inject(n.state.filters,n.references);w.query.filterManager.setAppFilters(p),Object(s.d)(g,c,n.references,h,{isFullEditor:!0}).then((t=>{const s=w.search.session.getSessionId();e.dispatch(Object(r.I)({isSaveable:!0,sharingSavedObjectProps:u,filters:w.query.filterManager.getFilters(),query:n.state.query,searchSessionId:O.allowByValueEmbeddables&&Boolean(null==b?void 0:b.originatingApp)&&(null==a||!a.savedObjectId)&&s?s:w.search.session.start(),persistedDoc:n,activeDatasourceId:Object(i.getInitialDatasourceId)(g,n),visualization:{activeId:n.visualizationType,state:n.state.visualization},datasourceStates:Object.entries(t).reduce(((e,[t,n])=>({...e,[t]:{...n,isLoading:!1}})),{}),isLoading:!1})),d&&e.dispatch(Object(o.a)())})).catch((e=>_.toasts.addDanger({title:e.message})))}else n()}),(()=>{e.dispatch(Object(r.I)({isLoading:!1})),n()})).catch((e=>{_.toasts.addDanger({title:e.message}),n()}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromExpression=function(e,t="expression"){try{return(0,a.parse)(String(e),{startRule:t})}catch(e){throw new Error(`Unable to parse expression: ${e.message}`)}};var a=n(110)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toExpression=function(e,t="expression"){const{type:n,source:c}="string"==typeof t?{type:t}:t;if(c&&(0,r.isAst)(e))return(0,o.patch)(c,e);if("argument"===n)return i(e);const d=(0,a.getType)(e);if("expression"===d){const{chain:t}=e;if(!Array.isArray(t))throw new Error("Expressions must contain a chain");return u(t)}if("function"===d){const{function:t}=e;return l(t,s(e))}throw new Error("Expression must be an expression or argument function")};var a=n(111),r=n(94),o=n(394);function i(e,t,n=0){const r=(0,a.getType)(e);function o(e,t){return null==e||"_"===e?t:`${e}=${t}`}if("string"===r)return o(t,`"${e.replace(/[\\"]/g,"\\$&")}"`);if("boolean"===r||"null"===r||"number"===r)return o(t,`${e}`);if("expression"===r)return o(t,`{${u(e.chain,n+1)}}`);throw new Error(`Invalid argument type in AST: ${r}`)}function s({arguments:e},t=0){if(null==e||"object"!=typeof e||Array.isArray(e))throw new Error("Arguments can only be an object");return Object.keys(e).map((n=>e[n].reduce(((e,a)=>{const r=i(a,n,t),o=e.split("\n").pop().length;return 0===t&&o+r.length>80?`${e}\n  ${r}`:o>0?`${e} ${r}`:r}),"")))}function l(e,t){var n;return`${e} ${null!==(n=null==t?void 0:t.join(" "))&&void 0!==n?n:""}`.trim()}function u(e,t=0){if(!e)throw new Error("Expressions must contain a chain");const n=t>0?" | ":"\n| ";return e.map((e=>{if("function"!==(0,a.getType)(e))return;const{function:n}=e;if(!n)throw new Error("Functions must have a function name");return l(n,s(e,t))})).join(n)}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return saved_object_store_SavedObjectIndexStore})),n.d(t,"b",(function(){return d}));var a=n(1),r=n.n(a),o=n(11);class saved_object_store_SavedObjectIndexStore{constructor(e){r()(this,"client",void 0),r()(this,"save",(async e=>{const{savedObjectId:t,type:n,references:a,...r}=e,i=r,s=await this.client.create(o.e,i,t?{references:a,overwrite:!0,id:t}:{references:a});return{...e,savedObjectId:s.id}})),this.client=e}async load(e){const t=await this.client.resolve(o.e,e);if(t.saved_object.error)throw t.saved_object.error;return t}}var i=n(0);const s=i.i18n.translate("xpack.lens.saveDuplicateRejectedDescription",{defaultMessage:"Save with duplicate title confirmation was rejected"});n(6);var l=n(7),u=n(33),c=n(2);async function d(e,t,n,a){const{savedObjectsClient:r,overlays:o}=a;if(t)return!0;if(e.title===e.lastSavedTitle&&!e.copyOnSave)return!0;const d=await async function(e,t,n){if(n)return(await e.find({type:t,perPage:10,search:`"${n}"`,searchFields:["title"],fields:["title"]})).savedObjects.find((e=>e.get("title").toLowerCase()===n.toLowerCase()))}(r,e.getEsType(),e.title);return!d||d.id===e.id||(n?(n(),Promise.reject(new Error(s))):function(e,t){const n=i.i18n.translate("xpack.lens.confirmModal.saveDuplicateConfirmationMessage",{defaultMessage:"A {name} with the title '{title}' already exists. Would you like to save anyway?",values:{title:e.title,name:e.getDisplayName()}}),a=i.i18n.translate("xpack.lens.confirmModal.saveDuplicateButtonLabel",{defaultMessage:"Save {name}",values:{name:e.getDisplayName()}});try{return function(e="",t="",n="",a){return new Promise(((r,o)=>{const s=i.i18n.translate("xpack.lens.confirmModal.cancelButtonLabel",{defaultMessage:"Cancel"}),d=a.openModal(Object(u.toMountPoint)(Object(c.jsx)(l.EuiConfirmModal,{onCancel:()=>{d.close(),o()},onConfirm:()=>{d.close(),r(!0)},confirmButtonText:n,cancelButtonText:s,title:t},e)))}))}(n,"",a,t)}catch{return Promise.reject(new Error(s))}}(e,o))}},,,,,,,,,,,function(e,t,n){switch(window.__kbnThemeTag__){case"v8dark":return n(162);case"v8light":return n(164)}},function(e,t,n){var a=n(66),r=n(163);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);a(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){(t=n(67)(!1)).push([e.i,".lnsVisToolbar__popover{width:404px}\n",""]),e.exports=t},function(e,t,n){var a=n(66),r=n(165);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);a(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){(t=n(67)(!1)).push([e.i,".lnsVisToolbar__popover{width:404px}\n",""]),e.exports=t},function(e,t,n){switch(window.__kbnThemeTag__){case"v8dark":return n(167);case"v8light":return n(169)}},function(e,t,n){var a=n(66),r=n(168);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);a(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){(t=n(67)(!1)).push([e.i,".lnsPalettePanel__section{padding:16px}.lnsPalettePanel__section--shaded{background-color:#25262E;border-bottom:1px solid #343741}\n",""]),e.exports=t},function(e,t,n){var a=n(66),r=n(170);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);a(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){(t=n(67)(!1)).push([e.i,".lnsPalettePanel__section{padding:16px}.lnsPalettePanel__section--shaded{background-color:#F5F7FA;border-bottom:1px solid #D3DAE6}\n",""]),e.exports=t},function(e,t,n){(function(e){var n;
/**
 * @license
 *
 * chroma.js - JavaScript library for color conversions
 * 
 * Copyright (c) 2011-2017, Gregor Aisch
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 * 
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 * 
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 *    derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 */(function(){var a,r,o,i,s,l,u,c,d,p,f,g,b,h,m,v,y,x,j,_,w,O,D,P,k,S,L,C,I,M,E,T,A,z,F,R,N,W,B,V,q,G,H,$,U,Y,K,Q,Z,X,J,ee,te,ne,ae,re,oe,ie,se,le,ue,ce,de,pe,fe,ge,be,he,me,ve,ye,xe,je,_e,we,Oe,De,Pe,ke,Se,Le=[].slice;Oe=function(){var e,t,n,a,r;for(e={},a=0,t=(r="Boolean Number String Function Array Date RegExp Undefined Null".split(" ")).length;a<t;a++)n=r[a],e["[object "+n+"]"]=n.toLowerCase();return function(t){var n;return n=Object.prototype.toString.call(t),e[n]||"object"}}(),K=function(e,t,n){return null==t&&(t=0),null==n&&(n=1),e<t&&(e=t),e>n&&(e=n),e},De=function(e){return e.length>=3?Array.prototype.slice.call(e):e[0]},w=function(e){var t,n;for(e._clipped=!1,e._unclipped=e.slice(0),t=n=0;n<3;t=++n)t<3?((e[t]<0||e[t]>255)&&(e._clipped=!0),e[t]<0&&(e[t]=0),e[t]>255&&(e[t]=255)):3===t&&(e[t]<0&&(e[t]=0),e[t]>1&&(e[t]=1));return e._clipped||delete e._unclipped,e},i=Math.PI,ye=Math.round,D=Math.cos,C=Math.floor,ae=Math.pow,Q=Math.log,je=Math.sin,_e=Math.sqrt,h=Math.atan2,J=Math.max,b=Math.abs,u=2*i,s=i/3,r=i/180,l=180/i,_=function(){return arguments[0]instanceof a?arguments[0]:function(e,t,n){n.prototype=e.prototype;var a=new n,r=e.apply(a,t);return Object(r)===r?r:a}(a,arguments,(function(){}))},_.default=_,g=[],null!==e&&null!=e.exports&&(e.exports=_),void 0===(n=function(){return _}.apply(t,[]))||(e.exports=n),_.version="1.4.1",f={},d=[],p=!1,a=function(){function e(){var e,t,n,a,r,o,i,s,l;for(o=this,t=[],s=0,a=arguments.length;s<a;s++)null!=(e=arguments[s])&&t.push(e);if(t.length>1&&(i=t[t.length-1]),null!=f[i])o._rgb=w(f[i](De(t.slice(0,-1))));else{for(p||(d=d.sort((function(e,t){return t.p-e.p})),p=!0),l=0,r=d.length;l<r&&!(i=(n=d[l]).test.apply(n,t));l++);i&&(o._rgb=w(f[i].apply(f,t)))}null==o._rgb&&console.warn("unknown format: "+t),null==o._rgb&&(o._rgb=[0,0,0]),3===o._rgb.length&&o._rgb.push(1)}return e.prototype.toString=function(){return this.hex()},e}(),_._input=f,
/**
  	ColorBrewer colors for chroma.js
  
  	Copyright (c) 2002 Cynthia Brewer, Mark Harrower, and The 
  	Pennsylvania State University.
  
  	Licensed under the Apache License, Version 2.0 (the "License"); 
  	you may not use this file except in compliance with the License.
  	You may obtain a copy of the License at	
  	http://www.apache.org/licenses/LICENSE-2.0
  
  	Unless required by applicable law or agreed to in writing, software distributed
  	under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
  	CONDITIONS OF ANY KIND, either express or implied. See the License for the
  	specific language governing permissions and limitations under the License.
  
      @preserve
   */
_.brewer=x={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},function(){var e,t;for(e in t=[],x)t.push(x[e.toLowerCase()]=x[e])}(),_.colors=Pe={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},G=function(){var e,t,n,a,r,i,s;return a=(t=De(arguments))[0],e=t[1],n=t[2],i=(a+16)/116,r=isNaN(e)?i:i+e/500,s=isNaN(n)?i:i-n/200,i=o.Yn*H(i),r=o.Xn*H(r),s=o.Zn*H(s),[Se(3.2404542*r-1.5371385*i-.4985314*s),Se(-.969266*r+1.8760108*i+.041556*s),n=Se(.0556434*r-.2040259*i+1.0572252*s),t.length>3?t[3]:1]},Se=function(e){return 255*(e<=.00304?12.92*e:1.055*ae(e,1/2.4)-.055)},H=function(e){return e>o.t1?e*e*e:o.t2*(e-o.t0)},o={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},de=function(){var e,t,n,a,r,o,i;return n=(a=De(arguments))[0],t=a[1],e=a[2],o=(r=he(n,t,e))[0],[116*(i=r[1])-16,500*(o-i),200*(i-r[2])]},me=function(e){return(e/=255)<=.04045?e/12.92:ae((e+.055)/1.055,2.4)},ke=function(e){return e>o.t3?ae(e,1/3):e/o.t2+o.t0},he=function(){var e,t,n,a;return n=(a=De(arguments))[0],t=a[1],e=a[2],n=me(n),t=me(t),e=me(e),[ke((.4124564*n+.3575761*t+.1804375*e)/o.Xn),ke((.2126729*n+.7151522*t+.072175*e)/o.Yn),ke((.0193339*n+.119192*t+.9503041*e)/o.Zn)]},_.lab=function(){return function(e,t,n){n.prototype=e.prototype;var a=new n,r=e.apply(a,t);return Object(r)===r?r:a}(a,Le.call(arguments).concat(["lab"]),(function(){}))},f.lab=G,a.prototype.lab=function(){return de(this._rgb)},m=function(e){var t,n,a,r,o,i,s,l,u,c,d;return 2===(e=function(){var t,n,a;for(a=[],n=0,t=e.length;n<t;n++)r=e[n],a.push(_(r));return a}()).length?(u=function(){var t,n,a;for(a=[],n=0,t=e.length;n<t;n++)r=e[n],a.push(r.lab());return a}(),o=u[0],i=u[1],t=function(e){var t,n;return n=function(){var n,a;for(a=[],t=n=0;n<=2;t=++n)a.push(o[t]+e*(i[t]-o[t]));return a}(),_.lab.apply(_,n)}):3===e.length?(c=function(){var t,n,a;for(a=[],n=0,t=e.length;n<t;n++)r=e[n],a.push(r.lab());return a}(),o=c[0],i=c[1],s=c[2],t=function(e){var t,n;return n=function(){var n,a;for(a=[],t=n=0;n<=2;t=++n)a.push((1-e)*(1-e)*o[t]+2*(1-e)*e*i[t]+e*e*s[t]);return a}(),_.lab.apply(_,n)}):4===e.length?(d=function(){var t,n,a;for(a=[],n=0,t=e.length;n<t;n++)r=e[n],a.push(r.lab());return a}(),o=d[0],i=d[1],s=d[2],l=d[3],t=function(e){var t,n;return n=function(){var n,a;for(a=[],t=n=0;n<=2;t=++n)a.push((1-e)*(1-e)*(1-e)*o[t]+3*(1-e)*(1-e)*e*i[t]+3*(1-e)*e*e*s[t]+e*e*e*l[t]);return a}(),_.lab.apply(_,n)}):5===e.length&&(n=m(e.slice(0,3)),a=m(e.slice(2,5)),t=function(e){return e<.5?n(2*e):a(2*(e-.5))}),t},_.bezier=function(e){var t;return(t=m(e)).scale=function(){return _.scale(t)},t},_.cubehelix=function(e,t,n,a,r){var o,i,s;return null==e&&(e=300),null==t&&(t=-1.5),null==n&&(n=1),null==a&&(a=1),null==r&&(r=[0,1]),o=0,"array"===Oe(r)?i=r[1]-r[0]:(i=0,r=[r,r]),(s=function(s){var l,c,d,p,f;return l=u*((e+120)/360+t*s),p=ae(r[0]+i*s,a),c=(0!==o?n[0]+s*o:n)*p*(1-p)/2,d=D(l),f=je(l),_(w([255*(p+c*(-.14861*d+1.78277*f)),255*(p+c*(-.29227*d-.90649*f)),255*(p+c*(1.97294*d)),1]))}).start=function(t){return null==t?e:(e=t,s)},s.rotations=function(e){return null==e?t:(t=e,s)},s.gamma=function(e){return null==e?a:(a=e,s)},s.hue=function(e){return null==e?n:("array"===Oe(n=e)?0==(o=n[1]-n[0])&&(n=n[1]):o=0,s)},s.lightness=function(e){return null==e?r:("array"===Oe(e)?(r=e,i=e[1]-e[0]):(r=[e,e],i=0),s)},s.scale=function(){return _.scale(s)},s.hue(n),s},_.random=function(){var e,t;for(e="#",t=0;t<6;++t)e+="0123456789abcdef".charAt(C(16*Math.random()));return new a(e)},g=[],F=function(e,t,n,a){var r,o,i,s;for(null==n&&(n=.5),null==a&&(a="rgb"),"object"!==Oe(e)&&(e=_(e)),"object"!==Oe(t)&&(t=_(t)),i=0,o=g.length;i<o;i++)if(a===(r=g[i])[0]){s=r[1](e,t,n,a);break}if(null==s)throw"color mode "+a+" is not supported";return s.alpha(e.alpha()+n*(t.alpha()-e.alpha()))},_.interpolate=F,a.prototype.interpolate=function(e,t,n){return F(this,e,t,n)},_.mix=F,a.prototype.mix=a.prototype.interpolate,f.rgb=function(){var e,t,n,a;for(e in n=[],t=De(arguments))a=t[e],n.push(a);return n},_.rgb=function(){return function(e,t,n){n.prototype=e.prototype;var a=new n,r=e.apply(a,t);return Object(r)===r?r:a}(a,Le.call(arguments).concat(["rgb"]),(function(){}))},a.prototype.rgb=function(e){return null==e&&(e=!0),e?this._rgb.map(Math.round).slice(0,3):this._rgb.slice(0,3)},a.prototype.rgba=function(e){return null==e&&(e=!0),e?[Math.round(this._rgb[0]),Math.round(this._rgb[1]),Math.round(this._rgb[2]),this._rgb[3]]:this._rgb.slice(0)},d.push({p:3,test:function(e){var t;return t=De(arguments),"array"===Oe(t)&&3===t.length||4===t.length&&"number"===Oe(t[3])&&t[3]>=0&&t[3]<=1?"rgb":void 0}}),f.lrgb=f.rgb,W=function(e,t,n,r){var o,i;return o=e._rgb,i=t._rgb,new a(_e(ae(o[0],2)*(1-n)+ae(i[0],2)*n),_e(ae(o[1],2)*(1-n)+ae(i[1],2)*n),_e(ae(o[2],2)*(1-n)+ae(i[2],2)*n),r)},c=function(e){var t,n,r,o,i;for(t=1/e.length,i=[0,0,0,0],r=0,n=e.length;r<n;r++)o=e[r]._rgb,i[0]+=ae(o[0],2)*t,i[1]+=ae(o[1],2)*t,i[2]+=ae(o[2],2)*t,i[3]+=o[3]*t;return i[0]=_e(i[0]),i[1]=_e(i[1]),i[2]=_e(i[2]),i[3]>1&&(i[3]=1),new a(w(i))},g.push(["lrgb",W]),_.average=function(e,t){var n,a,r,o,s,l,u,d,p,f,g,b,m;if(null==t&&(t="rgb"),p=e.length,e=e.map((function(e){return _(e)})),u=e.splice(0,1)[0],"lrgb"===t)return c(e);for(d in o=[],s=0,l=0,b=u.get(t))b[d]=b[d]||0,o.push(isNaN(b[d])?0:1),"h"!==t.charAt(d)||isNaN(b[d])||(n=b[d]/180*i,s+=D(n),l+=je(n));for(a=u.alpha(),g=0,f=e.length;g<f;g++)for(d in m=(r=e[g]).get(t),a+=r.alpha(),b)isNaN(m[d])||(o[d]+=1,"h"===t.charAt(d)?(n=m[d]/180*i,s+=D(n),l+=je(n)):b[d]+=m[d]);for(d in b)if("h"===t.charAt(d)){for(n=h(l/o[d],s/o[d])/i*180;n<0;)n+=360;for(;n>=360;)n-=360;b[d]=n}else b[d]=b[d]/o[d];return _(b,t).alpha(a/p)},M=function(e){var t,n;if(e.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return 4!==e.length&&7!==e.length||(e=e.substr(1)),3===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]),[(n=parseInt(e,16))>>16,n>>8&255,255&n,1];if(e.match(/^#?([A-Fa-f0-9]{8})$/))return 9===e.length&&(e=e.substr(1)),[(n=parseInt(e,16))>>24&255,n>>16&255,n>>8&255,ye((255&n)/255*100)/100];if(null!=f.css&&(t=f.css(e)))return t;throw"unknown color: "+e},se=function(e,t){var n,a,r,o,i,s;return null==t&&(t="auto"),i=e[0],r=e[1],a=e[2],n=e[3],"auto"===t&&(t=n<1?"rgba":"rgb"),i=Math.round(i),r=Math.round(r),a=Math.round(a),s=(s="000000"+(i<<16|r<<8|a).toString(16)).substr(s.length-6),o=(o="0"+ye(255*n).toString(16)).substr(o.length-2),"#"+function(){switch(t.toLowerCase()){case"rgba":return s+o;case"argb":return o+s;default:return s}}()},f.hex=function(e){return M(e)},_.hex=function(){return function(e,t,n){n.prototype=e.prototype;var a=new n,r=e.apply(a,t);return Object(r)===r?r:a}(a,Le.call(arguments).concat(["hex"]),(function(){}))},a.prototype.hex=function(e){return null==e&&(e="auto"),se(this._rgb,e)},d.push({p:4,test:function(e){if(1===arguments.length&&"string"===Oe(e))return"hex"}}),A=function(){var e,t,n,a,r,o,i,s,l,u,c,d,p,f;if(r=(e=De(arguments))[0],c=e[1],i=e[2],0===c)l=a=t=255*i;else{for(n=[0,0,0],d=2*i-(p=i<.5?i*(1+c):i+c-i*c),(f=[0,0,0])[0]=(r/=360)+1/3,f[1]=r,f[2]=r-1/3,o=s=0;s<=2;o=++s)f[o]<0&&(f[o]+=1),f[o]>1&&(f[o]-=1),6*f[o]<1?n[o]=d+6*(p-d)*f[o]:2*f[o]<1?n[o]=p:3*f[o]<2?n[o]=d+(p-d)*(2/3-f[o])*6:n[o]=d;l=(u=[ye(255*n[0]),ye(255*n[1]),ye(255*n[2])])[0],a=u[1],t=u[2]}return e.length>3?[l,a,t,e[3]]:[l,a,t]},ue=function(e,t,n){var a,r,o,i,s;return void 0!==e&&e.length>=3&&(e=(i=e)[0],t=i[1],n=i[2]),e/=255,t/=255,n/=255,o=Math.min(e,t,n),r=((J=Math.max(e,t,n))+o)/2,J===o?(s=0,a=Number.NaN):s=r<.5?(J-o)/(J+o):(J-o)/(2-J-o),e===J?a=(t-n)/(J-o):t===J?a=2+(n-e)/(J-o):n===J&&(a=4+(e-t)/(J-o)),(a*=60)<0&&(a+=360),[a,s,r]},_.hsl=function(){return function(e,t,n){n.prototype=e.prototype;var a=new n,r=e.apply(a,t);return Object(r)===r?r:a}(a,Le.call(arguments).concat(["hsl"]),(function(){}))},f.hsl=A,a.prototype.hsl=function(){return ue(this._rgb)},z=function(){var e,t,n,a,r,o,i,s,l,u,c,d,p,f,g,b,h,m;if(r=(e=De(arguments))[0],b=e[1],m=e[2],m*=255,0===b)l=a=t=m;else switch(360===r&&(r=0),r>360&&(r-=360),r<0&&(r+=360),i=m*(1-b),s=m*(1-b*(n=(r/=60)-(o=C(r)))),h=m*(1-b*(1-n)),o){case 0:l=(u=[m,h,i])[0],a=u[1],t=u[2];break;case 1:l=(c=[s,m,i])[0],a=c[1],t=c[2];break;case 2:l=(d=[i,m,h])[0],a=d[1],t=d[2];break;case 3:l=(p=[i,s,m])[0],a=p[1],t=p[2];break;case 4:l=(f=[h,i,m])[0],a=f[1],t=f[2];break;case 5:l=(g=[m,i,s])[0],a=g[1],t=g[2]}return[l,a,t,e.length>3?e[3]:1]},ce=function(){var e,t,n,a,r,o,i,s,l;return o=(i=De(arguments))[0],n=i[1],e=i[2],r=Math.min(o,n,e),t=(J=Math.max(o,n,e))-r,l=J/255,0===J?(a=Number.NaN,s=0):(s=t/J,o===J&&(a=(n-e)/t),n===J&&(a=2+(e-o)/t),e===J&&(a=4+(o-n)/t),(a*=60)<0&&(a+=360)),[a,s,l]},_.hsv=function(){return function(e,t,n){n.prototype=e.prototype;var a=new n,r=e.apply(a,t);return Object(r)===r?r:a}(a,Le.call(arguments).concat(["hsv"]),(function(){}))},f.hsv=z,a.prototype.hsv=function(){return ce(this._rgb)},te=function(e){return"number"===Oe(e)&&e>=0&&e<=16777215?[e>>16,e>>8&255,255&e,1]:(console.warn("unknown num color: "+e),[0,0,0,1])},ge=function(){var e;return((e=De(arguments))[0]<<16)+(e[1]<<8)+e[2]},_.num=function(e){return new a(e,"num")},a.prototype.num=function(e){return null==e&&(e="rgb"),ge(this._rgb,e)},f.num=te,d.push({p:1,test:function(e){if(1===arguments.length&&"number"===Oe(e)&&e>=0&&e<=16777215)return"num"}}),I=function(){var e,t,n,a,r,o,i,s,l,u,c,d,p,f,g,b,h,m,v,y;if(s=(n=De(arguments))[0],r=n[1],t=n[2],i=i/100*255,e=255*(r/=100),0===r)d=i=a=t;else switch(360===s&&(s=0),s>360&&(s-=360),s<0&&(s+=360),c=(u=t*(1-r))+e*(1-(o=(s/=60)-(l=C(s)))),v=u+e*o,y=u+e,l){case 0:d=(p=[y,v,u])[0],i=p[1],a=p[2];break;case 1:d=(f=[c,y,u])[0],i=f[1],a=f[2];break;case 2:d=(g=[u,y,v])[0],i=g[1],a=g[2];break;case 3:d=(b=[u,c,y])[0],i=b[1],a=b[2];break;case 4:d=(h=[v,u,y])[0],i=h[1],a=h[2];break;case 5:d=(m=[y,u,c])[0],i=m[1],a=m[2]}return[d,i,a,n.length>3?n[3]:1]},ie=function(){var e,t,n,a,r,o,i,s,l;return s=(l=De(arguments))[0],r=l[1],t=l[2],i=Math.min(s,r,t),n=100*(a=(J=Math.max(s,r,t))-i)/255,e=i/(255-a)*100,0===a?o=Number.NaN:(s===J&&(o=(r-t)/a),r===J&&(o=2+(t-s)/a),t===J&&(o=4+(s-r)/a),(o*=60)<0&&(o+=360)),[o,n,e]},_.hcg=function(){return function(e,t,n){n.prototype=e.prototype;var a=new n,r=e.apply(a,t);return Object(r)===r?r:a}(a,Le.call(arguments).concat(["hcg"]),(function(){}))},f.hcg=I,a.prototype.hcg=function(){return ie(this._rgb)},P=function(e){var t,n,a,r,o,i,s,l;if(e=e.toLowerCase(),null!=_.colors&&_.colors[e])return M(_.colors[e]);if(o=e.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(s=o.slice(1,4),r=i=0;i<=2;r=++i)s[r]=+s[r];s[3]=1}else if(o=e.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(s=o.slice(1,5),r=l=0;l<=3;r=++l)s[r]=+s[r];else if(o=e.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(s=o.slice(1,4),r=t=0;t<=2;r=++t)s[r]=ye(2.55*s[r]);s[3]=1}else if(o=e.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(s=o.slice(1,5),r=n=0;n<=2;r=++n)s[r]=ye(2.55*s[r]);s[3]=+s[3]}else(o=e.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?((a=o.slice(1,4))[1]*=.01,a[2]*=.01,(s=A(a))[3]=1):(o=e.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&((a=o.slice(1,4))[1]*=.01,a[2]*=.01,(s=A(a))[3]=+o[4]);return s},oe=function(e){var t;return"rgb"==(t=e[3]<1?"rgba":"rgb")?t+"("+e.slice(0,3).map(ye).join(",")+")":"rgba"===t?t+"("+e.slice(0,3).map(ye).join(",")+","+e[3]+")":void 0},ve=function(e){return ye(100*e)/100},T=function(e,t){var n;return n=t<1?"hsla":"hsl",e[0]=ve(e[0]||0),e[1]=ve(100*e[1])+"%",e[2]=ve(100*e[2])+"%","hsla"===n&&(e[3]=t),n+"("+e.join(",")+")"},f.css=function(e){return P(e)},_.css=function(){return function(e,t,n){n.prototype=e.prototype;var a=new n,r=e.apply(a,t);return Object(r)===r?r:a}(a,Le.call(arguments).concat(["css"]),(function(){}))},a.prototype.css=function(e){return null==e&&(e="rgb"),"rgb"===e.slice(0,3)?oe(this._rgb):"hsl"===e.slice(0,3)?T(this.hsl(),this.alpha()):void 0},f.named=function(e){return M(Pe[e])},d.push({p:5,test:function(e){if(1===arguments.length&&null!=Pe[e])return"named"}}),a.prototype.name=function(e){var t,n;for(n in arguments.length&&(Pe[e]&&(this._rgb=M(Pe[e])),this._rgb[3]=1),t=this.hex("rgb"),Pe)if(t===Pe[n])return n;return t},$=function(){var e,t,n,a;return n=(a=De(arguments))[0],e=a[1],t=a[2],[n,D(t*=r)*e,je(t)*e]},U=function(){var e,t,n,a,r,o,i,s,l;return i=(n=De(arguments))[0],r=n[1],o=n[2],e=(s=$(i,r,o))[0],t=s[1],a=s[2],[(l=G(e,t,a))[0],l[1],a=l[2],n.length>3?n[3]:1]},q=function(){var e,t,n,a,r,o;return r=(o=De(arguments))[0],e=o[1],t=o[2],n=_e(e*e+t*t),a=(h(t,e)*l+360)%360,0===ye(1e4*n)&&(a=Number.NaN),[r,n,a]},pe=function(){var e,t,n,a,r,o,i;return r=(o=De(arguments))[0],n=o[1],t=o[2],a=(i=de(r,n,t))[0],e=i[1],t=i[2],q(a,e,t)},_.lch=function(){var e;return e=De(arguments),new a(e,"lch")},_.hcl=function(){var e;return e=De(arguments),new a(e,"hcl")},f.lch=U,f.hcl=function(){var e,t,n,a;return t=(a=De(arguments))[0],e=a[1],n=a[2],U([n,e,t])},a.prototype.lch=function(){return pe(this._rgb)},a.prototype.hcl=function(){return pe(this._rgb).reverse()},re=function(e){var t,n,a,r,o,i;return null==e&&(e="rgb"),o=(i=De(arguments))[0],a=i[1],t=i[2],a/=255,t/=255,[(1-(o/=255)-(r=1-Math.max(o,Math.max(a,t))))*(n=r<1?1/(1-r):0),(1-a-r)*n,(1-t-r)*n,r]},O=function(){var e,t,n,a,r,o;return n=(t=De(arguments))[0],r=t[1],o=t[2],a=t[3],e=t.length>4?t[4]:1,1===a?[0,0,0,e]:[n>=1?0:255*(1-n)*(1-a),r>=1?0:255*(1-r)*(1-a),o>=1?0:255*(1-o)*(1-a),e]},f.cmyk=function(){return O(De(arguments))},_.cmyk=function(){return function(e,t,n){n.prototype=e.prototype;var a=new n,r=e.apply(a,t);return Object(r)===r?r:a}(a,Le.call(arguments).concat(["cmyk"]),(function(){}))},a.prototype.cmyk=function(){return re(this._rgb)},f.gl=function(){var e,t,n,a,r;for(a=function(){var e,n;for(t in n=[],e=De(arguments))r=e[t],n.push(r);return n}.apply(this,arguments),e=n=0;n<=2;e=++n)a[e]*=255;return a},_.gl=function(){return function(e,t,n){n.prototype=e.prototype;var a=new n,r=e.apply(a,t);return Object(r)===r?r:a}(a,Le.call(arguments).concat(["gl"]),(function(){}))},a.prototype.gl=function(){var e;return[(e=this._rgb)[0]/255,e[1]/255,e[2]/255,e[3]]},fe=function(e,t,n){var a;return e=(a=De(arguments))[0],t=a[1],n=a[2],.2126*(e=Z(e))+.7152*(t=Z(t))+.0722*Z(n)},Z=function(e){return(e/=255)<=.03928?e/12.92:ae((e+.055)/1.055,2.4)},V=function(e,t,n,r){var o,i;return o=e._rgb,i=t._rgb,new a(o[0]+n*(i[0]-o[0]),o[1]+n*(i[1]-o[1]),o[2]+n*(i[2]-o[2]),r)},g.push(["rgb",V]),a.prototype.luminance=function(e,t){var n,a,r,o,i;return null==t&&(t="rgb"),arguments.length?(o=this._rgb,0===e?o=[0,0,0,this._rgb[3]]:1===e?o=[255,255,255,this[3]]:(n=fe(this._rgb),a=1e-7,r=20,i=function(n,o){var s,l;return s=(l=n.interpolate(o,.5,t)).luminance(),Math.abs(e-s)<a||!r--?l:s>e?i(n,l):i(l,o)},o=n>e?i(_("black"),this).rgba():i(this,_("white")).rgba()),_(o).alpha(this.alpha())):fe(this._rgb)},we=function(e){var t,n,a,r;return(r=e/100)<66?(a=255,n=-155.25485562709179-.44596950469579133*(n=r-2)+104.49216199393888*Q(n),t=r<20?0:.8274096064007395*(t=r-10)-254.76935184120902+115.67994401066147*Q(t)):(a=351.97690566805693+.114206453784165*(a=r-55)-40.25366309332127*Q(a),n=325.4494125711974+.07943456536662342*(n=r-50)-28.0852963507957*Q(n),t=255),[a,n,t]},be=function(){var e,t,n,a,r,o,i,s;for(r=(o=De(arguments))[0],o[1],e=o[2],a=1e3,n=4e4,t=.4;n-a>t;)(i=we(s=.5*(n+a)))[2]/i[0]>=e/r?n=s:a=s;return ye(s)},_.temperature=_.kelvin=function(){return function(e,t,n){n.prototype=e.prototype;var a=new n,r=e.apply(a,t);return Object(r)===r?r:a}(a,Le.call(arguments).concat(["temperature"]),(function(){}))},f.temperature=f.kelvin=f.K=we,a.prototype.temperature=function(){return be(this._rgb)},a.prototype.kelvin=a.prototype.temperature,_.contrast=function(e,t){var n,r,o,i;return"string"!==(o=Oe(e))&&"number"!==o||(e=new a(e)),"string"!==(i=Oe(t))&&"number"!==i||(t=new a(t)),(n=e.luminance())>(r=t.luminance())?(n+.05)/(r+.05):(r+.05)/(n+.05)},_.distance=function(e,t,n){var r,o,i,s,l,u,c;for(o in null==n&&(n="lab"),"string"!==(l=Oe(e))&&"number"!==l||(e=new a(e)),"string"!==(u=Oe(t))&&"number"!==u||(t=new a(t)),i=e.get(n),s=t.get(n),c=0,i)c+=(r=(i[o]||0)-(s[o]||0))*r;return Math.sqrt(c)},_.deltaE=function(e,t,n,r){var o,s,l,u,c,d,p,f,g,m,v,y,x,j,_,w,O,P,k,S,L,C,I,M;for(null==n&&(n=1),null==r&&(r=1),"string"!==(_=Oe(e))&&"number"!==_||(e=new a(e)),"string"!==(w=Oe(t))&&"number"!==w||(t=new a(t)),o=(O=e.lab())[0],l=O[1],c=O[2],s=(P=t.lab())[0],u=P[1],d=P[2],p=_e(l*l+c*c),f=_e(u*u+d*d),S=o<16?.511:.040975*o/(1+.01765*o),k=.0638*p/(1+.0131*p)+.638,j=p<1e-6?0:180*h(c,l)/i;j<0;)j+=360;for(;j>=360;)j-=360;return L=j>=164&&j<=345?.56+b(.2*D(i*(j+168)/180)):.36+b(.4*D(i*(j+35)/180)),x=_e((g=p*p*p*p)/(g+1900)),_e((C=(o-s)/(n*S))*C+(I=(y=p-f)/(r*k))*I+((m=l-u)*m+(v=c-d)*v-y*y)/((M=k*(x*L+1-x))*M))},a.prototype.get=function(e){var t,n,a,r,o;return a=(r=e.split("."))[0],t=r[1],o=this[a](),t?(n=a.indexOf(t))>-1?o[n]:console.warn("unknown channel "+t+" in mode "+a):o},a.prototype.set=function(e,t){var n,a,r,o,i;if(r=(o=e.split("."))[0],n=o[1])if(i=this[r](),(a=r.indexOf(n))>-1)if("string"===Oe(t))switch(t.charAt(0)){case"+":case"-":i[a]+=+t;break;case"*":i[a]*=+t.substr(1);break;case"/":i[a]/=+t.substr(1);break;default:i[a]=+t}else i[a]=t;else console.warn("unknown channel "+n+" in mode "+r);else i=t;return _(i,r).alpha(this.alpha())},a.prototype.clipped=function(){return this._rgb._clipped||!1},a.prototype.alpha=function(e){return arguments.length?_.rgb([this._rgb[0],this._rgb[1],this._rgb[2],e]):this._rgb[3]},a.prototype.darken=function(e){var t;return null==e&&(e=1),(t=this.lab())[0]-=o.Kn*e,_.lab(t).alpha(this.alpha())},a.prototype.brighten=function(e){return null==e&&(e=1),this.darken(-e)},a.prototype.darker=a.prototype.darken,a.prototype.brighter=a.prototype.brighten,a.prototype.saturate=function(e){var t;return null==e&&(e=1),(t=this.lch())[1]+=e*o.Kn,t[1]<0&&(t[1]=0),_.lch(t).alpha(this.alpha())},a.prototype.desaturate=function(e){return null==e&&(e=1),this.saturate(-e)},a.prototype.premultiply=function(){var e,t;return t=this.rgb(),e=this.alpha(),_(t[0]*e,t[1]*e,t[2]*e,e)},ee=function(e,t){return e*t/255},k=function(e,t){return e>t?t:e},Y=function(e,t){return e>t?e:t},xe=function(e,t){return 255*(1-(1-e/255)*(1-t/255))},ne=function(e,t){return t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))},j=function(e,t){return 255*(1-(1-t/255)/(e/255))},S=function(e,t){return 255===e||(e=t/255*255/(1-e/255))>255?255:e},(v=function(e,t,n){if(!v[n])throw"unknown blend mode "+n;return v[n](e,t)}).normal=(y=function(e){return function(t,n){var a,r;return a=_(n).rgb(),r=_(t).rgb(),_(e(a,r),"rgb")}})((L=function(e){return function(t,n){var a,r,o;for(o=[],a=r=0;r<=3;a=++r)o[a]=e(t[a],n[a]);return o}})((function(e,t){return e}))),v.multiply=y(L(ee)),v.screen=y(L(xe)),v.overlay=y(L(ne)),v.darken=y(L(k)),v.lighten=y(L(Y)),v.dodge=y(L(S)),v.burn=y(L(j)),_.blend=v,_.analyze=function(e){var t,n,a,r;for(a={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},n=0,t=e.length;n<t;n++)null==(r=e[n])||isNaN(r)||(a.values.push(r),a.sum+=r,r<a.min&&(a.min=r),r>a.max&&(a.max=r),a.count+=1);return a.domain=[a.min,a.max],a.limits=function(e,t){return _.limits(a,e,t)},a},_.scale=function(e,t){var n,a,r,o,i,s,l,u,c,d,p,f,g,b,h,m,v,y,x,j,w;return c="rgb",d=_("#ccc"),b=0,i=[0,1],g=[],f=[0,0],n=!1,r=[],p=!1,u=0,l=1,o=!1,a={},h=!0,s=1,j=function(e){var t,n,a,o,i,s;if(null==e&&(e=["#fff","#000"]),null!=e&&"string"===Oe(e)&&null!=_.brewer&&(e=_.brewer[e]||_.brewer[e.toLowerCase()]||e),"array"===Oe(e)){for(1===e.length&&(e=[e[0],e[0]]),t=a=0,o=(e=e.slice(0)).length-1;0<=o?a<=o:a>=o;t=0<=o?++a:--a)n=e[t],"string"===Oe(n)&&(e[t]=_(n));for(g.length=0,t=s=0,i=e.length-1;0<=i?s<=i:s>=i;t=0<=i?++s:--s)g.push(t/(e.length-1))}return x(),r=e},v=function(e){var t,a;if(null!=n){for(a=n.length-1,t=0;t<a&&e>=n[t];)t++;return t-1}return 0},w=function(e){return e},y=function(e,t){var o,i,p,b,m,y,x;if(null==t&&(t=!1),isNaN(e)||null===e)return d;if(x=t?e:n&&n.length>2?v(e)/(n.length-2):l!==u?(e-u)/(l-u):1,t||(x=w(x)),1!==s&&(x=ae(x,s)),x=f[0]+x*(1-f[0]-f[1]),x=Math.min(1,Math.max(0,x)),p=Math.floor(1e4*x),h&&a[p])o=a[p];else{if("array"===Oe(r))for(i=b=0,y=g.length-1;0<=y?b<=y:b>=y;i=0<=y?++b:--b){if(x<=(m=g[i])){o=r[i];break}if(x>=m&&i===g.length-1){o=r[i];break}if(x>m&&x<g[i+1]){x=(x-m)/(g[i+1]-m),o=_.interpolate(r[i],r[i+1],x,c);break}}else"function"===Oe(r)&&(o=r(x));h&&(a[p]=o)}return o},x=function(){return a={}},j(e),(m=function(e){var t;return t=_(y(e)),p&&t[p]?t[p]():t}).classes=function(e){var t;return null!=e?("array"===Oe(e)?(n=e,i=[e[0],e[e.length-1]]):(t=_.analyze(i),n=0===e?[t.min,t.max]:_.limits(t,"e",e)),m):n},m.domain=function(e){var t,n,a,o,s,c,d;if(!arguments.length)return i;if(u=e[0],l=e[e.length-1],g=[],a=r.length,e.length===a&&u!==l)for(s=0,o=e.length;s<o;s++)n=e[s],g.push((n-u)/(l-u));else for(t=d=0,c=a-1;0<=c?d<=c:d>=c;t=0<=c?++d:--d)g.push(t/(a-1));return i=[u,l],m},m.mode=function(e){return arguments.length?(c=e,x(),m):c},m.range=function(e,t){return j(e),m},m.out=function(e){return p=e,m},m.spread=function(e){return arguments.length?(b=e,m):b},m.correctLightness=function(e){return null==e&&(e=!0),o=e,x(),w=o?function(e){var t,n,a,r,o,i,s,l;for(i=(t=y(0,!0).lab()[0])>(n=y(1,!0).lab()[0]),a=y(e,!0).lab()[0]-(r=t+(n-t)*e),s=0,l=1,o=20;Math.abs(a)>.01&&o-- >0;)i&&(a*=-1),a<0?(s=e,e+=.5*(l-e)):(l=e,e+=.5*(s-e)),a=y(e,!0).lab()[0]-r;return e}:function(e){return e},m},m.padding=function(e){return null!=e?("number"===Oe(e)&&(e=[e,e]),f=e,m):f},m.colors=function(t,a){var o,s,l,u,c,d,p,f;if(arguments.length<2&&(a="hex"),c=[],0===arguments.length)c=r.slice(0);else if(1===t)c=[m(.5)];else if(t>1)s=i[0],o=i[1]-s,c=function(){d=[];for(var e=0;0<=t?e<t:e>t;0<=t?e++:e--)d.push(e);return d}.apply(this).map((function(e){return m(s+e/(t-1)*o)}));else{if(e=[],p=[],n&&n.length>2)for(l=f=1,u=n.length;1<=u?f<u:f>u;l=1<=u?++f:--f)p.push(.5*(n[l-1]+n[l]));else p=i;c=p.map((function(e){return m(e)}))}return _[a]&&(c=c.map((function(e){return e[a]()}))),c},m.cache=function(e){return null!=e?(h=e,m):h},m.gamma=function(e){return null!=e?(s=e,m):s},m.nodata=function(e){return null!=e?(d=_(e),m):d},m},null==_.scales&&(_.scales={}),_.scales.cool=function(){return _.scale([_.hsl(180,1,.9),_.hsl(250,.7,.4)])},_.scales.hot=function(){return _.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},_.analyze=function(e,t,n){var a,r,o,i,s,l;if(s={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},null==n&&(n=function(){return!0}),a=function(e){null==e||isNaN(e)||(s.values.push(e),s.sum+=e,e<s.min&&(s.min=e),e>s.max&&(s.max=e),s.count+=1)},l=function(e,r){if(n(e,r))return null!=t&&"function"===Oe(t)?a(t(e)):null!=t&&"string"===Oe(t)||"number"===Oe(t)?a(e[t]):a(e)},"array"===Oe(e))for(i=0,o=e.length;i<o;i++)l(e[i]);else for(r in e)l(e[r],r);return s.domain=[s.min,s.max],s.limits=function(e,t){return _.limits(s,e,t)},s},_.limits=function(e,t,n){var a,r,o,i,s,l,u,c,d,p,f,g,h,m,v,y,x,j,w,O,D,P,k,S,L,I,M,E,T,A,z,F,R,N,W,B,V,q,G,H,$,U,Y,K,Z,X,ee,te,ne,re,oe,ie,se,le,ue;if(null==t&&(t="equal"),null==n&&(n=7),"array"===Oe(e)&&(e=_.analyze(e)),L=e.min,J=e.max,e.sum,le=e.values.sort((function(e,t){return e-t})),1===n)return[L,J];if(k=[],"c"===t.substr(0,1)&&(k.push(L),k.push(J)),"e"===t.substr(0,1)){for(k.push(L),O=z=1,W=n-1;1<=W?z<=W:z>=W;O=1<=W?++z:--z)k.push(L+O/n*(J-L));k.push(J)}else if("l"===t.substr(0,1)){if(L<=0)throw"Logarithmic scales are only possible for values > 0";for(I=Math.LOG10E*Q(L),S=Math.LOG10E*Q(J),k.push(L),O=ue=1,B=n-1;1<=B?ue<=B:ue>=B;O=1<=B?++ue:--ue)k.push(ae(10,I+O/n*(S-I)));k.push(J)}else if("q"===t.substr(0,1)){for(k.push(L),O=a=1,U=n-1;1<=U?a<=U:a>=U;O=1<=U?++a:--a)F=(le.length-1)*O/n,(R=C(F))===F?k.push(le[R]):(N=F-R,k.push(le[R]*(1-N)+le[R+1]*N));k.push(J)}else if("k"===t.substr(0,1)){for(E=le.length,m=new Array(E),j=new Array(n),re=!0,T=0,y=null,(y=[]).push(L),O=r=1,Y=n-1;1<=Y?r<=Y:r>=Y;O=1<=Y?++r:--r)y.push(L+O/n*(J-L));for(y.push(J);re;){for(D=o=0,K=n-1;0<=K?o<=K:o>=K;D=0<=K?++o:--o)j[D]=0;for(O=i=0,Z=E-1;0<=Z?i<=Z:i>=Z;O=0<=Z?++i:--i){for(se=le[O],M=Number.MAX_VALUE,D=s=0,X=n-1;0<=X?s<=X:s>=X;D=0<=X?++s:--s)(w=b(y[D]-se))<M&&(M=w,v=D);j[v]++,m[O]=v}for(A=new Array(n),D=l=0,ee=n-1;0<=ee?l<=ee:l>=ee;D=0<=ee?++l:--l)A[D]=null;for(O=u=0,te=E-1;0<=te?u<=te:u>=te;O=0<=te?++u:--u)null===A[x=m[O]]?A[x]=le[O]:A[x]+=le[O];for(D=c=0,ne=n-1;0<=ne?c<=ne:c>=ne;D=0<=ne?++c:--c)A[D]*=1/j[D];for(re=!1,D=d=0,V=n-1;0<=V?d<=V:d>=V;D=0<=V?++d:--d)if(A[D]!==y[O]){re=!0;break}y=A,++T>200&&(re=!1)}for(P={},D=p=0,q=n-1;0<=q?p<=q:p>=q;D=0<=q?++p:--p)P[D]=[];for(O=f=0,G=E-1;0<=G?f<=G:f>=G;O=0<=G?++f:--f)P[x=m[O]].push(le[O]);for(oe=[],D=g=0,H=n-1;0<=H?g<=H:g>=H;D=0<=H?++g:--g)oe.push(P[D][0]),oe.push(P[D][P[D].length-1]);for(oe=oe.sort((function(e,t){return e-t})),k.push(oe[0]),O=h=1,$=oe.length-1;h<=$;O=h+=2)ie=oe[O],isNaN(ie)||-1!==k.indexOf(ie)||k.push(ie)}return k},E=function(e,t,n){var a,r,o,i;return e=(a=De(arguments))[0],t=a[1],n=a[2],isNaN(e)&&(e=0),(e/=360)<1/3?o=1-((r=(1-t)/3)+(i=(1+t*D(u*e)/D(s-u*e))/3)):e<2/3?r=1-((i=(1-t)/3)+(o=(1+t*D(u*(e-=1/3))/D(s-u*e))/3)):i=1-((o=(1-t)/3)+(r=(1+t*D(u*(e-=2/3))/D(s-u*e))/3)),[255*(i=K(n*i*3)),255*(o=K(n*o*3)),255*(r=K(n*r*3)),a.length>3?a[3]:1]},le=function(){var e,t,n,a,r,o,i;return r=(o=De(arguments))[0],t=o[1],e=o[2],u=2*Math.PI,r/=255,t/=255,e/=255,0==(i=1-Math.min(r,t,e)/(a=(r+t+e)/3))?n=0:(n=(r-t+(r-e))/2,n/=Math.sqrt((r-t)*(r-t)+(r-e)*(t-e)),n=Math.acos(n),e>t&&(n=u-n),n/=u),[360*n,i,a]},_.hsi=function(){return function(e,t,n){n.prototype=e.prototype;var a=new n,r=e.apply(a,t);return Object(r)===r?r:a}(a,Le.call(arguments).concat(["hsi"]),(function(){}))},f.hsi=E,a.prototype.hsi=function(){return le(this._rgb)},R=function(e,t,n,a){var r,o,i,s,l,u,c,d,p,f;return"hsl"===a?(p=e.hsl(),f=t.hsl()):"hsv"===a?(p=e.hsv(),f=t.hsv()):"hcg"===a?(p=e.hcg(),f=t.hcg()):"hsi"===a?(p=e.hsi(),f=t.hsi()):"lch"!==a&&"hcl"!==a||(a="hcl",p=e.hcl(),f=t.hcl()),"h"===a.substr(0,1)&&(o=p[0],c=p[1],s=p[2],i=f[0],d=f[1],l=f[2]),isNaN(o)||isNaN(i)?isNaN(o)?isNaN(i)?r=Number.NaN:(r=i,1!==s&&0!==s||"hsv"===a||(u=d)):(r=o,1!==l&&0!==l||"hsv"===a||(u=c)):r=o+n*(i>o&&i-o>180?i-(o+360):i<o&&o-i>180?i+360-o:i-o),null==u&&(u=c+n*(d-c)),_[a](r,u,s+n*(l-s))},B=function(e,t,n,a){var r,o;return r=e.num(),o=t.num(),_.num(r+(o-r)*n,"num")},(g=g.concat(function(){var e,t,n,a;for(a=[],t=0,e=(n=["hsv","hsl","hsi","hcl","lch","hcg"]).length;t<e;t++)X=n[t],a.push([X,R]);return a}())).push(["num",B]),N=function(e,t,n,r){var o,i;return o=e.lab(),i=t.lab(),new a(o[0]+n*(i[0]-o[0]),o[1]+n*(i[1]-o[1]),o[2]+n*(i[2]-o[2]),r)},g.push(["lab",N])}).call(this)}).call(this,n(172)(e))},function(e,t,n){e.exports=n(22)(436)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),r=n(174);t.default=function(e,t){var n=r.useFirstMountState();a.useEffect((function(){if(!n)return e()}),t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFirstMountState=void 0;var a=n(6);t.useFirstMountState=function(){var e=a.useRef(!0);return e.current?(e.current=!1,!0):e.current}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(6);t.default=function(e,t){void 0===t&&(t=0);var n=a.useRef(!1),r=a.useRef(),o=a.useRef(e),i=a.useCallback((function(){return n.current}),[]),s=a.useCallback((function(){n.current=!1,r.current&&clearTimeout(r.current),r.current=setTimeout((function(){n.current=!0,o.current()}),t)}),[t]),l=a.useCallback((function(){n.current=null,r.current&&clearTimeout(r.current)}),[]);return a.useEffect((function(){o.current=e}),[e]),a.useEffect((function(){return s(),l}),[t]),[i,l,s]}},function(e,t,n){switch(window.__kbnThemeTag__){case"v8dark":return n(177);case"v8light":return n(179)}},function(e,t,n){var a=n(66),r=n(178);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);a(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){(t=n(67)(!1)).push([e.i,".lnsPalettePanelContainer{border-left:none;box-shadow:0 2.7px 9px rgba(0,0,0,0.325),0 9.4px 24px rgba(0,0,0,0.225),0 21.8px 43px rgba(0,0,0,0.2);position:fixed;top:0;bottom:0;right:0;height:100%;z-index:1000;background:#1D1E24;display:flex;flex-direction:column;align-items:stretch;-webkit-clip-path:polygon(-50% 0, 100% 0, 100% 100%, -50% 100%);clip-path:polygon(-50% 0, 100% 0, 100% 100%, -50% 100%);position:absolute;right:0;left:0;top:0;bottom:0;animation:euiFlyout 250ms cubic-bezier(0.694, 0.0482, 0.335, 1);z-index:3001}.lnsPalettePanelContainer__header{padding:16px}.lnsPalettePanelContainer__content{scrollbar-color:rgba(152,162,179,0.5) rgba(0,0,0,0);scrollbar-width:thin;height:100%;overflow-y:auto;overflow-x:hidden;flex:1}.lnsPalettePanelContainer__content::-webkit-scrollbar{width:16px;height:16px}.lnsPalettePanelContainer__content::-webkit-scrollbar-thumb{background-color:rgba(152,162,179,0.5);background-clip:content-box;border-radius:16px;border:6px solid rgba(0,0,0,0)}.lnsPalettePanelContainer__content::-webkit-scrollbar-corner,.lnsPalettePanelContainer__content::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.lnsPalettePanelContainer__content:focus{outline:none}.lnsPalettePanelContainer__content[tabindex='0']:focus:focus-visible{outline-style:auto}.lnsPalettePanelContainer__footer{padding:16px}\n",""]),e.exports=t},function(e,t,n){var a=n(66),r=n(180);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);a(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){(t=n(67)(!1)).push([e.i,".lnsPalettePanelContainer{border-left:none;box-shadow:0 2.7px 9px rgba(0,0,0,0.13),0 9.4px 24px rgba(0,0,0,0.09),0 21.8px 43px rgba(0,0,0,0.08);position:fixed;top:0;bottom:0;right:0;height:100%;z-index:1000;background:#fff;display:flex;flex-direction:column;align-items:stretch;-webkit-clip-path:polygon(-50% 0, 100% 0, 100% 100%, -50% 100%);clip-path:polygon(-50% 0, 100% 0, 100% 100%, -50% 100%);position:absolute;right:0;left:0;top:0;bottom:0;animation:euiFlyout 250ms cubic-bezier(0.694, 0.0482, 0.335, 1);z-index:3001}.lnsPalettePanelContainer__header{padding:16px}.lnsPalettePanelContainer__content{scrollbar-color:rgba(105,112,125,0.5) rgba(0,0,0,0);scrollbar-width:thin;height:100%;overflow-y:auto;overflow-x:hidden;flex:1}.lnsPalettePanelContainer__content::-webkit-scrollbar{width:16px;height:16px}.lnsPalettePanelContainer__content::-webkit-scrollbar-thumb{background-color:rgba(105,112,125,0.5);background-clip:content-box;border-radius:16px;border:6px solid rgba(0,0,0,0)}.lnsPalettePanelContainer__content::-webkit-scrollbar-corner,.lnsPalettePanelContainer__content::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.lnsPalettePanelContainer__content:focus{outline:none}.lnsPalettePanelContainer__content[tabindex='0']:focus:focus-visible{outline-style:auto}.lnsPalettePanelContainer__footer{padding:16px}\n",""]),e.exports=t},function(e,t,n){switch(window.__kbnThemeTag__){case"v8dark":return n(182);case"v8light":return n(184)}},function(e,t,n){var a=n(66),r=n(183);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);a(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){(t=n(67)(!1)).push([e.i,".lnsDimensionEditorSection{padding-top:16px;padding-bottom:16px}.lnsDimensionEditorSection:first-child{padding-top:0}.lnsDimensionEditorSection:first-child .lnsDimensionEditorSection__border{display:none}.lnsDimensionEditorSection__border{position:relative}.lnsDimensionEditorSection__border:before{content:'';position:absolute;top:-16px;right:-16px;left:-16px;border-top:1px solid #343741}.lnsDimensionEditorSection__heading{padding-bottom:16px}\n",""]),e.exports=t},function(e,t,n){var a=n(66),r=n(185);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);a(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){(t=n(67)(!1)).push([e.i,".lnsDimensionEditorSection{padding-top:16px;padding-bottom:16px}.lnsDimensionEditorSection:first-child{padding-top:0}.lnsDimensionEditorSection:first-child .lnsDimensionEditorSection__border{display:none}.lnsDimensionEditorSection__border{position:relative}.lnsDimensionEditorSection__border:before{content:'';position:absolute;top:-16px;right:-16px;left:-16px;border-top:1px solid #D3DAE6}.lnsDimensionEditorSection__heading{padding-bottom:16px}\n",""]),e.exports=t},,function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var a,r,o;if(Array.isArray(t)){if((a=t.length)!=n.length)return!1;for(r=a;0!=r--;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((a=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(r=a;0!=r--;)if(!Object.prototype.hasOwnProperty.call(n,o[r]))return!1;for(r=a;0!=r--;){var i=o[r];if(!("_owner"===i&&t.$$typeof||e(t[i],n[i])))return!1}return!0}return t!=t&&n!=n}},,,,,,,,,,,,,,,,,,,,,function(e,t,n){var a=n(209),r=n(210);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||a)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var s=0;s<16;++s)t[o+s]=i[s];return t||r(i)}},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var a=new Uint8Array(16);e.exports=function(){return n(a),a}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},function(e,t){for(var n=[],a=0;a<256;++a)n[a]=(a+256).toString(16).substr(1);e.exports=function(e,t){var a=t||0,r=n;return[r[e[a++]],r[e[a++]],r[e[a++]],r[e[a++]],"-",r[e[a++]],r[e[a++]],"-",r[e[a++]],r[e[a++]],"-",r[e[a++]],r[e[a++]],"-",r[e[a++]],r[e[a++]],r[e[a++]],r[e[a++]],r[e[a++]],r[e[a++]]].join("")}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n(22)(16)},function(e,t,n){e.exports=n(22)(14)},function(e,t,n){e.exports=n(22)(4)},function(e,t,n){e.exports=n(22)(19)},function(e,t,n){e.exports=n(22)(2468)},function(e,t,n){e.exports=n(22)(2476)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){switch(window.__kbnThemeTag__){case"v8dark":return n(326);case"v8light":return n(328)}},function(e,t,n){var a=n(66),r=n(327);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);a(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){(t=n(67)(!1)).push([e.i,".lnsDragDrop{-webkit-user-select:none;user-select:none;transition:150ms ease-in-out;transition-property:background-color, border-color, opacity;z-index:1}.lnsDragDrop_ghost{box-shadow:0 0.8px 0.8px rgba(0,0,0,0.1),0 2.3px 2px rgba(0,0,0,0.075);background:#1D1E24;border:1px dashed transparent;cursor:grab;border:1px dashed #343741;position:absolute !important;margin:0 !important;bottom:100%;width:100%;left:0;opacity:.9;transform:translate(-12px, 8px);z-index:3;pointer-events:none;outline:2px solid currentColor;outline-style:auto}.lnsDragDrop-isDraggable{box-shadow:0 0.8px 0.8px rgba(0,0,0,0.1),0 2.3px 2px rgba(0,0,0,0.075);background:#1D1E24;border:1px dashed transparent;cursor:grab}.lnsDragDrop-isDraggable:hover{border:1px dashed #535966}.lnsDragDrop-isDraggable>.kbnFieldButton__button{cursor:grab}.lnsDragDrop-isDraggable:focus{outline:2px solid currentColor}.lnsDragDrop-isDraggable:focus:focus-visible{outline-style:auto}.lnsDragDrop-isDraggable:focus:not(:focus-visible){outline:none}.lnsDragDrop-isDroppable{border:1px dashed #343741}.lnsDragDrop-isDropTarget{border:1px dashed #343741;background-color:rgba(84,179,153,0.1)}.lnsDragDrop-isDropTarget>*{pointer-events:none}.lnsDragDrop-isActiveGroup{background-color:rgba(84,179,153,0.25)}.lnsDragDrop-isActiveDropTarget{z-index:3;background-color:rgba(84,179,153,0.25);border:1px dashed #54B399}.lnsDragDrop-isNotDroppable{opacity:.5}.lnsDragDrop-isReplacing,.lnsDragDrop-isReplacing .lnsLayerPanel__triggerText{text-decoration:line-through}.lnsDragDrop-notCompatible{background-color:#2E2D25;border:1px dashed #343741}.lnsDragDrop-notCompatible.lnsDragDrop-isActiveDropTarget{background-color:rgba(251,208,17,0.25);border-color:#D6BF57}.lnsDragDrop__container{position:relative;width:100%;height:100%}.lnsDragDrop__container.lnsDragDrop__container-active{z-index:3}.lnsDragDrop__reorderableDrop{position:absolute;width:100%;top:0;height:calc(100% + 8px)}.lnsDragDrop-translatableDrop{transform:translateY(0);transition:transform 150ms ease-in-out;pointer-events:none}.lnsDragDrop-translatableDrop .lnsDragDrop-isDropTarget{box-shadow:0 0.8px 0.8px rgba(0,0,0,0.1),0 2.3px 2px rgba(0,0,0,0.075);background:#1D1E24;border:1px dashed transparent;cursor:grab}.lnsDragDrop-translatableDrop .lnsDragDrop-isActiveDropTarget{z-index:3}.lnsDragDrop-translatableDrag{transform:translateY(0);transition:transform 150ms ease-in-out;position:relative;z-index:1}.lnsDragDrop__keyboardHandler{top:0;position:absolute;width:100%;height:100%;border-radius:6px}.lnsDragDrop__keyboardHandler:focus,.lnsDragDrop__keyboardHandler:focus-within{outline:2px solid currentColor;pointer-events:none;z-index:2}.lnsDragDrop__keyboardHandler:focus:focus-visible,.lnsDragDrop__keyboardHandler:focus-within:focus-visible{outline-style:auto}.lnsDragDrop__keyboardHandler:focus:not(:focus-visible),.lnsDragDrop__keyboardHandler:focus-within:not(:focus-visible){outline:none}.lnsDragDrop-isHidden{opacity:0}.lnsDragDrop-isHidden .lnsDragDrop__keyboardHandler:focus,.lnsDragDrop-isHidden .lnsDragDrop__keyboardHandler:focus-within{animation:none}.lnsDragDrop__extraDrops{opacity:0;visibility:hidden;position:absolute;z-index:2;right:calc(100% + 8px);top:0;transition:opacity 150ms ease-in-out;width:100%}.lnsDragDrop__extraDrops-visible{opacity:1;visibility:visible}.lnsDragDrop__diamondPath{position:absolute;width:30%;top:0;left:-16px;z-index:0}.lnsDragDrop__extraDropWrapper{position:relative;width:100%;height:100%;background:#25262E;padding:4px;border-radius:0}.lnsDragDrop__extraDropWrapper:first-child,.lnsDragDrop__extraDropWrapper:first-child .lnsDragDrop__extraDrop{border-top-left-radius:4px;border-top-right-radius:4px}.lnsDragDrop__extraDropWrapper:last-child,.lnsDragDrop__extraDropWrapper:last-child .lnsDragDrop__extraDrop{border-bottom-left-radius:4px;border-bottom-right-radius:4px}.lnsDragDrop__extraDropWrapper+.lnsDragDrop__extraDropWrapper{margin-top:-1px}.lnsDragDrop__extraDrop{position:relative;height:40px;min-width:112px;color:#7DDED8;padding:4px}.lnsDragDrop__extraDrop.lnsDragDrop-incompatibleExtraDrop{color:#F3D371}\n",""]),e.exports=t},function(e,t,n){var a=n(66),r=n(329);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);a(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){(t=n(67)(!1)).push([e.i,".lnsDragDrop{-webkit-user-select:none;user-select:none;transition:150ms ease-in-out;transition-property:background-color, border-color, opacity;z-index:1}.lnsDragDrop_ghost{box-shadow:0 0.8px 0.8px rgba(0,0,0,0.04),0 2.3px 2px rgba(0,0,0,0.03);background:#fff;border:1px dashed transparent;cursor:grab;border:1px dashed #D3DAE6;position:absolute !important;margin:0 !important;bottom:100%;width:100%;left:0;opacity:.9;transform:translate(-12px, 8px);z-index:3;pointer-events:none;outline:2px solid currentColor;outline-style:auto}.lnsDragDrop-isDraggable{box-shadow:0 0.8px 0.8px rgba(0,0,0,0.04),0 2.3px 2px rgba(0,0,0,0.03);background:#fff;border:1px dashed transparent;cursor:grab}.lnsDragDrop-isDraggable:hover{border:1px dashed #98A2B3}.lnsDragDrop-isDraggable>.kbnFieldButton__button{cursor:grab}.lnsDragDrop-isDraggable:focus{outline:2px solid currentColor}.lnsDragDrop-isDraggable:focus:focus-visible{outline-style:auto}.lnsDragDrop-isDraggable:focus:not(:focus-visible){outline:none}.lnsDragDrop-isDroppable{border:1px dashed #D3DAE6}.lnsDragDrop-isDropTarget{border:1px dashed #D3DAE6;background-color:rgba(84,179,153,0.1)}.lnsDragDrop-isDropTarget>*{pointer-events:none}.lnsDragDrop-isActiveGroup{background-color:rgba(84,179,153,0.25)}.lnsDragDrop-isActiveDropTarget{z-index:3;background-color:rgba(84,179,153,0.25);border:1px dashed #54B399}.lnsDragDrop-isNotDroppable{opacity:.5}.lnsDragDrop-isReplacing,.lnsDragDrop-isReplacing .lnsLayerPanel__triggerText{text-decoration:line-through}.lnsDragDrop-notCompatible{background-color:#fff9e8;border:1px dashed #D3DAE6}.lnsDragDrop-notCompatible.lnsDragDrop-isActiveDropTarget{background-color:rgba(251,208,17,0.25);border-color:#D6BF57}.lnsDragDrop__container{position:relative;width:100%;height:100%}.lnsDragDrop__container.lnsDragDrop__container-active{z-index:3}.lnsDragDrop__reorderableDrop{position:absolute;width:100%;top:0;height:calc(100% + 8px)}.lnsDragDrop-translatableDrop{transform:translateY(0);transition:transform 150ms ease-in-out;pointer-events:none}.lnsDragDrop-translatableDrop .lnsDragDrop-isDropTarget{box-shadow:0 0.8px 0.8px rgba(0,0,0,0.04),0 2.3px 2px rgba(0,0,0,0.03);background:#fff;border:1px dashed transparent;cursor:grab}.lnsDragDrop-translatableDrop .lnsDragDrop-isActiveDropTarget{z-index:3}.lnsDragDrop-translatableDrag{transform:translateY(0);transition:transform 150ms ease-in-out;position:relative;z-index:1}.lnsDragDrop__keyboardHandler{top:0;position:absolute;width:100%;height:100%;border-radius:6px}.lnsDragDrop__keyboardHandler:focus,.lnsDragDrop__keyboardHandler:focus-within{outline:2px solid currentColor;pointer-events:none;z-index:2}.lnsDragDrop__keyboardHandler:focus:focus-visible,.lnsDragDrop__keyboardHandler:focus-within:focus-visible{outline-style:auto}.lnsDragDrop__keyboardHandler:focus:not(:focus-visible),.lnsDragDrop__keyboardHandler:focus-within:not(:focus-visible){outline:none}.lnsDragDrop-isHidden{opacity:0}.lnsDragDrop-isHidden .lnsDragDrop__keyboardHandler:focus,.lnsDragDrop-isHidden .lnsDragDrop__keyboardHandler:focus-within{animation:none}.lnsDragDrop__extraDrops{opacity:0;visibility:hidden;position:absolute;z-index:2;right:calc(100% + 8px);top:0;transition:opacity 150ms ease-in-out;width:100%}.lnsDragDrop__extraDrops-visible{opacity:1;visibility:visible}.lnsDragDrop__diamondPath{position:absolute;width:30%;top:0;left:-16px;z-index:0}.lnsDragDrop__extraDropWrapper{position:relative;width:100%;height:100%;background:#F5F7FA;padding:4px;border-radius:0}.lnsDragDrop__extraDropWrapper:first-child,.lnsDragDrop__extraDropWrapper:first-child .lnsDragDrop__extraDrop{border-top-left-radius:4px;border-top-right-radius:4px}.lnsDragDrop__extraDropWrapper:last-child,.lnsDragDrop__extraDropWrapper:last-child .lnsDragDrop__extraDrop{border-bottom-left-radius:4px;border-bottom-right-radius:4px}.lnsDragDrop__extraDropWrapper+.lnsDragDrop__extraDropWrapper{margin-top:-1px}.lnsDragDrop__extraDrop{position:relative;height:40px;min-width:112px;color:#007e77;padding:4px}.lnsDragDrop__extraDrop.lnsDragDrop-incompatibleExtraDrop{color:#8a6a0a}\n",""]),e.exports=t},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(41),r=n(331),o=a.__importDefault(n(117)),i=function(e,t){return e.every((function(e,n){return r.equal(e,t[n])}))};t.default=function(e,t){o.default(e,t,i)}},function(e,t){var n=Object.keys;t.equal=function(e,t){if(e===t)return!0;if(!(e instanceof Object&&t instanceof Object))return!1;for(var a=n(e),r=a.length,o=0;o<r;o++)if(!(a[o]in t))return!1;for(o=0;o<r;o++)if(e[a[o]]!==t[a[o]])return!1;return r===n(t).length}},,,,,,,,,,,,,,,,function(e,t,n){switch(window.__kbnThemeTag__){case"v8dark":return n(348);case"v8light":return n(350)}},function(e,t,n){var a=n(66),r=n(349);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);a(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){(t=n(67)(!1)).push([e.i,".lnsDataPanelWrapper{flex:1 0 100%;overflow:hidden;background-color:#000}.lnsDataPanelWrapper__switchSource{position:absolute;right:20px;top:20px}\n",""]),e.exports=t},function(e,t,n){var a=n(66),r=n(351);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);a(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){(t=n(67)(!1)).push([e.i,".lnsDataPanelWrapper{flex:1 0 100%;overflow:hidden;background-color:#F5F7FA}.lnsDataPanelWrapper__switchSource{position:absolute;right:20px;top:20px}\n",""]),e.exports=t},function(e,t,n){(function(e){!function(t){"use strict";function n(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function a(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function r(e,t,n){r.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function o(e,t){o.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function i(e,t){i.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function s(e,t,n){s.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function l(e,t,n){var a=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,a),e}function u(e){var t=void 0===e?"undefined":D(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function c(e,t,n,a,d,p,f){f=f||[];var g=(d=d||[]).slice(0);if(void 0!==p){if(a){if("function"==typeof a&&a(g,p))return;if("object"===(void 0===a?"undefined":D(a))){if(a.prefilter&&a.prefilter(g,p))return;if(a.normalize){var b=a.normalize(g,p,e,t);b&&(e=b[0],t=b[1])}}}g.push(p)}"regexp"===u(e)&&"regexp"===u(t)&&(e=e.toString(),t=t.toString());var h=void 0===e?"undefined":D(e),m=void 0===t?"undefined":D(t),v="undefined"!==h||f&&f[f.length-1].lhs&&f[f.length-1].lhs.hasOwnProperty(p),y="undefined"!==m||f&&f[f.length-1].rhs&&f[f.length-1].rhs.hasOwnProperty(p);if(!v&&y)n(new o(g,t));else if(!y&&v)n(new i(g,e));else if(u(e)!==u(t))n(new r(g,e,t));else if("date"===u(e)&&e-t!=0)n(new r(g,e,t));else if("object"===h&&null!==e&&null!==t)if(f.filter((function(t){return t.lhs===e})).length)e!==t&&n(new r(g,e,t));else{if(f.push({lhs:e,rhs:t}),Array.isArray(e)){var x;for(e.length,x=0;x<e.length;x++)x>=t.length?n(new s(g,x,new i(void 0,e[x]))):c(e[x],t[x],n,a,g,x,f);for(;x<t.length;)n(new s(g,x,new o(void 0,t[x++])))}else{var j=Object.keys(e),_=Object.keys(t);j.forEach((function(r,o){var i=_.indexOf(r);i>=0?(c(e[r],t[r],n,a,g,r,f),_=l(_,i)):c(e[r],void 0,n,a,g,r,f)})),_.forEach((function(e){c(void 0,t[e],n,a,g,e,f)}))}f.length=f.length-1}else e!==t&&("number"===h&&isNaN(e)&&isNaN(t)||n(new r(g,e,t)))}function d(e,t,n,a){return a=a||[],c(e,t,(function(e){e&&a.push(e)}),n),a.length?a:void 0}function p(e,t,n){if(n.path&&n.path.length){var a,r=e[t],o=n.path.length-1;for(a=0;a<o;a++)r=r[n.path[a]];switch(n.kind){case"A":p(r[n.path[a]],n.index,n.item);break;case"D":delete r[n.path[a]];break;case"E":case"N":r[n.path[a]]=n.rhs}}else switch(n.kind){case"A":p(e[t],n.index,n.item);break;case"D":e=l(e,t);break;case"E":case"N":e[t]=n.rhs}return e}function f(e,t,n){if(e&&t&&n&&n.kind){for(var a=e,r=-1,o=n.path?n.path.length-1:0;++r<o;)void 0===a[n.path[r]]&&(a[n.path[r]]="number"==typeof n.path[r]?[]:{}),a=a[n.path[r]];switch(n.kind){case"A":p(n.path?a[n.path[r]]:a,n.index,n.item);break;case"D":delete a[n.path[r]];break;case"E":case"N":a[n.path[r]]=n.rhs}}}function g(e,t,n){if(n.path&&n.path.length){var a,r=e[t],o=n.path.length-1;for(a=0;a<o;a++)r=r[n.path[a]];switch(n.kind){case"A":g(r[n.path[a]],n.index,n.item);break;case"D":case"E":r[n.path[a]]=n.lhs;break;case"N":delete r[n.path[a]]}}else switch(n.kind){case"A":g(e[t],n.index,n.item);break;case"D":case"E":e[t]=n.lhs;break;case"N":e=l(e,t)}return e}function b(e){return"color: "+S[e].color+"; font-weight: bold"}function h(e,t,n,a){var r=d(e,t);try{a?n.groupCollapsed("diff"):n.group("diff")}catch(e){n.log("diff")}r?r.forEach((function(e){var t=e.kind,a=function(e){var t=e.kind,n=e.path,a=e.lhs,r=e.rhs,o=e.index,i=e.item;switch(t){case"E":return[n.join("."),a,"→",r];case"N":return[n.join("."),r];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+o+"]",i];default:return[]}}(e);n.log.apply(n,["%c "+S[t].text,b(t)].concat(P(a)))})):n.log("—— no diff ——");try{n.groupEnd()}catch(e){n.log("—— diff end —— ")}}function m(e,t,n,a){switch(void 0===e?"undefined":D(e)){case"object":return"function"==typeof e[a]?e[a].apply(e,P(n)):e[a];case"function":return e(t);default:return e}}function v(e,t){var n=t.logger,a=t.actionTransformer,r=t.titleFormatter,o=void 0===r?function(e){var t=e.timestamp,n=e.duration;return function(e,a,r){var o=["action"];return o.push("%c"+String(e.type)),t&&o.push("%c@ "+a),n&&o.push("%c(in "+r.toFixed(2)+" ms)"),o.join(" ")}}(t):r,i=t.collapsed,s=t.colors,l=t.level,u=t.diff,c=void 0===t.titleFormatter;e.forEach((function(r,d){var p=r.started,f=r.startedTime,g=r.action,b=r.prevState,v=r.error,y=r.took,x=r.nextState,j=e[d+1];j&&(x=j.prevState,y=j.started-p);var _=a(g),O="function"==typeof i?i((function(){return x}),g,r):i,D=w(f),P=s.title?"color: "+s.title(_)+";":"",k=["color: gray; font-weight: lighter;"];k.push(P),t.timestamp&&k.push("color: gray; font-weight: lighter;"),t.duration&&k.push("color: gray; font-weight: lighter;");var S=o(_,D,y);try{O?s.title&&c?n.groupCollapsed.apply(n,["%c "+S].concat(k)):n.groupCollapsed(S):s.title&&c?n.group.apply(n,["%c "+S].concat(k)):n.group(S)}catch(e){n.log(S)}var L=m(l,_,[b],"prevState"),C=m(l,_,[_],"action"),I=m(l,_,[v,b],"error"),M=m(l,_,[x],"nextState");if(L)if(s.prevState){var E="color: "+s.prevState(b)+"; font-weight: bold";n[L]("%c prev state",E,b)}else n[L]("prev state",b);if(C)if(s.action){var T="color: "+s.action(_)+"; font-weight: bold";n[C]("%c action    ",T,_)}else n[C]("action    ",_);if(v&&I)if(s.error){var A="color: "+s.error(v,b)+"; font-weight: bold;";n[I]("%c error     ",A,v)}else n[I]("error     ",v);if(M)if(s.nextState){var z="color: "+s.nextState(x)+"; font-weight: bold";n[M]("%c next state",z,x)}else n[M]("next state",x);u&&h(b,x,n,O);try{n.groupEnd()}catch(e){n.log("—— log end ——")}}))}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},L,e),n=t.logger,a=t.stateTransformer,r=t.errorTransformer,o=t.predicate,i=t.logErrors,s=t.diffPredicate;if(void 0===n)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var l=[];return function(e){var n=e.getState;return function(e){return function(u){if("function"==typeof o&&!o(n,u))return e(u);var c={};l.push(c),c.started=O.now(),c.startedTime=new Date,c.prevState=a(n()),c.action=u;var d=void 0;if(i)try{d=e(u)}catch(e){c.error=r(e)}else d=e(u);c.took=O.now()-c.started,c.nextState=a(n());var p=t.diff&&"function"==typeof s?s(n,u):t.diff;if(v(l,Object.assign({},t,{diff:p})),l.length=0,c.error)throw c.error;return d}}}}var x,j,_=function(e,t){return function(e,t){return new Array(t+1).join(e)}("0",t-e.toString().length)+e},w=function(e){return _(e.getHours(),2)+":"+_(e.getMinutes(),2)+":"+_(e.getSeconds(),2)+"."+_(e.getMilliseconds(),3)},O="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},k=[];x="object"===(void 0===e?"undefined":D(e))&&e?e:"undefined"!=typeof window?window:{},(j=x.DeepDiff)&&k.push((function(){void 0!==j&&x.DeepDiff===d&&(x.DeepDiff=j,j=void 0)})),n(r,a),n(o,a),n(i,a),n(s,a),Object.defineProperties(d,{diff:{value:d,enumerable:!0},observableDiff:{value:c,enumerable:!0},applyDiff:{value:function(e,t,n){e&&t&&c(e,t,(function(a){n&&!n(e,t,a)||f(e,t,a)}))},enumerable:!0},applyChange:{value:f,enumerable:!0},revertChange:{value:function(e,t,n){if(e&&t&&n&&n.kind){var a,r,o=e;for(r=n.path.length-1,a=0;a<r;a++)void 0===o[n.path[a]]&&(o[n.path[a]]={}),o=o[n.path[a]];switch(n.kind){case"A":g(o[n.path[a]],n.index,n.item);break;case"D":case"E":o[n.path[a]]=n.lhs;break;case"N":delete o[n.path[a]]}}},enumerable:!0},isConflict:{value:function(){return void 0!==j},enumerable:!0},noConflict:{value:function(){return k&&(k.forEach((function(e){e()})),k=null),d},enumerable:!0}});var S={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},L={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,n=e.getState;return"function"==typeof t||"function"==typeof n?y()({dispatch:t,getState:n}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};t.defaults=L,t.createLogger=y,t.logger=C,t.default=C,Object.defineProperty(t,"__esModule",{value:!0})}(t)}).call(this,n(353))},function(e,t,n){e.exports=n(22)(158)},function(e,t,n){"use strict";var a=n(72),r=n(133);t.__esModule=!0,t.default=void 0;var o=r(n(6)),i=(a(n(355)),n(79)),s=a(n(105));t.default=function(e){var t=e.store,n=e.context,a=e.children,r=(0,o.useMemo)((function(){var e=new s.default(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),l=(0,o.useMemo)((function(){return t.getState()}),[t]);(0,o.useEffect)((function(){var e=r.subscription;return e.trySubscribe(),l!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[r,l]);var u=n||i.ReactReduxContext;return o.default.createElement(u.Provider,{value:r},a)}},function(e,t,n){e.exports=n(22)(7)},function(e,t,n){e.exports=n(22)(232)},function(e,t,n){e.exports=n(22)(383)},function(e,t,n){"use strict";var a=n(72);t.__esModule=!0,t.createConnect=g,t.default=void 0;var r=a(n(21)),o=a(n(106)),i=a(n(135)),s=a(n(137)),l=a(n(359)),u=a(n(361)),c=a(n(362)),d=a(n(363));function p(e,t,n){for(var a=t.length-1;a>=0;a--){var r=t[a](e);if(r)return r}return function(t,a){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+a.wrappedComponentName+".")}}function f(e,t){return e===t}function g(e){var t=void 0===e?{}:e,n=t.connectHOC,a=void 0===n?i.default:n,g=t.mapStateToPropsFactories,b=void 0===g?u.default:g,h=t.mapDispatchToPropsFactories,m=void 0===h?l.default:h,v=t.mergePropsFactories,y=void 0===v?c.default:v,x=t.selectorFactory,j=void 0===x?d.default:x;return function(e,t,n,i){void 0===i&&(i={});var l=i,u=l.pure,c=void 0===u||u,d=l.areStatesEqual,g=void 0===d?f:d,h=l.areOwnPropsEqual,v=void 0===h?s.default:h,x=l.areStatePropsEqual,_=void 0===x?s.default:x,w=l.areMergedPropsEqual,O=void 0===w?s.default:w,D=(0,o.default)(l,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),P=p(e,b,"mapStateToProps"),k=p(t,m,"mapDispatchToProps"),S=p(n,y,"mergeProps");return a(j,(0,r.default)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:P,initMapDispatchToProps:k,initMergeProps:S,pure:c,areStatesEqual:g,areOwnPropsEqual:v,areStatePropsEqual:_,areMergedPropsEqual:O},D))}}var b=g();t.default=b},function(e,t,n){"use strict";t.__esModule=!0,t.whenMapDispatchToPropsIsFunction=o,t.whenMapDispatchToPropsIsMissing=i,t.whenMapDispatchToPropsIsObject=s,t.default=void 0;var a=n(91),r=n(138);function o(e){return"function"==typeof e?(0,r.wrapMapToPropsFunc)(e,"mapDispatchToProps"):void 0}function i(e){return e?void 0:(0,r.wrapMapToPropsConstant)((function(e){return{dispatch:e}}))}function s(e){return e&&"object"==typeof e?(0,r.wrapMapToPropsConstant)((function(t){return(0,a.bindActionCreators)(e,t)})):void 0}var l=[o,i,s];t.default=l},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){if("object"!=typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}},function(e,t,n){"use strict";t.__esModule=!0,t.whenMapStateToPropsIsFunction=r,t.whenMapStateToPropsIsMissing=o,t.default=void 0;var a=n(138);function r(e){return"function"==typeof e?(0,a.wrapMapToPropsFunc)(e,"mapStateToProps"):void 0}function o(e){return e?void 0:(0,a.wrapMapToPropsConstant)((function(){return{}}))}var i=[r,o];t.default=i},function(e,t,n){"use strict";var a=n(72);t.__esModule=!0,t.defaultMergeProps=o,t.wrapMergePropsFunc=i,t.whenMergePropsIsFunction=s,t.whenMergePropsIsOmitted=l,t.default=void 0;var r=a(n(21));function o(e,t,n){return(0,r.default)({},n,{},e,{},t)}function i(e){return function(t,n){n.displayName;var a,r=n.pure,o=n.areMergedPropsEqual,i=!1;return function(t,n,s){var l=e(t,n,s);return i?r&&o(l,a)||(a=l):(i=!0,a=l),a}}}function s(e){return"function"==typeof e?i(e):void 0}function l(e){return e?void 0:function(){return o}}a(n(139));var u=[s,l];t.default=u},function(e,t,n){"use strict";var a=n(72);t.__esModule=!0,t.impureFinalPropsSelectorFactory=o,t.pureFinalPropsSelectorFactory=i,t.default=function(e,t){var n=t.initMapStateToProps,a=t.initMapDispatchToProps,s=t.initMergeProps,l=(0,r.default)(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),u=n(e,l),c=a(e,l),d=s(e,l);return(l.pure?i:o)(u,c,d,e,l)};var r=a(n(106));function o(e,t,n,a){return function(r,o){return n(e(r,o),t(a,o),o)}}function i(e,t,n,a,r){var o,i,s,l,u,c=r.areStatesEqual,d=r.areOwnPropsEqual,p=r.areStatePropsEqual,f=!1;return function(r,g){return f?function(r,f){var g,b,h=!d(f,i),m=!c(r,o);return o=r,i=f,h&&m?(s=e(o,i),t.dependsOnOwnProps&&(l=t(a,i)),u=n(s,l,i)):h?(e.dependsOnOwnProps&&(s=e(o,i)),t.dependsOnOwnProps&&(l=t(a,i)),u=n(s,l,i)):m?(g=e(o,i),b=!p(g,s),s=g,b&&(u=n(s,l,i)),u):u}(r,g):(s=e(o=r,i=g),l=t(a,i),u=n(s,l,i),f=!0,u)}}a(n(364))},function(e,t,n){"use strict";var a=n(72);t.__esModule=!0,t.default=function(e,t,n,a){o(e,"mapStateToProps",a),o(t,"mapDispatchToProps",a),o(n,"mergeProps",a)};var r=a(n(140));function o(e,t,n){if(!e)throw new Error("Unexpected value for "+t+" in "+n+".");"mapStateToProps"!==t&&"mapDispatchToProps"!==t||Object.prototype.hasOwnProperty.call(e,"dependsOnOwnProps")||(0,r.default)("The selector for "+t+" of "+n+" did not specify a value for dependsOnOwnProps.")}},function(e,t,n){"use strict";t.__esModule=!0,t.createDispatchHook=o,t.useDispatch=void 0;var a=n(79),r=n(141);function o(e){void 0===e&&(e=a.ReactReduxContext);var t=e===a.ReactReduxContext?r.useStore:(0,r.createStoreHook)(e);return function(){return t().dispatch}}var i=o();t.useDispatch=i},function(e,t,n){"use strict";var a=n(72);t.__esModule=!0,t.createSelectorHook=c,t.useSelector=void 0;var r=n(6),o=n(142),i=a(n(105)),s=n(136),l=n(79),u=function(e,t){return e===t};function c(e){void 0===e&&(e=l.ReactReduxContext);var t=e===l.ReactReduxContext?o.useReduxContext:function(){return(0,r.useContext)(e)};return function(e,n){void 0===n&&(n=u);var a=t();return function(e,t,n,a){var o,l=(0,r.useReducer)((function(e){return e+1}),0)[1],u=(0,r.useMemo)((function(){return new i.default(n,a)}),[n,a]),c=(0,r.useRef)(),d=(0,r.useRef)(),p=(0,r.useRef)();try{o=e!==d.current||c.current?e(n.getState()):p.current}catch(e){throw c.current&&(e.message+="\nThe error may be correlated with this previous error:\n"+c.current.stack+"\n\n"),e}return(0,s.useIsomorphicLayoutEffect)((function(){d.current=e,p.current=o,c.current=void 0})),(0,s.useIsomorphicLayoutEffect)((function(){function e(){try{var e=d.current(n.getState());if(t(e,p.current))return;p.current=e}catch(e){c.current=e}l({})}return u.onStateChange=e,u.trySubscribe(),e(),function(){return u.tryUnsubscribe()}}),[n,u]),o}(e,n,a.store,a.subscription)}}var d=c();t.useSelector=d},function(e,t,n){"use strict";t.__esModule=!0,t.unstable_batchedUpdates=void 0;var a=n(36);t.unstable_batchedUpdates=a.unstable_batchedUpdates},function(e,t,n){var a,r=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__generator||function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},i=this&&this.__spreadArray||function(e,t){for(var n=0,a=t.length,r=e.length;n<a;n++,r++)e[r]=t[n];return e},s=Object.create,l=Object.defineProperty,u=Object.defineProperties,c=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,g=Object.getPrototypeOf,b=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,m=function(e,t,n){return t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},v=function(e,t){for(var n in t||(t={}))b.call(t,n)&&m(e,n,t[n]);if(f)for(var a=0,r=f(t);a<r.length;a++)h.call(t,n=r[a])&&m(e,n,t[n]);return e},y=function(e,t){return u(e,d(t))},x=function(e){return l(e,"__esModule",{value:!0})},j=function(e,t,n){if(t&&"object"==typeof t||"function"==typeof t)for(var a=function(a){b.call(e,a)||"default"===a||l(e,a,{get:function(){return t[a]},enumerable:!(n=c(t,a))||n.enumerable})},r=0,o=p(t);r<o.length;r++)a(o[r]);return e},_=function(e){return j(x(l(null!=e?s(g(e)):{},"default",e&&e.__esModule&&"default"in e?{get:function(){return e.default},enumerable:!0}:{value:e,enumerable:!0})),e)};x(t),function(e,t){for(var n in t)l(e,n,{get:t[n],enumerable:!0})}(t,{MiddlewareArray:function(){return T},configureStore:function(){return B},createAction:function(){return V},createAsyncThunk:function(){return se},createDraftSafeSelector:function(){return S},createEntityAdapter:function(){return te},createImmutableStateInvariantMiddleware:function(){return z},createNextState:function(){return O.default},createReducer:function(){return U},createSelector:function(){return D.createSelector},createSerializableStateInvariantMiddleware:function(){return N},createSlice:function(){return Y},current:function(){return O.current},findNonSerializableValue:function(){return R},freeze:function(){return O.freeze},getDefaultMiddleware:function(){return W},getType:function(){return G},isAllOf:function(){return de},isAnyOf:function(){return ce},isAsyncThunkAction:function(){return ve},isDraft:function(){return O.isDraft},isFulfilled:function(){return me},isImmutableDefault:function(){return A},isPending:function(){return ge},isPlain:function(){return F},isPlainObject:function(){return M},isRejected:function(){return be},isRejectedWithValue:function(){return he},miniSerializeError:function(){return ie},nanoid:function(){return ne},original:function(){return O.original},unwrapResult:function(){return le}});var w=_(n(85));j(t,_(n(91)));var O=_(n(85)),D=_(n(143)),P=_(n(85)),k=_(n(143)),S=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=k.createSelector.apply(void 0,e),a=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return n.apply(void 0,i([(0,P.isDraft)(e)?(0,P.current)(e):e],t))};return a},L=_(n(91)),C=_(n(91)),I="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?C.compose:C.compose.apply(null,arguments)};function M(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window;var E=_(n(370)),T=function(e){function t(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];var r=e.apply(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return r(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,i([void 0],e[0].concat(this)))):new(t.bind.apply(t,i([void 0],e.concat(this))))},t}(Array);function A(e){return"object"!=typeof e||null==e||Object.isFrozen(e)}function z(e){return void 0===e&&(e={}),function(){return function(e){return function(t){return e(t)}}}}function F(e){var t=typeof e;return"undefined"===t||null===e||"string"===t||"boolean"===t||"number"===t||Array.isArray(e)||M(e)}function R(e,t,n,a,r){var o;if(void 0===t&&(t=""),void 0===n&&(n=F),void 0===r&&(r=[]),!n(e))return{keyPath:t||"<root>",value:e};if("object"!=typeof e||null===e)return!1;for(var i=null!=a?a(e):Object.entries(e),s=r.length>0,l=0,u=i;l<u.length;l++){var c=u[l],d=c[0],p=c[1],f=t?t+"."+d:d;if(!(s&&r.indexOf(f)>=0)){if(!n(p))return{keyPath:f,value:p};if("object"==typeof p&&(o=R(p,f,n,a,r)))return o}}return!1}function N(e){return void 0===e&&(e={}),function(){return function(e){return function(t){return e(t)}}}}function W(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,a=new T;return n&&a.push("boolean"==typeof n?E.default:E.default.withExtraArgument(n.extraArgument)),a}function B(e){var t,n=function(e){return W(e)},a=e||{},r=a.reducer,o=void 0===r?void 0:r,s=a.middleware,l=void 0===s?n():s,u=a.devTools,c=void 0===u||u,d=a.preloadedState,p=void 0===d?void 0:d,f=a.enhancers,g=void 0===f?void 0:f;if("function"==typeof o)t=o;else{if(!M(o))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=(0,L.combineReducers)(o)}var b=l;"function"==typeof b&&(b=b(n));var h=L.applyMiddleware.apply(void 0,b),m=L.compose;c&&(m=I(v({trace:!1},"object"==typeof c&&c)));var y=[h];Array.isArray(g)?y=i([h],g):"function"==typeof g&&(y=g(y));var x=m.apply(void 0,y);return(0,L.createStore)(t,p,x)}function V(e,t){function n(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];if(t){var r=t.apply(void 0,n);if(!r)throw new Error("prepareAction did not return an object");return v(v({type:e,payload:r.payload},"meta"in r&&{meta:r.meta}),"error"in r&&{error:r.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function q(e){return["type","payload","error","meta"].indexOf(e)>-1}function G(e){return""+e}var H=_(n(85));function $(e){var t,n={},a=[],r={addCase:function(e,t){var a="string"==typeof e?e:e.type;if(a in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[a]=t,r},addMatcher:function(e,t){return a.push({matcher:e,reducer:t}),r},addDefaultCase:function(e){return t=e,r}};return e(r),[n,a,t]}function U(e,t,n,a){void 0===n&&(n=[]);var r="function"==typeof t?$(t):[t,n,a],o=r[0],s=r[1],l=r[2],u=(0,H.default)(e,(function(){}));return function(e,t){void 0===e&&(e=u);var n=i([o[t.type]],s.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[l]),n.reduce((function(e,n){if(n){var a;if((0,H.isDraft)(e))return void 0===(a=n(e,t))?e:a;if((0,H.isDraftable)(e))return(0,H.default)(e,(function(e){return n(e,t)}));if(void 0===(a=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return a}return e}),e)}}function Y(e){var t=e.name,n=e.initialState;if(!t)throw new Error("`name` is a required option for createSlice");var a=e.reducers||{},r="function"==typeof e.extraReducers?$(e.extraReducers):[e.extraReducers],o=r[0],i=void 0===o?{}:o,s=r[1],l=void 0===s?[]:s,u=r[2],c=void 0===u?void 0:u,d=Object.keys(a),p={},f={},g={};d.forEach((function(e){var n,r,o=a[e],i=t+"/"+e;"reducer"in o?(n=o.reducer,r=o.prepare):n=o,p[e]=n,f[i]=n,g[e]=r?V(i,r):V(i)}));var b=U(n,v(v({},i),f),l,c);return{name:t,reducer:b,actions:g,caseReducers:p}}var K=_(n(85));function Q(e){return function(t,n){var a=function(t){var a;M(a=n)&&"string"==typeof a.type&&Object.keys(a).every(q)?e(n.payload,t):e(n,t)};return(0,K.isDraft)(t)?(a(t),t):(0,K.default)(t,a)}}function Z(e,t){return t(e)}function X(e){return Array.isArray(e)||(e=Object.values(e)),e}function J(e,t,n){for(var a=[],r=[],o=0,i=e=X(e);o<i.length;o++){var s=i[o],l=Z(s,t);l in n.entities?r.push({id:l,changes:s}):a.push(s)}return[a,r]}function ee(e){function t(t,n){var a=Z(t,e);a in n.entities||(n.ids.push(a),n.entities[a]=t)}function n(e,n){for(var a=0,r=e=X(e);a<r.length;a++)t(r[a],n)}function a(t,n){var a=Z(t,e);a in n.entities||n.ids.push(a),n.entities[a]=t}function r(e,t){var n=!1;e.forEach((function(e){e in t.entities&&(delete t.entities[e],n=!0)})),n&&(t.ids=t.ids.filter((function(e){return e in t.entities})))}function o(t,n){var a={},r={};t.forEach((function(e){e.id in n.entities&&(r[e.id]={id:e.id,changes:v(v({},r[e.id]?r[e.id].changes:null),e.changes)})})),(t=Object.values(r)).length>0&&t.filter((function(t){return function(t,n,a){var r=Object.assign({},a.entities[n.id],n.changes),o=Z(r,e),i=o!==n.id;return i&&(t[n.id]=o,delete a.entities[n.id]),a.entities[o]=r,i}(a,t,n)})).length>0&&(n.ids=n.ids.map((function(e){return a[e]||e})))}function i(t,a){var r=J(t,e,a),i=r[0];o(r[1],a),n(i,a)}return{removeAll:(s=function(e){Object.assign(e,{ids:[],entities:{}})},l=Q((function(e,t){return s(t)})),function(e){return l(e,void 0)}),addOne:Q(t),addMany:Q(n),setOne:Q(a),setMany:Q((function(e,t){for(var n=0,r=e=X(e);n<r.length;n++)a(r[n],t)})),setAll:Q((function(e,t){e=X(e),t.ids=[],t.entities={},n(e,t)})),updateOne:Q((function(e,t){return o([e],t)})),updateMany:Q(o),upsertOne:Q((function(e,t){return i([e],t)})),upsertMany:Q(i),removeOne:Q((function(e,t){return r([e],t)})),removeMany:Q(r)};var s,l}function te(e){void 0===e&&(e={});var t=v({sortComparer:!1,selectId:function(e){return e.id}},e),n=t.selectId,a=t.sortComparer,r={getInitialState:function(e){return void 0===e&&(e={}),Object.assign({ids:[],entities:{}},e)}},o={getSelectors:function(e){var t=function(e){return e.ids},n=function(e){return e.entities},a=S(t,n,(function(e,t){return e.map((function(e){return t[e]}))})),r=function(e,t){return t},o=function(e,t){return e[t]},i=S(t,(function(e){return e.length}));if(!e)return{selectIds:t,selectEntities:n,selectAll:a,selectTotal:i,selectById:S(n,r,o)};var s=S(e,n);return{selectIds:S(e,t),selectEntities:s,selectAll:S(e,a),selectTotal:S(e,i),selectById:S(s,r,o)}}},i=a?function(e,t){var n=ee(e);function a(t,n){var a=(t=X(t)).filter((function(t){return!(Z(t,e)in n.entities)}));0!==a.length&&s(a,n)}function r(e,t){0!==(e=X(e)).length&&s(e,t)}function o(t,n){var a=[];t.forEach((function(t){return function(t,n,a){if(!(n.id in a.entities))return!1;var r=Object.assign({},a.entities[n.id],n.changes),o=Z(r,e);return delete a.entities[n.id],t.push(r),o!==n.id}(a,t,n)})),0!==a.length&&s(a,n)}function i(t,n){var r=J(t,e,n),i=r[0];o(r[1],n),a(i,n)}function s(n,a){n.forEach((function(t){a.entities[e(t)]=t}));var r=Object.values(a.entities);r.sort(t);var o=r.map(e);(function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(e[n]!==t[n])return!1;return!0})(a.ids,o)||(a.ids=o)}return{removeOne:n.removeOne,removeMany:n.removeMany,removeAll:n.removeAll,addOne:Q((function(e,t){return a([e],t)})),updateOne:Q((function(e,t){return o([e],t)})),upsertOne:Q((function(e,t){return i([e],t)})),setOne:Q((function(e,t){return r([e],t)})),setMany:Q(r),setAll:Q((function(e,t){e=X(e),t.entities={},t.ids=[],a(e,t)})),addMany:Q(a),updateMany:Q(o),upsertMany:Q(i)}}(n,a):ee(n);return v(v(v({selectId:n,sortComparer:a},r),o),i)}var ne=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},ae=["name","message","stack","code"],re=function(e,t){this.payload=e,this.meta=t},oe=function(e,t){this.payload=e,this.meta=t},ie=function(e){if("object"==typeof e&&null!==e){for(var t={},n=0,a=ae;n<a.length;n++){var r=a[n];"string"==typeof e[r]&&(t[r]=e[r])}return t}return{message:String(e)}};function se(e,t,n){var a=V(e+"/fulfilled",(function(e,t,n,a){return{payload:e,meta:y(v({},a||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),r=V(e+"/pending",(function(e,t,n){return{payload:void 0,meta:y(v({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),i=V(e+"/rejected",(function(e,t,a,r,o){return{payload:r,error:(n&&n.serializeError||ie)(e||"Rejected"),meta:y(v({},o||{}),{arg:a,requestId:t,rejectedWithValue:!!r,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),s="undefined"!=typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){}}}return e.prototype.abort=function(){},e}();return Object.assign((function(e){return function(l,u,c){var d,p,f=(null!=(d=null==n?void 0:n.idGenerator)?d:ne)(),g=new s,b=new Promise((function(e,t){return g.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:p||"Aborted"})}))})),h=!1,m=function(){return s=this,d=function(){var s,d,p;return o(this,(function(o){switch(o.label){case 0:if(o.trys.push([0,2,,3]),n&&n.condition&&!1===n.condition(e,{getState:u,extra:c}))throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return h=!0,l(r(f,e,null==(s=null==n?void 0:n.getPendingMeta)?void 0:s.call(n,{requestId:f,arg:e},{getState:u,extra:c}))),[4,Promise.race([b,Promise.resolve(t(e,{dispatch:l,getState:u,extra:c,requestId:f,signal:g.signal,rejectWithValue:function(e,t){return new re(e,t)},fulfillWithValue:function(e,t){return new oe(e,t)}})).then((function(t){if(t instanceof re)throw t;return t instanceof oe?a(t.payload,f,e,t.meta):a(t,f,e)}))])];case 1:return d=o.sent(),[3,3];case 2:return p=o.sent(),d=p instanceof re?i(null,f,e,p.payload,p.meta):i(p,f,e),[3,3];case 3:return n&&!n.dispatchConditionRejection&&i.match(d)&&d.meta.condition||l(d),[2,d]}}))},new Promise((function(e,t){var n=function(e){try{r(d.next(e))}catch(e){t(e)}},a=function(e){try{r(d.throw(e))}catch(e){t(e)}},r=function(t){return t.done?e(t.value):Promise.resolve(t.value).then(n,a)};r((d=d.apply(s,null)).next())}));var s,d}();return Object.assign(m,{abort:function(e){h&&(p=e,g.abort())},requestId:f,arg:e,unwrap:function(){return m.then(le)}})}}),{pending:r,rejected:i,fulfilled:a,typePrefix:e})}function le(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var ue=function(e,t){return(n=e)&&"function"==typeof n.match?e.match(t):e(t);var n};function ce(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.some((function(e){return ue(e,t)}))}}function de(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.every((function(e){return ue(e,t)}))}}function pe(e,t){if(!e||!e.meta)return!1;var n="string"==typeof e.meta.requestId,a=t.indexOf(e.meta.requestStatus)>-1;return n&&a}function fe(e){return"function"==typeof e[0]&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function ge(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return pe(e,["pending"])}:fe(e)?function(t){var n=e.map((function(e){return e.pending}));return ce.apply(void 0,n)(t)}:ge()(e[0])}function be(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return pe(e,["rejected"])}:fe(e)?function(t){var n=e.map((function(e){return e.rejected}));return ce.apply(void 0,n)(t)}:be()(e[0])}function he(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=function(e){return e&&e.meta&&e.meta.rejectedWithValue};return 0===e.length||fe(e)?function(t){return de(be.apply(void 0,e),n)(t)}:he()(e[0])}function me(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return pe(e,["fulfilled"])}:fe(e)?function(t){var n=e.map((function(e){return e.fulfilled}));return ce.apply(void 0,n)(t)}:me()(e[0])}function ve(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return pe(e,["pending","fulfilled","rejected"])}:fe(e)?function(t){for(var n=[],a=0,r=e;a<r.length;a++){var o=r[a];n.push(o.pending,o.rejected,o.fulfilled)}return ce.apply(void 0,n)(t)}:ve()(e[0])}(0,w.enableES5)()},function(e,t){function n(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function a(e){return!!e&&!!e[Y]}function r(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Q}(e)||Array.isArray(e)||!!e[U]||!!e.constructor[U]||d(e)||p(e))}function o(e,t,n){void 0===n&&(n=!1),0===i(e)?(n?Object.keys:Z)(e).forEach((function(a){n&&"symbol"==typeof a||t(a,e[a],e)})):e.forEach((function(n,a){return t(a,n,e)}))}function i(e){var t=e[Y];return t?t.t>3?t.t-4:t.t:Array.isArray(e)?1:d(e)?2:p(e)?3:0}function s(e,t){return 2===i(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function l(e,t){return 2===i(e)?e.get(t):e[t]}function u(e,t,n){var a=i(e);2===a?e.set(t,n):3===a?(e.delete(t),e.add(n)):e[t]=n}function c(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function d(e){return q&&e instanceof Map}function p(e){return G&&e instanceof Set}function f(e){return e.i||e.u}function g(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=X(e);delete t[Y];for(var n=Z(t),a=0;a<n.length;a++){var r=n[a],o=t[r];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[r]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[r]})}return Object.create(Object.getPrototypeOf(e),t)}function b(e,t){return void 0===t&&(t=!1),m(e)||a(e)||!r(e)||(i(e)>1&&(e.set=e.add=e.clear=e.delete=h),Object.freeze(e),t&&o(e,(function(e,t){return b(t,!0)}),!0)),e}function h(){n(2)}function m(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function v(e){var t=J[e];return t||n(18,e),t}function y(e,t){J[e]||(J[e]=t)}function x(){return B}function j(e,t){t&&(v("Patches"),e.o=[],e.v=[],e.s=t)}function _(e){w(e),e.p.forEach(D),e.p=null}function w(e){e===B&&(B=e.l)}function O(e){return B={p:[],l:B,h:e,_:!0,m:0}}function D(e){var t=e[Y];0===t.t||1===t.t?t.j():t.O=!0}function P(e,t){t.m=t.p.length;var a=t.p[0],o=void 0!==e&&e!==a;return t.h.S||v("ES5").M(t,e,o),o?(a[Y].P&&(_(t),n(4)),r(e)&&(e=k(t,e),t.l||L(t,e)),t.o&&v("Patches").g(a[Y],e,t.o,t.v)):e=k(t,a,[]),_(t),t.o&&t.s(t.o,t.v),e!==$?e:void 0}function k(e,t,n){if(m(t))return t;var a=t[Y];if(!a)return o(t,(function(r,o){return S(e,a,t,r,o,n)}),!0),t;if(a.A!==e)return t;if(!a.P)return L(e,a.u,!0),a.u;if(!a.R){a.R=!0,a.A.m--;var r=4===a.t||5===a.t?a.i=g(a.k):a.i;o(3===a.t?new Set(r):r,(function(t,o){return S(e,a,r,t,o,n)})),L(e,r,!1),n&&e.o&&v("Patches").F(a,n,e.o,e.v)}return a.i}function S(e,t,n,o,i,l){if(a(i)){var c=k(e,i,l&&t&&3!==t.t&&!s(t.D,o)?l.concat(o):void 0);if(u(n,o,c),!a(c))return;e._=!1}if(r(i)&&!m(i)){if(!e.h.K&&e.m<1)return;k(e,i),t&&t.A.l||L(e,i)}}function L(e,t,n){void 0===n&&(n=!1),e.h.K&&e._&&b(t,n)}function C(e,t){var n=e[Y];return(n?f(n):e)[t]}function I(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var a=Object.getOwnPropertyDescriptor(n,t);if(a)return a;n=Object.getPrototypeOf(n)}}function M(e){e.P||(e.P=!0,e.l&&M(e.l))}function E(e){e.i||(e.i=g(e.u))}function T(e,t,n){var a=d(t)?v("MapSet").$(t,n):p(t)?v("MapSet").C(t,n):e.S?function(e,t){var n=Array.isArray(e),a={t:n?1:0,A:t?t.A:x(),P:!1,R:!1,D:{},l:t,u:e,k:null,i:null,j:null,I:!1},r=a,o=ee;n&&(r=[a],o=te);var i=Proxy.revocable(r,o),s=i.revoke,l=i.proxy;return a.k=l,a.j=s,l}(t,n):v("ES5").J(t,n);return(n?n.A:x()).p.push(a),a}function A(e){return a(e)||n(22,e),function e(t){if(!r(t))return t;var n,a=t[Y],s=i(t);if(a){if(!a.P&&(a.t<4||!v("ES5").N(a)))return a.u;a.R=!0,n=z(t,s),a.R=!1}else n=z(t,s);return o(n,(function(t,r){a&&l(a.u,t)===r||u(n,t,e(r))})),3===s?new Set(n):n}(e)}function z(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return g(e)}function F(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){return ee.get(this[Y],e)},set:function(t){ee.set(this[Y],e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var a=e[t][Y];if(!a.P)switch(a.t){case 5:r(a)&&M(a);break;case 4:n(a)&&M(a)}}}function n(e){for(var t=e.u,n=e.k,a=Z(n),r=a.length-1;r>=0;r--){var o=a[r];if(o!==Y){var i=t[o];if(void 0===i&&!s(t,o))return!0;var l=n[o],u=l&&l[Y];if(u?u.u!==i:!c(l,i))return!0}}var d=!!t[Y];return a.length!==Z(t).length+(d?0:1)}function r(e){var t=e.k;if(t.length!==e.u.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!n||n.get)}var i={};y("ES5",{J:function(t,n){var a=Array.isArray(t),r=function(t,n){if(t){for(var a=Array(n.length),r=0;r<n.length;r++)Object.defineProperty(a,""+r,e(r,!0));return a}var o=X(n);delete o[Y];for(var i=Z(o),s=0;s<i.length;s++){var l=i[s];o[l]=e(l,t||!!o[l].enumerable)}return Object.create(Object.getPrototypeOf(n),o)}(a,t),o={t:a?5:4,A:n?n.A:x(),P:!1,R:!1,D:{},l:n,u:t,k:r,i:null,O:!1,I:!1};return Object.defineProperty(r,Y,{value:o,writable:!0}),r},M:function(e,n,i){i?a(n)&&n[Y].A===e&&t(e.p):(e.o&&function e(t){if(t&&"object"==typeof t){var n=t[Y];if(n){var a=n.u,i=n.k,l=n.D,u=n.t;if(4===u)o(i,(function(t){t!==Y&&(void 0!==a[t]||s(a,t)?l[t]||e(i[t]):(l[t]=!0,M(n)))})),o(a,(function(e){void 0!==i[e]||s(i,e)||(l[e]=!1,M(n))}));else if(5===u){if(r(n)&&(M(n),l.length=!0),i.length<a.length)for(var c=i.length;c<a.length;c++)l[c]=!1;else for(var d=a.length;d<i.length;d++)l[d]=!0;for(var p=Math.min(i.length,a.length),f=0;f<p;f++)void 0===l[f]&&e(i[f])}}}}(e.p[0]),t(e.p))},N:function(e){return 4===e.t?n(e):r(e)}})}function R(){function e(t){if(!r(t))return t;if(Array.isArray(t))return t.map(e);if(d(t))return new Map(Array.from(t.entries()).map((function(t){return[t[0],e(t[1])]})));if(p(t))return new Set(Array.from(t).map(e));var n=Object.create(Object.getPrototypeOf(t));for(var a in t)n[a]=e(t[a]);return s(t,U)&&(n[U]=t[U]),n}function t(t){return a(t)?e(t):t}var u="add";y("Patches",{W:function(t,a){return a.forEach((function(a){for(var r=a.path,o=a.op,s=t,c=0;c<r.length-1;c++){var d=i(s),p=""+r[c];0!==d&&1!==d||"__proto__"!==p&&"constructor"!==p||n(24),"function"==typeof s&&"prototype"===p&&n(24),"object"!=typeof(s=l(s,p))&&n(15,r.join("/"))}var f=i(s),g=e(a.value),b=r[r.length-1];switch(o){case"replace":switch(f){case 2:return s.set(b,g);case 3:n(16);default:return s[b]=g}case u:switch(f){case 1:return s.splice(b,0,g);case 2:return s.set(b,g);case 3:return s.add(g);default:return s[b]=g}case"remove":switch(f){case 1:return s.splice(b,1);case 2:return s.delete(b);case 3:return s.delete(a.value);default:return delete s[b]}default:n(17,o)}})),t},F:function(e,n,a,r){switch(e.t){case 0:case 4:case 2:return function(e,n,a,r){var i=e.u,c=e.i;o(e.D,(function(e,o){var d=l(i,e),p=l(c,e),f=o?s(i,e)?"replace":u:"remove";if(d!==p||"replace"!==f){var g=n.concat(e);a.push("remove"===f?{op:f,path:g}:{op:f,path:g,value:p}),r.push(f===u?{op:"remove",path:g}:"remove"===f?{op:u,path:g,value:t(d)}:{op:"replace",path:g,value:t(d)})}}))}(e,n,a,r);case 5:case 1:return function(e,n,a,r){var o=e.u,i=e.D,s=e.i;if(s.length<o.length){var l=[s,o];o=l[0],s=l[1];var c=[r,a];a=c[0],r=c[1]}for(var d=0;d<o.length;d++)if(i[d]&&s[d]!==o[d]){var p=n.concat([d]);a.push({op:"replace",path:p,value:t(s[d])}),r.push({op:"replace",path:p,value:t(o[d])})}for(var f=o.length;f<s.length;f++){var g=n.concat([f]);a.push({op:u,path:g,value:t(s[f])})}o.length<s.length&&r.push({op:"replace",path:n.concat(["length"]),value:o.length})}(e,n,a,r);case 3:return function(e,t,n,a){var r=e.u,o=e.i,i=0;r.forEach((function(e){if(!o.has(e)){var r=t.concat([i]);n.push({op:"remove",path:r,value:e}),a.unshift({op:u,path:r,value:e})}i++})),i=0,o.forEach((function(e){if(!r.has(e)){var o=t.concat([i]);n.push({op:u,path:o,value:e}),a.unshift({op:"remove",path:o,value:e})}i++}))}(e,n,a,r)}},g:function(e,t,n,a){n.push({op:"replace",path:[],value:t===$?void 0:t}),a.push({op:"replace",path:[],value:e.u})}})}function N(){function e(e,t){function n(){this.constructor=e}s(e,t),e.prototype=(n.prototype=t.prototype,new n)}function t(e){e.i||(e.D=new Map,e.i=new Map(e.u))}function a(e){e.i||(e.i=new Set,e.u.forEach((function(t){if(r(t)){var n=T(e.A.h,t,e);e.p.set(t,n),e.i.add(n)}else e.i.add(t)})))}function i(e){e.O&&n(3,JSON.stringify(f(e)))}var s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},l=function(){function n(e,t){return this[Y]={t:2,l:t,A:t?t.A:x(),P:!1,R:!1,i:void 0,D:void 0,u:e,k:this,I:!1,O:!1},this}e(n,Map);var a=n.prototype;return Object.defineProperty(a,"size",{get:function(){return f(this[Y]).size}}),a.has=function(e){return f(this[Y]).has(e)},a.set=function(e,n){var a=this[Y];return i(a),f(a).has(e)&&f(a).get(e)===n||(t(a),M(a),a.D.set(e,!0),a.i.set(e,n),a.D.set(e,!0)),this},a.delete=function(e){if(!this.has(e))return!1;var n=this[Y];return i(n),t(n),M(n),n.D.set(e,!1),n.i.delete(e),!0},a.clear=function(){var e=this[Y];i(e),f(e).size&&(t(e),M(e),e.D=new Map,o(e.u,(function(t){e.D.set(t,!1)})),e.i.clear())},a.forEach=function(e,t){var n=this;f(this[Y]).forEach((function(a,r){e.call(t,n.get(r),r,n)}))},a.get=function(e){var n=this[Y];i(n);var a=f(n).get(e);if(n.R||!r(a))return a;if(a!==n.u.get(e))return a;var o=T(n.A.h,a,n);return t(n),n.i.set(e,o),o},a.keys=function(){return f(this[Y]).keys()},a.values=function(){var e,t=this,n=this.keys();return(e={})[K]=function(){return t.values()},e.next=function(){var e=n.next();return e.done?e:{done:!1,value:t.get(e.value)}},e},a.entries=function(){var e,t=this,n=this.keys();return(e={})[K]=function(){return t.entries()},e.next=function(){var e=n.next();if(e.done)return e;var a=t.get(e.value);return{done:!1,value:[e.value,a]}},e},a[K]=function(){return this.entries()},n}(),u=function(){function t(e,t){return this[Y]={t:3,l:t,A:t?t.A:x(),P:!1,R:!1,i:void 0,u:e,k:this,p:new Map,O:!1,I:!1},this}e(t,Set);var n=t.prototype;return Object.defineProperty(n,"size",{get:function(){return f(this[Y]).size}}),n.has=function(e){var t=this[Y];return i(t),t.i?!!t.i.has(e)||!(!t.p.has(e)||!t.i.has(t.p.get(e))):t.u.has(e)},n.add=function(e){var t=this[Y];return i(t),this.has(e)||(a(t),M(t),t.i.add(e)),this},n.delete=function(e){if(!this.has(e))return!1;var t=this[Y];return i(t),a(t),M(t),t.i.delete(e)||!!t.p.has(e)&&t.i.delete(t.p.get(e))},n.clear=function(){var e=this[Y];i(e),f(e).size&&(a(e),M(e),e.i.clear())},n.values=function(){var e=this[Y];return i(e),a(e),e.i.values()},n.entries=function(){var e=this[Y];return i(e),a(e),e.i.entries()},n.keys=function(){return this.values()},n[K]=function(){return this.values()},n.forEach=function(e,t){for(var n=this.values(),a=n.next();!a.done;)e.call(t,a.value,a.value,this),a=n.next()},t}();y("MapSet",{$:function(e,t){return new l(e,t)},C:function(e,t){return new u(e,t)}})}var W;Object.defineProperty(t,"__esModule",{value:!0});var B,V="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),q="undefined"!=typeof Map,G="undefined"!=typeof Set,H="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,$=V?Symbol.for("immer-nothing"):((W={})["immer-nothing"]=!0,W),U=V?Symbol.for("immer-draftable"):"__$immer_draftable",Y=V?Symbol.for("immer-state"):"__$immer_state",K="undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator",Q=""+Object.prototype.constructor,Z="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,X=Object.getOwnPropertyDescriptors||function(e){var t={};return Z(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},J={},ee={get:function(e,t){if(t===Y)return e;var n=f(e);if(!s(n,t))return function(e,t,n){var a,r=I(t,n);return r?"value"in r?r.value:null===(a=r.get)||void 0===a?void 0:a.call(e.k):void 0}(e,n,t);var a=n[t];return e.R||!r(a)?a:a===C(e.u,t)?(E(e),e.i[t]=T(e.A.h,a,e)):a},has:function(e,t){return t in f(e)},ownKeys:function(e){return Reflect.ownKeys(f(e))},set:function(e,t,n){var a=I(f(e),t);if(null==a?void 0:a.set)return a.set.call(e.k,n),!0;if(!e.P){var r=C(f(e),t),o=null==r?void 0:r[Y];if(o&&o.u===n)return e.i[t]=n,e.D[t]=!1,!0;if(c(n,r)&&(void 0!==n||s(e.u,t)))return!0;E(e),M(e)}return e.i[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.i)||(e.i[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==C(e.u,t)||t in e.u?(e.D[t]=!1,E(e),M(e)):delete e.D[t],e.i&&delete e.i[t],!0},getOwnPropertyDescriptor:function(e,t){var n=f(e),a=Reflect.getOwnPropertyDescriptor(n,t);return a?{writable:!0,configurable:1!==e.t||"length"!==t,enumerable:a.enumerable,value:n[t]}:a},defineProperty:function(){n(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.u)},setPrototypeOf:function(){n(12)}},te={};o(ee,(function(e,t){te[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),te.deleteProperty=function(e,t){return ee.deleteProperty.call(this,e[0],t)},te.set=function(e,t,n){return ee.set.call(this,e[0],t,n,e[0])};var ne=function(){function e(e){var t=this;this.S=H,this.K=!0,this.produce=function(e,a,o){if("function"==typeof e&&"function"!=typeof a){var i=a;a=e;var s=t;return function(e){var t=this;void 0===e&&(e=i);for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return s.produce(e,(function(e){var n;return(n=a).call.apply(n,[t,e].concat(r))}))}}var l;if("function"!=typeof a&&n(6),void 0!==o&&"function"!=typeof o&&n(7),r(e)){var u=O(t),c=T(t,e,void 0),d=!0;try{l=a(c),d=!1}finally{d?_(u):w(u)}return"undefined"!=typeof Promise&&l instanceof Promise?l.then((function(e){return j(u,o),P(e,u)}),(function(e){throw _(u),e})):(j(u,o),P(l,u))}if(!e||"object"!=typeof e){if((l=a(e))===$)return;return void 0===l&&(l=e),t.K&&b(l,!0),l}n(21,e)},this.produceWithPatches=function(e,n){return"function"==typeof e?function(n){for(var a=arguments.length,r=Array(a>1?a-1:0),o=1;o<a;o++)r[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(r))}))}:[t.produce(e,n,(function(e,t){a=e,r=t})),a,r];var a,r},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){r(e)||n(8),a(e)&&(e=A(e));var t=O(this),o=T(this,e,void 0);return o[Y].I=!0,w(t),o},t.finishDraft=function(e,t){var n=(e&&e[Y]).A;return j(n,t),P(void 0,n)},t.setAutoFreeze=function(e){this.K=e},t.setUseProxies=function(e){e&&!H&&n(20),this.S=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}var o=v("Patches").W;return a(e)?o(e,t):this.produce(e,(function(e){return o(e,t.slice(n+1))}))},e}(),ae=new ne,re=ae.produce,oe=ae.produceWithPatches.bind(ae),ie=ae.setAutoFreeze.bind(ae),se=ae.setUseProxies.bind(ae),le=ae.applyPatches.bind(ae),ue=ae.createDraft.bind(ae),ce=ae.finishDraft.bind(ae);t.Immer=ne,t.applyPatches=le,t.castDraft=function(e){return e},t.castImmutable=function(e){return e},t.createDraft=ue,t.current=A,t.default=re,t.enableAllPlugins=function(){F(),N(),R()},t.enableES5=F,t.enableMapSet=N,t.enablePatches=R,t.finishDraft=ce,t.freeze=b,t.immerable=U,t.isDraft=a,t.isDraftable=r,t.nothing=$,t.original=function(e){return a(e)||n(23,e),e[Y].u},t.produce=re,t.produceWithPatches=oe,t.setAutoFreeze=ie,t.setUseProxies=se},function(e,t,n){"use strict";function a(e){return function(t){var n=t.dispatch,a=t.getState;return function(t){return function(r){return"function"==typeof r?r(n,a,e):t(r)}}}}t.__esModule=!0;var r=a();r.withExtraArgument=a,t.default=r},function(e,t,n){var a=n(66),r=n(372);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);a(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){(t=n(67)(!1)).push([e.i,".lnsWorkspacePanelWrapper{margin-bottom:16px;display:flex;flex-direction:column;position:relative;min-height:400px;overflow:visible;height:100%}.lnsWorkspacePanelWrapper .lnsWorkspacePanelWrapper__pageContentBody{box-shadow:0 0.9px 4px -1px rgba(0,0,0,0.2),0 2.6px 8px -1px rgba(0,0,0,0.15),0 5.7px 12px -1px rgba(0,0,0,0.125),0 15px 15px -1px rgba(0,0,0,0.1);scrollbar-color:rgba(152,162,179,0.5) rgba(0,0,0,0);scrollbar-width:thin;flex-grow:1;display:flex;align-items:stretch;justify-content:stretch;border-radius:6px;background:#1D1E24;height:100%}.lnsWorkspacePanelWrapper .lnsWorkspacePanelWrapper__pageContentBody::-webkit-scrollbar{width:16px;height:16px}.lnsWorkspacePanelWrapper .lnsWorkspacePanelWrapper__pageContentBody::-webkit-scrollbar-thumb{background-color:rgba(152,162,179,0.5);background-clip:content-box;border-radius:16px;border:6px solid rgba(0,0,0,0)}.lnsWorkspacePanelWrapper .lnsWorkspacePanelWrapper__pageContentBody::-webkit-scrollbar-corner,.lnsWorkspacePanelWrapper .lnsWorkspacePanelWrapper__pageContentBody::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.lnsWorkspacePanelWrapper .lnsWorkspacePanelWrapper__pageContentBody>*{flex:1 1 100%;display:flex;align-items:center;justify-content:center;overflow:hidden}.lnsWorkspacePanelWrapper.lnsWorkspacePanelWrapper--fullscreen{margin-bottom:0}.lnsWorkspacePanelWrapper.lnsWorkspacePanelWrapper--fullscreen .lnsWorkspacePanelWrapper__pageContentBody{box-shadow:none}.lnsWorkspacePanel__dragDrop{border:1px solid transparent}.lnsWorkspacePanel__dragDrop.lnsDragDrop-isDropTarget{border:1px dashed #343741;background-color:rgba(84,179,153,0.1)}.lnsWorkspacePanel__dragDrop.lnsDragDrop-isDropTarget p{transition:filter 150ms ease-in-out;filter:blur(5px)}.lnsWorkspacePanel__dragDrop.lnsDragDrop-isDropTarget .lnsExpressionRenderer{transition:filter 250ms ease-in-out,opacity 250ms ease-in-out;filter:blur(4px);opacity:.25}.lnsWorkspacePanel__dragDrop.lnsDragDrop-isActiveDropTarget{background-color:rgba(84,179,153,0.25);border:1px dashed #54B399}.lnsWorkspacePanel__dragDrop.lnsDragDrop-isActiveDropTarget .lnsDropIllustration__hand{animation:lnsWorkspacePanel__illustrationPulseContinuous 1.5s ease-in-out 0s infinite normal forwards}.lnsWorkspacePanel__dragDrop.lnsWorkspacePanel__dragDrop--fullscreen{border:none}.lnsWorkspacePanel__emptyContent{position:absolute;left:0;right:0;bottom:0;top:0;display:flex;justify-content:center;align-items:center;transition:background-color 150ms ease-in-out}.lnsWorkspacePanel__emptyContent .lnsWorkspacePanel__actions{margin-top:24px}.lnsWorkspacePanelWrapper__toolbar{margin-bottom:4px}.lnsWorkspacePanelWrapper__toolbar--fullscreen{background-color:#1D1E24;justify-content:flex-end;margin-bottom:0;padding:8px 8px 0}@media only screen and (max-width: 574px){.lnsWorkspacePanelWrapper__applyButton .euiButton__text{position:absolute;top:auto;left:-10000px;width:1px;height:1px;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);overflow:hidden;margin:-1px}}@media only screen and (min-width: 575px) and (max-width: 767px){.lnsWorkspacePanelWrapper__applyButton .euiButton__text{position:absolute;top:auto;left:-10000px;width:1px;height:1px;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);overflow:hidden;margin:-1px}}@media only screen and (min-width: 768px) and (max-width: 991px){.lnsWorkspacePanelWrapper__applyButton .euiButton__text{position:absolute;top:auto;left:-10000px;width:1px;height:1px;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);overflow:hidden;margin:-1px}}@media only screen and (min-width: 992px) and (max-width: 1199px){.lnsWorkspacePanelWrapper__applyButton .euiButton__text{position:absolute;top:auto;left:-10000px;width:1px;height:1px;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);overflow:hidden;margin:-1px}}.lnsWorkspacePanel__promptIllustration{overflow:visible;margin-top:0;margin-bottom:-16px;margin-right:auto;margin-left:auto;max-width:176px;max-height:176px}.lnsWorkspacePanel__dropIllustration{filter:drop-shadow(0 6px 12px rgba(0,0,0,0.2)) drop-shadow(0 4px 4px rgba(0,0,0,0.2)) drop-shadow(0 2px 2px rgba(0,0,0,0.2))}.lnsDropIllustration__adjustFill{fill:#fff}.lnsDropIllustration__hand{animation:lnsWorkspacePanel__illustrationPulseArrow 5s ease-in-out 0s infinite normal forwards}@keyframes lnsWorkspacePanel__illustrationPulseArrow{0%{transform:translateY(0%)}65%{transform:translateY(0%)}72%{transform:translateY(10%)}79%{transform:translateY(7%)}86%{transform:translateY(10%)}95%{transform:translateY(0)}}@keyframes lnsWorkspacePanel__illustrationPulseContinuous{0%{transform:translateY(10%)}25%{transform:translateY(15%)}50%{transform:translateY(10%)}75%{transform:translateY(15%)}100%{transform:translateY(10%)}}\n",""]),e.exports=t},function(e,t,n){var a=n(66),r=n(374);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);a(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){(t=n(67)(!1)).push([e.i,".lnsWorkspacePanelWrapper{margin-bottom:16px;display:flex;flex-direction:column;position:relative;min-height:400px;overflow:visible;height:100%}.lnsWorkspacePanelWrapper .lnsWorkspacePanelWrapper__pageContentBody{box-shadow:0 0.9px 4px -1px rgba(0,0,0,0.08),0 2.6px 8px -1px rgba(0,0,0,0.06),0 5.7px 12px -1px rgba(0,0,0,0.05),0 15px 15px -1px rgba(0,0,0,0.04);scrollbar-color:rgba(105,112,125,0.5) rgba(0,0,0,0);scrollbar-width:thin;flex-grow:1;display:flex;align-items:stretch;justify-content:stretch;border-radius:6px;background:#fff;height:100%}.lnsWorkspacePanelWrapper .lnsWorkspacePanelWrapper__pageContentBody::-webkit-scrollbar{width:16px;height:16px}.lnsWorkspacePanelWrapper .lnsWorkspacePanelWrapper__pageContentBody::-webkit-scrollbar-thumb{background-color:rgba(105,112,125,0.5);background-clip:content-box;border-radius:16px;border:6px solid rgba(0,0,0,0)}.lnsWorkspacePanelWrapper .lnsWorkspacePanelWrapper__pageContentBody::-webkit-scrollbar-corner,.lnsWorkspacePanelWrapper .lnsWorkspacePanelWrapper__pageContentBody::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.lnsWorkspacePanelWrapper .lnsWorkspacePanelWrapper__pageContentBody>*{flex:1 1 100%;display:flex;align-items:center;justify-content:center;overflow:hidden}.lnsWorkspacePanelWrapper.lnsWorkspacePanelWrapper--fullscreen{margin-bottom:0}.lnsWorkspacePanelWrapper.lnsWorkspacePanelWrapper--fullscreen .lnsWorkspacePanelWrapper__pageContentBody{box-shadow:none}.lnsWorkspacePanel__dragDrop{border:1px solid transparent}.lnsWorkspacePanel__dragDrop.lnsDragDrop-isDropTarget{border:1px dashed #D3DAE6;background-color:rgba(84,179,153,0.1)}.lnsWorkspacePanel__dragDrop.lnsDragDrop-isDropTarget p{transition:filter 150ms ease-in-out;filter:blur(5px)}.lnsWorkspacePanel__dragDrop.lnsDragDrop-isDropTarget .lnsExpressionRenderer{transition:filter 250ms ease-in-out,opacity 250ms ease-in-out;filter:blur(4px);opacity:.25}.lnsWorkspacePanel__dragDrop.lnsDragDrop-isActiveDropTarget{background-color:rgba(84,179,153,0.25);border:1px dashed #54B399}.lnsWorkspacePanel__dragDrop.lnsDragDrop-isActiveDropTarget .lnsDropIllustration__hand{animation:lnsWorkspacePanel__illustrationPulseContinuous 1.5s ease-in-out 0s infinite normal forwards}.lnsWorkspacePanel__dragDrop.lnsWorkspacePanel__dragDrop--fullscreen{border:none}.lnsWorkspacePanel__emptyContent{position:absolute;left:0;right:0;bottom:0;top:0;display:flex;justify-content:center;align-items:center;transition:background-color 150ms ease-in-out}.lnsWorkspacePanel__emptyContent .lnsWorkspacePanel__actions{margin-top:24px}.lnsWorkspacePanelWrapper__toolbar{margin-bottom:4px}.lnsWorkspacePanelWrapper__toolbar--fullscreen{background-color:#fff;justify-content:flex-end;margin-bottom:0;padding:8px 8px 0}@media only screen and (max-width: 574px){.lnsWorkspacePanelWrapper__applyButton .euiButton__text{position:absolute;top:auto;left:-10000px;width:1px;height:1px;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);overflow:hidden;margin:-1px}}@media only screen and (min-width: 575px) and (max-width: 767px){.lnsWorkspacePanelWrapper__applyButton .euiButton__text{position:absolute;top:auto;left:-10000px;width:1px;height:1px;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);overflow:hidden;margin:-1px}}@media only screen and (min-width: 768px) and (max-width: 991px){.lnsWorkspacePanelWrapper__applyButton .euiButton__text{position:absolute;top:auto;left:-10000px;width:1px;height:1px;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);overflow:hidden;margin:-1px}}@media only screen and (min-width: 992px) and (max-width: 1199px){.lnsWorkspacePanelWrapper__applyButton .euiButton__text{position:absolute;top:auto;left:-10000px;width:1px;height:1px;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);overflow:hidden;margin:-1px}}.lnsWorkspacePanel__promptIllustration{overflow:visible;margin-top:0;margin-bottom:-16px;margin-right:auto;margin-left:auto;max-width:176px;max-height:176px}.lnsWorkspacePanel__dropIllustration{filter:drop-shadow(0 6px 12px rgba(0,0,0,0.2)) drop-shadow(0 4px 4px rgba(0,0,0,0.2)) drop-shadow(0 2px 2px rgba(0,0,0,0.2))}.lnsDropIllustration__adjustFill{fill:#000}.lnsDropIllustration__hand{animation:lnsWorkspacePanel__illustrationPulseArrow 5s ease-in-out 0s infinite normal forwards}@keyframes lnsWorkspacePanel__illustrationPulseArrow{0%{transform:translateY(0%)}65%{transform:translateY(0%)}72%{transform:translateY(10%)}79%{transform:translateY(7%)}86%{transform:translateY(10%)}95%{transform:translateY(0)}}@keyframes lnsWorkspacePanel__illustrationPulseContinuous{0%{transform:translateY(10%)}25%{transform:translateY(15%)}50%{transform:translateY(10%)}75%{transform:translateY(15%)}100%{transform:translateY(10%)}}\n",""]),e.exports=t},function(e,t,n){switch(window.__kbnThemeTag__){case"v8dark":return n(376);case"v8light":return n(378)}},function(e,t,n){var a=n(66),r=n(377);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);a(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){(t=n(67)(!1)).push([e.i,".lnsChartSwitch__header>*{display:flex;align-items:center}.lnsChartSwitch__summaryIcon{transform:translateY(-1px);color:#7a7f89}@media only screen and (min-width: 1200px){.lnsChartSwitch__summaryIcon{margin-right:8px}}@media only screen and (max-width: 574px){.lnsChartSwitch__summaryText{position:absolute;top:auto;left:-10000px;width:1px;height:1px;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);overflow:hidden;margin:-1px}}@media only screen and (min-width: 575px) and (max-width: 767px){.lnsChartSwitch__summaryText{position:absolute;top:auto;left:-10000px;width:1px;height:1px;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);overflow:hidden;margin:-1px}}@media only screen and (min-width: 768px) and (max-width: 991px){.lnsChartSwitch__summaryText{position:absolute;top:auto;left:-10000px;width:1px;height:1px;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);overflow:hidden;margin:-1px}}@media only screen and (min-width: 992px) and (max-width: 1199px){.lnsChartSwitch__summaryText{position:absolute;top:auto;left:-10000px;width:1px;height:1px;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);overflow:hidden;margin:-1px}}.lnsChartSwitch__append{display:inline-flex}img.lnsChartSwitch__chartIcon{width:100%}.lnsChartSwitch__search{width:400px}\n",""]),e.exports=t},function(e,t,n){var a=n(66),r=n(379);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);a(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){(t=n(67)(!1)).push([e.i,".lnsChartSwitch__header>*{display:flex;align-items:center}.lnsChartSwitch__summaryIcon{transform:translateY(-1px);color:#69707D}@media only screen and (min-width: 1200px){.lnsChartSwitch__summaryIcon{margin-right:8px}}@media only screen and (max-width: 574px){.lnsChartSwitch__summaryText{position:absolute;top:auto;left:-10000px;width:1px;height:1px;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);overflow:hidden;margin:-1px}}@media only screen and (min-width: 575px) and (max-width: 767px){.lnsChartSwitch__summaryText{position:absolute;top:auto;left:-10000px;width:1px;height:1px;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);overflow:hidden;margin:-1px}}@media only screen and (min-width: 768px) and (max-width: 991px){.lnsChartSwitch__summaryText{position:absolute;top:auto;left:-10000px;width:1px;height:1px;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);overflow:hidden;margin:-1px}}@media only screen and (min-width: 992px) and (max-width: 1199px){.lnsChartSwitch__summaryText{position:absolute;top:auto;left:-10000px;width:1px;height:1px;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);overflow:hidden;margin:-1px}}.lnsChartSwitch__append{display:inline-flex}img.lnsChartSwitch__chartIcon{width:100%}.lnsChartSwitch__search{width:400px}\n",""]),e.exports=t},function(e,t,n){switch(window.__kbnThemeTag__){case"v8dark":return n(381);case"v8light":return n(383)}},function(e,t,n){var a=n(66),r=n(382);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);a(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){(t=n(67)(!1)).push([e.i,"@media only screen and (max-width: 574px){.lnsWorkspaceWarning__buttonText{position:absolute;top:auto;left:-10000px;width:1px;height:1px;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);overflow:hidden;margin:-1px}}@media only screen and (min-width: 575px) and (max-width: 767px){.lnsWorkspaceWarning__buttonText{position:absolute;top:auto;left:-10000px;width:1px;height:1px;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);overflow:hidden;margin:-1px}}@media only screen and (min-width: 768px) and (max-width: 991px){.lnsWorkspaceWarning__buttonText{position:absolute;top:auto;left:-10000px;width:1px;height:1px;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);overflow:hidden;margin:-1px}}@media only screen and (min-width: 992px) and (max-width: 1199px){.lnsWorkspaceWarning__buttonText{position:absolute;top:auto;left:-10000px;width:1px;height:1px;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);overflow:hidden;margin:-1px}}.lnsWorkspaceWarningList{scrollbar-color:rgba(152,162,179,0.5) rgba(0,0,0,0);scrollbar-width:thin;height:100%;overflow-y:auto;overflow-x:hidden;max-height:320px;width:256px}.lnsWorkspaceWarningList::-webkit-scrollbar{width:16px;height:16px}.lnsWorkspaceWarningList::-webkit-scrollbar-thumb{background-color:rgba(152,162,179,0.5);background-clip:content-box;border-radius:16px;border:6px solid rgba(0,0,0,0)}.lnsWorkspaceWarningList::-webkit-scrollbar-corner,.lnsWorkspaceWarningList::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.lnsWorkspaceWarningList:focus{outline:none}.lnsWorkspaceWarningList[tabindex='0']:focus:focus-visible{outline-style:auto}.lnsWorkspaceWarningList__item{padding:16px}.lnsWorkspaceWarningList__item+.lnsWorkspaceWarningList__item{border-top:1px solid #343741}\n",""]),e.exports=t},function(e,t,n){var a=n(66),r=n(384);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);a(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){(t=n(67)(!1)).push([e.i,"@media only screen and (max-width: 574px){.lnsWorkspaceWarning__buttonText{position:absolute;top:auto;left:-10000px;width:1px;height:1px;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);overflow:hidden;margin:-1px}}@media only screen and (min-width: 575px) and (max-width: 767px){.lnsWorkspaceWarning__buttonText{position:absolute;top:auto;left:-10000px;width:1px;height:1px;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);overflow:hidden;margin:-1px}}@media only screen and (min-width: 768px) and (max-width: 991px){.lnsWorkspaceWarning__buttonText{position:absolute;top:auto;left:-10000px;width:1px;height:1px;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);overflow:hidden;margin:-1px}}@media only screen and (min-width: 992px) and (max-width: 1199px){.lnsWorkspaceWarning__buttonText{position:absolute;top:auto;left:-10000px;width:1px;height:1px;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);overflow:hidden;margin:-1px}}.lnsWorkspaceWarningList{scrollbar-color:rgba(105,112,125,0.5) rgba(0,0,0,0);scrollbar-width:thin;height:100%;overflow-y:auto;overflow-x:hidden;max-height:320px;width:256px}.lnsWorkspaceWarningList::-webkit-scrollbar{width:16px;height:16px}.lnsWorkspaceWarningList::-webkit-scrollbar-thumb{background-color:rgba(105,112,125,0.5);background-clip:content-box;border-radius:16px;border:6px solid rgba(0,0,0,0)}.lnsWorkspaceWarningList::-webkit-scrollbar-corner,.lnsWorkspaceWarningList::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.lnsWorkspaceWarningList:focus{outline:none}.lnsWorkspaceWarningList[tabindex='0']:focus:focus-visible{outline-style:auto}.lnsWorkspaceWarningList__item{padding:16px}.lnsWorkspaceWarningList__item+.lnsWorkspaceWarningList__item{border-top:1px solid #D3DAE6}\n",""]),e.exports=t},function(e,t,n){switch(window.__kbnThemeTag__){case"v8dark":return n(386);case"v8light":return n(388)}},function(e,t,n){var a=n(66),r=n(387);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);a(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){(t=n(67)(!1)).push([e.i,".lnsDimensionContainer{border-left:none;box-shadow:0 2.7px 9px rgba(0,0,0,0.325),0 9.4px 24px rgba(0,0,0,0.225),0 21.8px 43px rgba(0,0,0,0.2);position:fixed;top:0;bottom:0;right:0;height:100%;z-index:1000;background:#1D1E24;display:flex;flex-direction:column;align-items:stretch;-webkit-clip-path:polygon(-50% 0, 100% 0, 100% 100%, -50% 100%);clip-path:polygon(-50% 0, 100% 0, 100% 100%, -50% 100%);animation:euiFlyout 250ms cubic-bezier(0.694, 0.0482, 0.335, 1);left:0;max-width:none !important;z-index:2000}@media only screen and (min-width: 992px) and (max-width: 1199px){.lnsDimensionContainer{height:100% !important;position:absolute;top:0 !important}}@media only screen and (min-width: 1200px){.lnsDimensionContainer{height:100% !important;position:absolute;top:0 !important}}.lnsFrameLayout__sidebar-isFullscreen .lnsDimensionContainer{border-left:1px solid #343741;box-shadow:none}.lnsDimensionContainer__header{padding:16px}.lnsFrameLayout__sidebar-isFullscreen .lnsDimensionContainer__header{display:none}.lnsDimensionContainer__content{scrollbar-color:rgba(152,162,179,0.5) rgba(0,0,0,0);scrollbar-width:thin;height:100%;overflow-y:auto;overflow-x:hidden;flex:1}.lnsDimensionContainer__content::-webkit-scrollbar{width:16px;height:16px}.lnsDimensionContainer__content::-webkit-scrollbar-thumb{background-color:rgba(152,162,179,0.5);background-clip:content-box;border-radius:16px;border:6px solid rgba(0,0,0,0)}.lnsDimensionContainer__content::-webkit-scrollbar-corner,.lnsDimensionContainer__content::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.lnsDimensionContainer__content:focus{outline:none}.lnsDimensionContainer__content[tabindex='0']:focus:focus-visible{outline-style:auto}.lnsDimensionContainer__footer{padding:16px}.lnsFrameLayout__sidebar-isFullscreen .lnsDimensionContainer__footer{display:none}.lnsBody--overflowHidden{overflow:hidden}.lnsLayerAddButton:hover{text-decoration:none}.lnsLayerAddButton:hover .lnsLayerAddButton__label{text-decoration:underline}.lnsLayerAddButton:hover .lnsLayerAddButton__techBadge,.lnsLayerAddButton:hover .lnsLayerAddButton__techBadge *{cursor:pointer}\n",""]),e.exports=t},function(e,t,n){var a=n(66),r=n(389);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);a(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){(t=n(67)(!1)).push([e.i,".lnsDimensionContainer{border-left:none;box-shadow:0 2.7px 9px rgba(0,0,0,0.13),0 9.4px 24px rgba(0,0,0,0.09),0 21.8px 43px rgba(0,0,0,0.08);position:fixed;top:0;bottom:0;right:0;height:100%;z-index:1000;background:#fff;display:flex;flex-direction:column;align-items:stretch;-webkit-clip-path:polygon(-50% 0, 100% 0, 100% 100%, -50% 100%);clip-path:polygon(-50% 0, 100% 0, 100% 100%, -50% 100%);animation:euiFlyout 250ms cubic-bezier(0.694, 0.0482, 0.335, 1);left:0;max-width:none !important;z-index:2000}@media only screen and (min-width: 992px) and (max-width: 1199px){.lnsDimensionContainer{height:100% !important;position:absolute;top:0 !important}}@media only screen and (min-width: 1200px){.lnsDimensionContainer{height:100% !important;position:absolute;top:0 !important}}.lnsFrameLayout__sidebar-isFullscreen .lnsDimensionContainer{border-left:1px solid #D3DAE6;box-shadow:none}.lnsDimensionContainer__header{padding:16px}.lnsFrameLayout__sidebar-isFullscreen .lnsDimensionContainer__header{display:none}.lnsDimensionContainer__content{scrollbar-color:rgba(105,112,125,0.5) rgba(0,0,0,0);scrollbar-width:thin;height:100%;overflow-y:auto;overflow-x:hidden;flex:1}.lnsDimensionContainer__content::-webkit-scrollbar{width:16px;height:16px}.lnsDimensionContainer__content::-webkit-scrollbar-thumb{background-color:rgba(105,112,125,0.5);background-clip:content-box;border-radius:16px;border:6px solid rgba(0,0,0,0)}.lnsDimensionContainer__content::-webkit-scrollbar-corner,.lnsDimensionContainer__content::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.lnsDimensionContainer__content:focus{outline:none}.lnsDimensionContainer__content[tabindex='0']:focus:focus-visible{outline-style:auto}.lnsDimensionContainer__footer{padding:16px}.lnsFrameLayout__sidebar-isFullscreen .lnsDimensionContainer__footer{display:none}.lnsBody--overflowHidden{overflow:hidden}.lnsLayerAddButton:hover{text-decoration:none}.lnsLayerAddButton:hover .lnsLayerAddButton__label{text-decoration:underline}.lnsLayerAddButton:hover .lnsLayerAddButton__techBadge,.lnsLayerAddButton:hover .lnsLayerAddButton__techBadge *{cursor:pointer}\n",""]),e.exports=t},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Fn",{enumerable:!0,get:function(){return r.Fn}}),Object.defineProperty(t,"Registry",{enumerable:!0,get:function(){return u.Registry}}),Object.defineProperty(t,"addRegistries",{enumerable:!0,get:function(){return c.addRegistries}}),Object.defineProperty(t,"castProvider",{enumerable:!0,get:function(){return i.castProvider}}),Object.defineProperty(t,"fromExpression",{enumerable:!0,get:function(){return a.fromExpression}}),Object.defineProperty(t,"getByAlias",{enumerable:!0,get:function(){return l.getByAlias}}),Object.defineProperty(t,"getType",{enumerable:!0,get:function(){return o.getType}}),Object.defineProperty(t,"isAst",{enumerable:!0,get:function(){return a.isAst}}),Object.defineProperty(t,"isAstWithMeta",{enumerable:!0,get:function(){return a.isAstWithMeta}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return s.parse}}),Object.defineProperty(t,"register",{enumerable:!0,get:function(){return c.register}}),Object.defineProperty(t,"registryFactory",{enumerable:!0,get:function(){return c.registryFactory}}),Object.defineProperty(t,"safeElementFromExpression",{enumerable:!0,get:function(){return a.safeElementFromExpression}}),Object.defineProperty(t,"toExpression",{enumerable:!0,get:function(){return a.toExpression}});var a=n(391),r=n(396),o=n(111),i=n(398),s=n(110),l=n(399),u=n(400),c=n(401)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(94);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var r=n(145);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}));var o=n(393);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var i=n(146);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}))},function(e,t,n){"use strict";function a(e,t,n,r){var o=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(o,a.prototype),o.expected=t,o.found=n,o.location=r,o.name="SyntaxError",o}function r(e,t,n){return n=n||" ",e.length>t?e:(t-=e.length,e+(n+=n.repeat(t)).slice(0,t))}!function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(a,Error),a.prototype.format=function(e){var t="Error: "+this.message;if(this.location){var n,a=null;for(n=0;n<e.length;n++)if(e[n].source===this.location.source){a=e[n].text.split(/\r\n|\n|\r/g);break}var o=this.location.start,i=this.location.source+":"+o.line+":"+o.column;if(a){var s=this.location.end,l=r("",o.line.toString().length),u=a[o.line-1],c=o.line===s.line?s.column:u.length+1;t+="\n --\x3e "+i+"\n"+l+" |\n"+o.line+" | "+u+"\n"+l+" | "+r("",o.column-1)+r("",c-o.column,"^")}else t+="\n at "+i}return t},a.buildMessage=function(e,t){var n={literal:function(e){return'"'+r(e.text)+'"'},class:function(e){var t=e.parts.map((function(e){return Array.isArray(e)?o(e[0])+"-"+o(e[1]):o(e)}));return"["+(e.inverted?"^":"")+t+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(e){return e.description}};function a(e){return e.charCodeAt(0).toString(16).toUpperCase()}function r(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+a(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+a(e)}))}function o(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+a(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+a(e)}))}function i(e){return n[e.type](e)}return"Expected "+function(e){var t,n,a=e.map(i);if(a.sort(),a.length>0){for(t=1,n=1;t<a.length;t++)a[t-1]!==a[t]&&(a[n]=a[t],n++);a.length=n}switch(a.length){case 1:return a[0];case 2:return a[0]+" or "+a[1];default:return a.slice(0,-1).join(", ")+", or "+a[a.length-1]}}(e)+" but "+function(e){return e?'"'+r(e)+'"':"end of input"}(t)+" found."},e.exports={SyntaxError:a,parse:function(e,t){var n,r={},o=(t=void 0!==t?t:{}).grammarSource,i={expression:ee,argument:ae},s=ee,l="*/",u="\\",c=/^[a-zA-Z0-9_\-]/,d=/^[ \t\r\n]/,p=/^[^\n]/,f=/^["'(){}<>[\]$`|= \t\n\r]/,g=/^[^"'(){}<>[\]$`|= \t\n\r]/,b=/^[^"]/,h=/^[^']/,m=Y("|",!1),v=Q("function"),y=Y("=",!1),x=Y("$",!1),j=Y("{",!1),_=Y("}",!1),w=K([["a","z"],["A","Z"],["0","9"],"_","-"],!1,!1),O=Q("literal"),D=Y('"',!1),P=Y("'",!1),k=K([" ","\t","\r","\n"],!1,!1),S=Y("//",!1),L=K(["\n"],!0,!1),C=Y("/*",!1),I=Y("*/",!1),M={type:"any"},E=Y("\\",!1),T=K(['"',"'","(",")","{","}","<",">","[","]","$","`","|","="," ","\t","\n","\r"],!1,!1),A=K(['"',"'","(",")","{","}","<",">","[","]","$","`","|","="," ","\t","\n","\r"],!0,!1),z=K(['"'],!0,!1),F=K(["'"],!0,!1),R=function(e,t){return t},N=function(e){return e.join("")},W=0,B=0,V=[{line:1,column:1}],q=0,G=[],H=0;if("startRule"in t){if(!(t.startRule in i))throw new Error("Can't start parsing from rule \""+t.startRule+'".');s=i[t.startRule]}function $(){return e.substring(B,W)}function U(){return X(B,W)}function Y(e,t){return{type:"literal",text:e,ignoreCase:t}}function K(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function Q(e){return{type:"other",description:e}}function Z(t){var n,a=V[t];if(a)return a;for(n=t-1;!V[n];)n--;for(a={line:(a=V[n]).line,column:a.column};n<t;)10===e.charCodeAt(n)?(a.line++,a.column=1):a.column++,n++;return V[t]=a,a}function X(e,t){var n=Z(e),a=Z(t);return{source:o,start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:a.line,column:a.column}}}function J(e){W<q||(W>q&&(q=W,G=[]),G.push(e))}function ee(){var t,n,a,o,i,s,l;for(t=W,oe(),(n=te())===r&&(n=null),a=[],o=W,124===e.charCodeAt(W)?(i="|",W++):(i=r,0===H&&J(m)),i!==r?(oe(),(s=te())!==r?(B=o,o=R(0,s)):(W=o,o=r)):(W=o,o=r);o!==r;)a.push(o),o=W,124===e.charCodeAt(W)?(i="|",W++):(i=r,0===H&&J(m)),i!==r?(oe(),(s=te())!==r?(B=o,o=R(0,s)):(W=o,o=r)):(W=o,o=r);return B=t,de({type:"expression",chain:(l=n)?[l].concat(a):[]},$(),U())}function te(){var e,t,n;return H++,e=W,(t=re())!==r?(n=function(){var e,t,n,a;for(e=W,t=[],n=W,oe()!==r&&(a=ne())!==r?(B=n,n=a):(W=n,n=r);n!==r;)t.push(n),n=W,oe()!==r&&(a=ne())!==r?(B=n,n=a):(W=n,n=r);return(n=oe())===r&&(n=null),B=e,t.reduce(((e,{name:t,value:n})=>({...e,[t]:(e[t]||[]).concat(n)})),{})}(),B=e,e=de({type:"function",function:t,arguments:n},$(),U())):(W=e,e=r),H--,e===r&&(t=r,0===H&&J(v)),e}function ne(){var t,n,a,o;return t=W,(n=re())!==r?(oe(),61===e.charCodeAt(W)?(a="=",W++):(a=r,0===H&&J(y)),a!==r?(oe(),(o=ae())!==r?(B=t,t={name:n,value:o}):(W=t,t=r)):(W=t,t=r)):(W=t,t=r),t===r&&(t=W,(n=ae())!==r&&(B=t,n={name:"_",value:n}),t=n),t}function ae(){var t,n,a,o,i;return t=W,36===e.charCodeAt(W)?(n="$",W++):(n=r,0===H&&J(x)),n===r&&(n=null),123===e.charCodeAt(W)?(a="{",W++):(a=r,0===H&&J(j)),a!==r&&(o=ee())!==r?(125===e.charCodeAt(W)?(i="}",W++):(i=r,0===H&&J(_)),i!==r?(B=t,t=o):(W=t,t=r)):(W=t,t=r),t===r&&(t=W,n=function(){var t;return H++,t=function(){var t,n,a,o;if(t=W,34===e.charCodeAt(W)?(n='"',W++):(n=r,0===H&&J(D)),n!==r){for(a=[],o=ue();o!==r;)a.push(o),o=ue();34===e.charCodeAt(W)?(o='"',W++):(o=r,0===H&&J(D)),o!==r?(B=t,t=N(a)):(W=t,t=r)}else W=t,t=r;if(t===r)if(t=W,39===e.charCodeAt(W)?(n="'",W++):(n=r,0===H&&J(P)),n!==r){for(a=[],o=ce();o!==r;)a.push(o),o=ce();39===e.charCodeAt(W)?(o="'",W++):(o=r,0===H&&J(P)),o!==r?(B=t,t=N(a)):(W=t,t=r)}else W=t,t=r;return t}(),t===r&&(t=function(){var e,t,n,a,o;if(e=W,t=W,H++,n=se(),H--,n===r?t=void 0:(W=t,t=r),t!==r){if(n=[],(a=le())!==r)for(;a!==r;)n.push(a),a=le();else n=r;n!==r?(B=e,e="null"===(o=n.join(""))?null:"true"===o||"false"!==o&&(isNaN(Number(o))?o:Number(o))):(W=e,e=r)}else W=e,e=r;return e}()),H--,t===r&&0===H&&J(O),t}(),n!==r&&(B=t,n=de(n,$(),U())),t=n),t}function re(){var t,n,a;if(t=W,n=[],c.test(e.charAt(W))?(a=e.charAt(W),W++):(a=r,0===H&&J(w)),a!==r)for(;a!==r;)n.push(a),c.test(e.charAt(W))?(a=e.charAt(W),W++):(a=r,0===H&&J(w));else n=r;return n!==r&&(B=t,n=n.join("")),n}function oe(){var e,t;if(e=[],(t=ie())===r&&(t=se()),t!==r)for(;t!==r;)e.push(t),(t=ie())===r&&(t=se());else e=r;return e}function ie(){var t;return d.test(e.charAt(W))?(t=e.charAt(W),W++):(t=r,0===H&&J(k)),t}function se(){var t;return(t=function(){var t,n,a,o;if(t=W,"//"===e.substr(W,2)?(n="//",W+=2):(n=r,0===H&&J(S)),n!==r){for(a=[],p.test(e.charAt(W))?(o=e.charAt(W),W++):(o=r,0===H&&J(L));o!==r;)a.push(o),p.test(e.charAt(W))?(o=e.charAt(W),W++):(o=r,0===H&&J(L));t=n=[n,a]}else W=t,t=r;return t}())===r&&(t=function(){var t,n,a,o,i,s;if(t=W,"/*"===e.substr(W,2)?(n="/*",W+=2):(n=r,0===H&&J(C)),n!==r){for(a=[],o=W,i=W,H++,e.substr(W,2)===l?(s=l,W+=2):(s=r,0===H&&J(I)),H--,s===r?i=void 0:(W=i,i=r),i!==r?(e.length>W?(s=e.charAt(W),W++):(s=r,0===H&&J(M)),s!==r?o=i=[i,s]:(W=o,o=r)):(W=o,o=r);o!==r;)a.push(o),o=W,i=W,H++,e.substr(W,2)===l?(s=l,W+=2):(s=r,0===H&&J(I)),H--,s===r?i=void 0:(W=i,i=r),i!==r?(e.length>W?(s=e.charAt(W),W++):(s=r,0===H&&J(M)),s!==r?o=i=[i,s]:(W=o,o=r)):(W=o,o=r);e.substr(W,2)===l?(o=l,W+=2):(o=r,0===H&&J(I)),o===r&&(o=null),t=n=[n,a,o]}else W=t,t=r;return t}()),t}function le(){var t,n,a;return t=W,92===e.charCodeAt(W)?(n=u,W++):(n=r,0===H&&J(E)),n!==r?(f.test(e.charAt(W))?(a=e.charAt(W),W++):(a=r,0===H&&J(T)),a===r&&(92===e.charCodeAt(W)?(a=u,W++):(a=r,0===H&&J(E))),a!==r?(B=t,t=a):(W=t,t=r)):(W=t,t=r),t===r&&(g.test(e.charAt(W))?(t=e.charAt(W),W++):(t=r,0===H&&J(A))),t}function ue(){var t,n,a;return t=W,92===e.charCodeAt(W)?(n=u,W++):(n=r,0===H&&J(E)),n!==r?(34===e.charCodeAt(W)?(a='"',W++):(a=r,0===H&&J(D)),a===r&&(92===e.charCodeAt(W)?(a=u,W++):(a=r,0===H&&J(E))),a!==r?(B=t,t=a):(W=t,t=r)):(W=t,t=r),t===r&&(b.test(e.charAt(W))?(t=e.charAt(W),W++):(t=r,0===H&&J(z))),t}function ce(){var t,n,a;return t=W,92===e.charCodeAt(W)?(n=u,W++):(n=r,0===H&&J(E)),n!==r?(39===e.charCodeAt(W)?(a="'",W++):(a=r,0===H&&J(P)),a===r&&(92===e.charCodeAt(W)?(a=u,W++):(a=r,0===H&&J(E))),a!==r?(B=t,t=a):(W=t,t=r)):(W=t,t=r),t===r&&(h.test(e.charAt(W))?(t=e.charAt(W),W++):(t=r,0===H&&J(F))),t}function de(e,n,{start:{offset:a},end:{offset:r}}){return t.addMeta?{node:e,text:n,start:a,end:r}:e}if((n=s())!==r&&W===e.length)return n;throw n!==r&&W<e.length&&J({type:"end"}),function(e,t,n){return new a(a.buildMessage(e,t),e,t,n)}(G,q<e.length?e.charAt(q):null,q<e.length?X(q,q+1):X(q,q))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.safeElementFromExpression=function(e){try{return(0,a.fromExpression)(e)}catch(e){return(0,a.fromExpression)("markdown\n\"## Crud.\nCanvas could not parse this element's expression. I am so sorry this error isn't more useful. I promise it will be soon.\n\nThanks for understanding,\n#### Management\n\"")}};var a=n(145)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.patch=function(e,t){let n="",i=0;return(0,r.compare)(e,t).sort((({source:e},{source:t})=>e.start-t.start)).forEach((function(t){if(!(0,r.isValueChange)(t))throw new Error("Cannot apply patch for the change.");!function(t){if((0,a.isAstWithMeta)(t.source))throw new Error("Patching sub-expressions is not supported.");n+=`${e.substring(i,t.source.start)}${(0,o.toExpression)(t.target,"argument")}`,i=t.source.end}(t)})),n+=e.substring(i),n};var a=n(94),r=n(395),o=n(146)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compare=function(e,t){const n=[[(0,r.parse)(e,{addMeta:!0}),t]],i=[];function s(e,t){(0,a.zip)(e.node.chain,t.chain).forEach((([e,t])=>{if(!e||!t||(null==e?void 0:e.node.function)!==(null==t?void 0:t.function))throw Error("Expression changes are not supported.");!function(e,t){if((0,a.xor)(Object.keys(e.node.arguments),Object.keys(t.arguments)).length)throw Error("Function changes are not supported.");(0,a.forEach)(e.node.arguments,((e,n)=>{!function(e,t){if(e.length!==t.length)throw Error("Arguments changes are not supported.");(0,a.zip)(e,t).forEach((([e,t])=>function(e,t){(0,o.isAstWithMeta)(e)&&(0,o.isAst)(t)?s(e,t):e.node!==t&&i.push({type:"value",source:e,target:t})}(e,t)))}(e,t.arguments[n])}))}(e,t)}))}for(;n.length;)s(...n.shift());return i},t.isValueChange=function(e){return"value"===(null==e?void 0:e.type)};var a=n(31),r=n(110),o=n(94)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Fn=function(e){this.name=e.name,this.type=e.type,this.aliases=e.aliases||[],this.fn=(...t)=>Promise.resolve(e.fn(...t)),this.help=e.help||"",this.args=(0,a.mapValues)(e.args||{},((e,t)=>new r.Arg({name:t,...e}))),this.context=e.context||{},this.accepts=e=>!this.context.types||(0,a.includes)(this.context.types,e)};var a=n(31),r=n(397)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Arg=function(e){if("_"===e.name)throw Error("Arg names must not be _. Use it in aliases instead.");this.name=e.name,this.required=e.required||!1,this.help=e.help||"",this.types=e.types||[],this.default=e.default,this.aliases=e.aliases||[],this.multi=null!=e.multi&&e.multi,this.resolve=null==e.resolve||e.resolve,this.options=e.options||[],this.accepts=t=>!this.types.length||(0,a.includes)(e.types,t)};var a=n(31)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castProvider=function(e){return function(t,n){if(!n||0===n.length)return t;const r=(0,a.getType)(t);if(n.includes(r))return t;const o=e[r];for(let a=0;a<n.length;a++){if(o&&o.castsTo(n[a]))return o.to(t,n[a],e);const i=e[n[a]];if(i&&i.castsFrom(r))return i.from(t,e)}throw new Error(`Can not cast '${r}' to any of '${n.join(", ")}'`)}};var a=n(111)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getByAlias=function(e,t){const n=t.toLowerCase();return Object.values(e).find((({name:e,aliases:t})=>e.toLowerCase()===n||(t||[]).some((e=>e.toLowerCase()===n))))}},function(e,t,n){"use strict";var a=n(72);Object.defineProperty(t,"__esModule",{value:!0}),t.Registry=void 0;var r=a(n(1)),o=n(31);t.Registry=class Registry{constructor(e="name"){if((0,r.default)(this,"_prop",void 0),(0,r.default)(this,"_indexed",void 0),"string"!=typeof e)throw new Error("Registry property name must be a string");this._prop=e,this._indexed=new Object}wrapper(e){return e}register(e){const t="function"==typeof e?e():e;if("object"!=typeof t||!t[this._prop])throw new Error(`Registered functions must return an object with a ${this._prop} property`);this._indexed[t[this._prop].toLowerCase()]=this.wrapper(t)}toJS(){return Object.keys(this._indexed).reduce(((e,t)=>(e[t]=this.get(t),e)),{})}toArray(){return Object.keys(this._indexed).map((e=>this.get(e)))}get(e){if(void 0===e)return null;const t=e.toLowerCase();return this._indexed[t]?(0,o.clone)(this._indexed[t]):null}getProp(){return this._prop}reset(){this._indexed=new Object}}},function(e,t,n){"use strict";function a(e,t){return Object.keys(t).forEach((n=>{if(!e[n])throw new Error(`There is no registry named "${n}".`);if(!e[n].register)throw new Error(`Registry "${n}" must have a register function.`);t[n].forEach((t=>e[n].register(t)))})),e}Object.defineProperty(t,"__esModule",{value:!0}),t.addRegistries=function(e,t){return Object.keys(t).forEach((n=>{if(e[n])throw new Error(`There is already a registry named "${n}".`);e[n]=t[n]})),e},t.register=a,t.registryFactory=function(e){return{registries:()=>e,register:t=>a(e,t)}}},function(e,t,n){switch(window.__kbnThemeTag__){case"v8dark":return n(403);case"v8light":return n(405)}},function(e,t,n){var a=n(66),r=n(404);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);a(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){(t=n(67)(!1)).push([e.i,".lnsLayerPanel{margin-bottom:16px}.lnsLayerPanel:focus:not(:focus-visible){animation:none !important}.lnsLayerPanel__layerHeader{padding:16px;border-bottom:1px solid #343741}.lnsLayerPanel__layerSettingsWrapper{min-width:0}.lnsLayerPanel__settingsStaticHeader{padding-left:4px}.lnsLayerPanel__settingsStaticHeaderIcon{margin-right:8px;vertical-align:inherit}.lnsLayerPanel__settingsStaticHeaderTitle{display:inline}.lnsLayerPanel__row{background:#25262E;padding:16px}.lnsLayerPanel__row:last-child{border-radius:0 0 6px 6px}.lnsLayerPanel__row+.lnsLayerPanel__row{border-top:1px solid #343741;margin-top:0}.lnsLayerPanel__row>*{margin-bottom:0}.lnsLayerPanel__row>*+*,.lnsLayerPanel__row .euiFormRow__fieldWrapper>*+*{margin-top:16px}.lnsLayerPanel__group{margin:-8px -16px;padding:8px 16px}.lnsLayerPanel__dimension{font-size:14px;font-size:1rem;line-height:1.71429rem;border-radius:6px;display:flex;align-items:center;overflow:hidden;min-height:40px;position:relative}.lnsLayerPanel__dimension>div{flex-grow:1}.lnsLayerPanel__dimension--empty:focus,.lnsLayerPanel__dimension--empty:focus-within{outline:2px solid currentColor}.lnsLayerPanel__dimension--empty:focus:focus-visible,.lnsLayerPanel__dimension--empty:focus-within:focus-visible{outline-style:auto}.lnsLayerPanel__dimension--empty:focus:not(:focus-visible),.lnsLayerPanel__dimension--empty:focus-within:not(:focus-visible){outline:none}.lnsLayerPanel__dimensionContainer{position:relative}.lnsLayerPanel__dimensionContainer+.lnsLayerPanel__dimensionContainer{margin-top:8px}.lnsLayerPanel__dimensionRemove{margin-right:8px}.lnsLayerPanel__triggerText{width:100%;padding:8px;min-height:38px;word-break:break-word;font-weight:400}.lnsLayerPanel__triggerTextLabel{transition:background-color 150ms ease-in-out}.lnsLayerPanel__triggerTextContent{justify-content:flex-start;padding:0 !important;color:#7a7f89}.lnsLayerPanel__styleEditor{padding:16px}.lnsLayerPanel__colorIndicator{margin-left:8px}.lnsLayerPanel__paletteContainer{position:absolute;bottom:0;left:0;right:0}.lnsLayerPanel__palette{border-radius:0 0 5px 5px}.lnsLayerPanel__palette::after{border:none}.lnsLayerPanel__dimension .lnsLayerPanel__dimensionLink{width:100%}.lnsLayerPanel__dimension .lnsLayerPanel__dimensionLink:focus{outline:none;background-color:transparent}.lnsLayerPanel__dimension .lnsLayerPanel__dimensionLink:focus:focus-visible{outline-style:none}.lnsLayerPanel__dimension .lnsLayerPanel__dimensionLink:focus .lnsLayerPanel__triggerTextLabel{background-color:rgba(54,162,239,0.2);outline:2px solid currentColor}.lnsLayerPanel__dimension .lnsLayerPanel__dimensionLink:focus:focus-visible .lnsLayerPanel__triggerTextLabel{outline-style:auto}.lnsLayerPanel__dimension .lnsLayerPanel__dimensionLink:focus:not(:focus-visible) .lnsLayerPanel__triggerTextLabel{outline:none}\n",""]),e.exports=t},function(e,t,n){var a=n(66),r=n(406);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);a(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){(t=n(67)(!1)).push([e.i,".lnsLayerPanel{margin-bottom:16px}.lnsLayerPanel:focus:not(:focus-visible){animation:none !important}.lnsLayerPanel__layerHeader{padding:16px;border-bottom:1px solid #D3DAE6}.lnsLayerPanel__layerSettingsWrapper{min-width:0}.lnsLayerPanel__settingsStaticHeader{padding-left:4px}.lnsLayerPanel__settingsStaticHeaderIcon{margin-right:8px;vertical-align:inherit}.lnsLayerPanel__settingsStaticHeaderTitle{display:inline}.lnsLayerPanel__row{background:#F5F7FA;padding:16px}.lnsLayerPanel__row:last-child{border-radius:0 0 6px 6px}.lnsLayerPanel__row+.lnsLayerPanel__row{border-top:1px solid #D3DAE6;margin-top:0}.lnsLayerPanel__row>*{margin-bottom:0}.lnsLayerPanel__row>*+*,.lnsLayerPanel__row .euiFormRow__fieldWrapper>*+*{margin-top:16px}.lnsLayerPanel__group{margin:-8px -16px;padding:8px 16px}.lnsLayerPanel__dimension{font-size:14px;font-size:1rem;line-height:1.71429rem;border-radius:6px;display:flex;align-items:center;overflow:hidden;min-height:40px;position:relative}.lnsLayerPanel__dimension>div{flex-grow:1}.lnsLayerPanel__dimension--empty:focus,.lnsLayerPanel__dimension--empty:focus-within{outline:2px solid currentColor}.lnsLayerPanel__dimension--empty:focus:focus-visible,.lnsLayerPanel__dimension--empty:focus-within:focus-visible{outline-style:auto}.lnsLayerPanel__dimension--empty:focus:not(:focus-visible),.lnsLayerPanel__dimension--empty:focus-within:not(:focus-visible){outline:none}.lnsLayerPanel__dimensionContainer{position:relative}.lnsLayerPanel__dimensionContainer+.lnsLayerPanel__dimensionContainer{margin-top:8px}.lnsLayerPanel__dimensionRemove{margin-right:8px}.lnsLayerPanel__triggerText{width:100%;padding:8px;min-height:38px;word-break:break-word;font-weight:400}.lnsLayerPanel__triggerTextLabel{transition:background-color 150ms ease-in-out}.lnsLayerPanel__triggerTextContent{justify-content:flex-start;padding:0 !important;color:#69707D}.lnsLayerPanel__styleEditor{padding:16px}.lnsLayerPanel__colorIndicator{margin-left:8px}.lnsLayerPanel__paletteContainer{position:absolute;bottom:0;left:0;right:0}.lnsLayerPanel__palette{border-radius:0 0 5px 5px}.lnsLayerPanel__palette::after{border:none}.lnsLayerPanel__dimension .lnsLayerPanel__dimensionLink{width:100%}.lnsLayerPanel__dimension .lnsLayerPanel__dimensionLink:focus{outline:none;background-color:transparent}.lnsLayerPanel__dimension .lnsLayerPanel__dimensionLink:focus:focus-visible{outline-style:none}.lnsLayerPanel__dimension .lnsLayerPanel__dimensionLink:focus .lnsLayerPanel__triggerTextLabel{background-color:rgba(0,119,204,0.1);outline:2px solid currentColor}.lnsLayerPanel__dimension .lnsLayerPanel__dimensionLink:focus:focus-visible .lnsLayerPanel__triggerTextLabel{outline-style:auto}.lnsLayerPanel__dimension .lnsLayerPanel__dimensionLink:focus:not(:focus-visible) .lnsLayerPanel__triggerTextLabel{outline:none}\n",""]),e.exports=t},function(e,t,n){switch(window.__kbnThemeTag__){case"v8dark":return n(408);case"v8light":return n(410)}},function(e,t,n){var a=n(66),r=n(409);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);a(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){(t=n(67)(!1)).push([e.i,".lnsFrameLayout{padding:0;position:absolute;top:0;left:0;right:0;bottom:0;overflow:hidden;flex-direction:column}@media only screen and (max-width: 574px){.lnsFrameLayout{position:static}}@media only screen and (min-width: 575px) and (max-width: 767px){.lnsFrameLayout{position:static}}@media only screen and (min-width: 768px) and (max-width: 991px){.lnsFrameLayout{position:static}}.lnsFrameLayout__pageContent{overflow:hidden;flex-grow:1;flex-direction:row}@media only screen and (max-width: 574px){.lnsFrameLayout__pageContent{flex-wrap:wrap;overflow:auto}.lnsFrameLayout__pageContent>*{flex-basis:100%}.lnsFrameLayout__pageContent>.lnsFrameLayout__sidebar{min-height:360px}}@media only screen and (min-width: 575px) and (max-width: 767px){.lnsFrameLayout__pageContent{flex-wrap:wrap;overflow:auto}.lnsFrameLayout__pageContent>*{flex-basis:100%}.lnsFrameLayout__pageContent>.lnsFrameLayout__sidebar{min-height:360px}}@media only screen and (min-width: 768px) and (max-width: 991px){.lnsFrameLayout__pageContent{flex-wrap:wrap;overflow:auto}.lnsFrameLayout__pageContent>*{flex-basis:100%}.lnsFrameLayout__pageContent>.lnsFrameLayout__sidebar{min-height:360px}}.visEditor{flex:1 1 auto;display:flex;flex-direction:column;height:100%}.visEditor>*{flex-shrink:0}@media only screen and (max-width: 574px){.visEditor .visualization{min-height:360px}}@media only screen and (min-width: 575px) and (max-width: 767px){.visEditor .visualization{min-height:360px}}@media only screen and (min-width: 768px) and (max-width: 991px){.visEditor .visualization{min-height:360px}}.visEditor>.visualize{height:100%;flex:1 1 auto;display:flex;z-index:0}.lnsFrameLayout__pageBody{scrollbar-color:rgba(152,162,179,0.5) rgba(0,0,0,0);scrollbar-width:thin;min-width:320px;overflow:hidden auto;display:flex;flex-direction:column;flex:1 1 100%;padding:16px 16px 0;position:relative;z-index:1}.lnsFrameLayout__pageBody::-webkit-scrollbar{width:16px;height:16px}.lnsFrameLayout__pageBody::-webkit-scrollbar-thumb{background-color:rgba(152,162,179,0.5);background-clip:content-box;border-radius:16px;border:6px solid rgba(0,0,0,0)}.lnsFrameLayout__pageBody::-webkit-scrollbar-corner,.lnsFrameLayout__pageBody::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.lnsFrameLayout__pageBody:first-child{padding-left:16px}.lnsFrameLayout__pageBody.lnsFrameLayout__pageBody-isFullscreen{flex:1;padding:0}.lnsFrameLayout__sidebar{margin:0;flex:1 0 18%;min-width:304px;display:flex;flex-direction:column;position:relative}.lnsFrameLayout-isFullscreen .lnsFrameLayout__sidebar--left{display:none}.lnsFrameLayout__sidebar--right{flex-basis:25%;background-color:#000;min-width:320px;max-width:440px;max-height:100%}@media only screen and (max-width: 574px){.lnsFrameLayout__sidebar--right{max-width:100%}}@media only screen and (min-width: 575px) and (max-width: 767px){.lnsFrameLayout__sidebar--right{max-width:100%}}@media only screen and (min-width: 768px) and (max-width: 991px){.lnsFrameLayout__sidebar--right{max-width:100%}}.lnsFrameLayout__sidebar--right .lnsConfigPanel{scrollbar-color:rgba(152,162,179,0.5) rgba(0,0,0,0);scrollbar-width:thin;height:100%;overflow-y:auto;overflow-x:hidden;padding:16px 16px 32px 416px;margin-left:-400px}.lnsFrameLayout__sidebar--right .lnsConfigPanel::-webkit-scrollbar{width:16px;height:16px}.lnsFrameLayout__sidebar--right .lnsConfigPanel::-webkit-scrollbar-thumb{background-color:rgba(152,162,179,0.5);background-clip:content-box;border-radius:16px;border:6px solid rgba(0,0,0,0)}.lnsFrameLayout__sidebar--right .lnsConfigPanel::-webkit-scrollbar-corner,.lnsFrameLayout__sidebar--right .lnsConfigPanel::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.lnsFrameLayout__sidebar--right .lnsConfigPanel:focus{outline:none}.lnsFrameLayout__sidebar--right .lnsConfigPanel[tabindex='0']:focus:focus-visible{outline-style:auto}@media only screen and (max-width: 574px){.lnsFrameLayout__sidebar--right .lnsConfigPanel{padding-left:16px;margin-left:0}}@media only screen and (min-width: 575px) and (max-width: 767px){.lnsFrameLayout__sidebar--right .lnsConfigPanel{padding-left:16px;margin-left:0}}@media only screen and (min-width: 768px) and (max-width: 991px){.lnsFrameLayout__sidebar--right .lnsConfigPanel{padding-left:16px;margin-left:0}}.lnsFrameLayout__sidebar-isFullscreen{flex:1;max-width:none}\n",""]),e.exports=t},function(e,t,n){var a=n(66),r=n(411);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);a(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){(t=n(67)(!1)).push([e.i,".lnsFrameLayout{padding:0;position:absolute;top:0;left:0;right:0;bottom:0;overflow:hidden;flex-direction:column}@media only screen and (max-width: 574px){.lnsFrameLayout{position:static}}@media only screen and (min-width: 575px) and (max-width: 767px){.lnsFrameLayout{position:static}}@media only screen and (min-width: 768px) and (max-width: 991px){.lnsFrameLayout{position:static}}.lnsFrameLayout__pageContent{overflow:hidden;flex-grow:1;flex-direction:row}@media only screen and (max-width: 574px){.lnsFrameLayout__pageContent{flex-wrap:wrap;overflow:auto}.lnsFrameLayout__pageContent>*{flex-basis:100%}.lnsFrameLayout__pageContent>.lnsFrameLayout__sidebar{min-height:360px}}@media only screen and (min-width: 575px) and (max-width: 767px){.lnsFrameLayout__pageContent{flex-wrap:wrap;overflow:auto}.lnsFrameLayout__pageContent>*{flex-basis:100%}.lnsFrameLayout__pageContent>.lnsFrameLayout__sidebar{min-height:360px}}@media only screen and (min-width: 768px) and (max-width: 991px){.lnsFrameLayout__pageContent{flex-wrap:wrap;overflow:auto}.lnsFrameLayout__pageContent>*{flex-basis:100%}.lnsFrameLayout__pageContent>.lnsFrameLayout__sidebar{min-height:360px}}.visEditor{flex:1 1 auto;display:flex;flex-direction:column;height:100%}.visEditor>*{flex-shrink:0}@media only screen and (max-width: 574px){.visEditor .visualization{min-height:360px}}@media only screen and (min-width: 575px) and (max-width: 767px){.visEditor .visualization{min-height:360px}}@media only screen and (min-width: 768px) and (max-width: 991px){.visEditor .visualization{min-height:360px}}.visEditor>.visualize{height:100%;flex:1 1 auto;display:flex;z-index:0}.lnsFrameLayout__pageBody{scrollbar-color:rgba(105,112,125,0.5) rgba(0,0,0,0);scrollbar-width:thin;min-width:320px;overflow:hidden auto;display:flex;flex-direction:column;flex:1 1 100%;padding:16px 16px 0;position:relative;z-index:1}.lnsFrameLayout__pageBody::-webkit-scrollbar{width:16px;height:16px}.lnsFrameLayout__pageBody::-webkit-scrollbar-thumb{background-color:rgba(105,112,125,0.5);background-clip:content-box;border-radius:16px;border:6px solid rgba(0,0,0,0)}.lnsFrameLayout__pageBody::-webkit-scrollbar-corner,.lnsFrameLayout__pageBody::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.lnsFrameLayout__pageBody:first-child{padding-left:16px}.lnsFrameLayout__pageBody.lnsFrameLayout__pageBody-isFullscreen{flex:1;padding:0}.lnsFrameLayout__sidebar{margin:0;flex:1 0 18%;min-width:304px;display:flex;flex-direction:column;position:relative}.lnsFrameLayout-isFullscreen .lnsFrameLayout__sidebar--left{display:none}.lnsFrameLayout__sidebar--right{flex-basis:25%;background-color:#F5F7FA;min-width:320px;max-width:440px;max-height:100%}@media only screen and (max-width: 574px){.lnsFrameLayout__sidebar--right{max-width:100%}}@media only screen and (min-width: 575px) and (max-width: 767px){.lnsFrameLayout__sidebar--right{max-width:100%}}@media only screen and (min-width: 768px) and (max-width: 991px){.lnsFrameLayout__sidebar--right{max-width:100%}}.lnsFrameLayout__sidebar--right .lnsConfigPanel{scrollbar-color:rgba(105,112,125,0.5) rgba(0,0,0,0);scrollbar-width:thin;height:100%;overflow-y:auto;overflow-x:hidden;padding:16px 16px 32px 416px;margin-left:-400px}.lnsFrameLayout__sidebar--right .lnsConfigPanel::-webkit-scrollbar{width:16px;height:16px}.lnsFrameLayout__sidebar--right .lnsConfigPanel::-webkit-scrollbar-thumb{background-color:rgba(105,112,125,0.5);background-clip:content-box;border-radius:16px;border:6px solid rgba(0,0,0,0)}.lnsFrameLayout__sidebar--right .lnsConfigPanel::-webkit-scrollbar-corner,.lnsFrameLayout__sidebar--right .lnsConfigPanel::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.lnsFrameLayout__sidebar--right .lnsConfigPanel:focus{outline:none}.lnsFrameLayout__sidebar--right .lnsConfigPanel[tabindex='0']:focus:focus-visible{outline-style:auto}@media only screen and (max-width: 574px){.lnsFrameLayout__sidebar--right .lnsConfigPanel{padding-left:16px;margin-left:0}}@media only screen and (min-width: 575px) and (max-width: 767px){.lnsFrameLayout__sidebar--right .lnsConfigPanel{padding-left:16px;margin-left:0}}@media only screen and (min-width: 768px) and (max-width: 991px){.lnsFrameLayout__sidebar--right .lnsConfigPanel{padding-left:16px;margin-left:0}}.lnsFrameLayout__sidebar-isFullscreen{flex:1;max-width:none}\n",""]),e.exports=t},function(e,t,n){switch(window.__kbnThemeTag__){case"v8dark":return n(413);case"v8light":return n(415)}},function(e,t,n){var a=n(66),r=n(414);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);a(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){(t=n(67)(!1)).push([e.i,".lnsSuggestionPanel__suggestions{scrollbar-color:rgba(152,162,179,0.5) rgba(0,0,0,0);scrollbar-width:thin;-webkit-mask-image:linear-gradient(to right, rgba(248,107,99,0.1) 0%, #f86b63 5px, #f86b63 calc(100% - 5px), rgba(248,107,99,0.1) 100%);mask-image:linear-gradient(to right, rgba(248,107,99,0.1) 0%, #f86b63 5px, #f86b63 calc(100% - 5px), rgba(248,107,99,0.1) 100%);padding-top:4px;overflow-x:scroll;overflow-y:hidden;display:flex;padding-left:4px;margin-left:-4px;padding-right:4px;margin-right:-4px}.lnsSuggestionPanel__suggestions::-webkit-scrollbar{width:16px;height:16px}.lnsSuggestionPanel__suggestions::-webkit-scrollbar-thumb{background-color:rgba(152,162,179,0.5);background-clip:content-box;border-radius:16px;border:6px solid rgba(0,0,0,0)}.lnsSuggestionPanel__suggestions::-webkit-scrollbar-corner,.lnsSuggestionPanel__suggestions::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.lnsSuggestionPanel{padding-bottom:8px}.lnsSuggestionPanel__button{position:relative;flex:0 0 auto;width:150px !important;height:100px;margin-right:8px;margin-left:2px;margin-bottom:2px;box-shadow:none !important}.lnsSuggestionPanel__button:focus{outline:2px solid currentColor;transform:none !important}.lnsSuggestionPanel__button:focus:focus-visible{outline-style:auto}.lnsSuggestionPanel__button:focus:not(:focus-visible){outline:none}.lnsSuggestionPanel__button .lnsSuggestionPanel__expressionRenderer{position:static}.lnsSuggestionPanel__button-isSelected{background-color:#25262E !important;border-color:#535966 !important}.lnsSuggestionPanel__button-isSelected:not(:focus){box-shadow:none !important}.lnsSuggestionPanel__button-isSelected:focus{outline:2px solid currentColor}.lnsSuggestionPanel__button-isSelected:focus:focus-visible{outline-style:auto}.lnsSuggestionPanel__button-isSelected:focus:not(:focus-visible){outline:none}.lnsSuggestionPanel__button-isSelected:hover{transform:none !important}.lnsSuggestionPanel__suggestionIcon{color:#98A2B3;width:100%;height:100%;display:flex;align-items:center;justify-content:center;padding:8px}.lnsSuggestionPanel__suggestionIcon:not(:only-child){height:calc(100% - 24px)}.lnsSuggestionPanel__chartWrapper{display:flex;height:100%;width:100%;pointer-events:none}.lnsSuggestionPanel__chartWrapper--withLabel{height:calc(100% - 24px)}.lnsSuggestionPanel__buttonLabel{max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important;font-size:12px;font-size:.85714rem;line-height:1.14286rem;display:block;font-weight:700;text-align:center;flex-grow:0}.lnsSuggestionPanel__applyChangesPrompt{height:100px;background-color:#25262E !important;display:flex;flex-direction:column;align-items:center;justify-content:center}\n",""]),e.exports=t},function(e,t,n){var a=n(66),r=n(416);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);a(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){(t=n(67)(!1)).push([e.i,".lnsSuggestionPanel__suggestions{scrollbar-color:rgba(105,112,125,0.5) rgba(0,0,0,0);scrollbar-width:thin;-webkit-mask-image:linear-gradient(to right, rgba(189,39,30,0.1) 0%, #bd271e 5px, #bd271e calc(100% - 5px), rgba(189,39,30,0.1) 100%);mask-image:linear-gradient(to right, rgba(189,39,30,0.1) 0%, #bd271e 5px, #bd271e calc(100% - 5px), rgba(189,39,30,0.1) 100%);padding-top:4px;overflow-x:scroll;overflow-y:hidden;display:flex;padding-left:4px;margin-left:-4px;padding-right:4px;margin-right:-4px}.lnsSuggestionPanel__suggestions::-webkit-scrollbar{width:16px;height:16px}.lnsSuggestionPanel__suggestions::-webkit-scrollbar-thumb{background-color:rgba(105,112,125,0.5);background-clip:content-box;border-radius:16px;border:6px solid rgba(0,0,0,0)}.lnsSuggestionPanel__suggestions::-webkit-scrollbar-corner,.lnsSuggestionPanel__suggestions::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.lnsSuggestionPanel{padding-bottom:8px}.lnsSuggestionPanel__button{position:relative;flex:0 0 auto;width:150px !important;height:100px;margin-right:8px;margin-left:2px;margin-bottom:2px;box-shadow:none !important}.lnsSuggestionPanel__button:focus{outline:2px solid currentColor;transform:none !important}.lnsSuggestionPanel__button:focus:focus-visible{outline-style:auto}.lnsSuggestionPanel__button:focus:not(:focus-visible){outline:none}.lnsSuggestionPanel__button .lnsSuggestionPanel__expressionRenderer{position:static}.lnsSuggestionPanel__button-isSelected{background-color:#F5F7FA !important;border-color:#98A2B3 !important}.lnsSuggestionPanel__button-isSelected:not(:focus){box-shadow:none !important}.lnsSuggestionPanel__button-isSelected:focus{outline:2px solid currentColor}.lnsSuggestionPanel__button-isSelected:focus:focus-visible{outline-style:auto}.lnsSuggestionPanel__button-isSelected:focus:not(:focus-visible){outline:none}.lnsSuggestionPanel__button-isSelected:hover{transform:none !important}.lnsSuggestionPanel__suggestionIcon{color:#69707D;width:100%;height:100%;display:flex;align-items:center;justify-content:center;padding:8px}.lnsSuggestionPanel__suggestionIcon:not(:only-child){height:calc(100% - 24px)}.lnsSuggestionPanel__chartWrapper{display:flex;height:100%;width:100%;pointer-events:none}.lnsSuggestionPanel__chartWrapper--withLabel{height:calc(100% - 24px)}.lnsSuggestionPanel__buttonLabel{max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important;font-size:12px;font-size:.85714rem;line-height:1.14286rem;display:block;font-weight:700;text-align:center;flex-grow:0}.lnsSuggestionPanel__applyChangesPrompt{height:100px;background-color:#F5F7FA !important;display:flex;flex-direction:column;align-items:center;justify-content:center}\n",""]),e.exports=t},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),r=n(116),o=function(){};t.default=function(e,t,n){if(!r.isClient)return[t,o,o];if(!e)throw new Error("useLocalStorage key may not be falsy");var i=n?n.raw?function(e){return e}:n.deserializer:JSON.parse,s=a.useState((function(){try{var a=n?n.raw?String:n.serializer:JSON.stringify,r=localStorage.getItem(e);return null!==r?i(r):(t&&localStorage.setItem(e,a(t)),t)}catch(e){return t}})),l=s[0],u=s[1],c=a.useCallback((function(t){try{var a="function"==typeof t?t(l):t;if(void 0===a)return;var r;r=n?n.raw?"string"==typeof a?a:JSON.stringify(a):n.serializer?n.serializer(a):JSON.stringify(a):JSON.stringify(a),localStorage.setItem(e,r),u(i(r))}catch(e){}}),[e,u]),d=a.useCallback((function(){try{localStorage.removeItem(e),u(void 0)}catch(e){}}),[e,u]);return[l,c,d]}},function(e,t,n){e.exports=n.p+"45188dbc89267e9797b89282522041e9.png"},function(e,t,n){e.exports=n.p+"6674a34547270955e8a25748a9e3d7a5.png"}])]);