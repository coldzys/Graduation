!function(e){function t(t){for(var n,a,r=t[0],i=t[1],l=0,c=[];l<r.length;l++)a=r[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&c.push(o[a][0]),o[a]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);for(s&&s(t);c.length;)c.shift()()}var n={},o={1:0};function a(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.e=function(e){var t=[],n=o[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,a){n=o[e]=[t,a]}));t.push(n[2]=r);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,a.nc&&l.setAttribute("nonce",a.nc),l.src=function(e){return a.p+"controls.chunk."+e+".js"}(e);var s=new Error;i=function(t){l.onerror=l.onload=null,clearTimeout(c);var n=o[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",s.name="ChunkLoadError",s.type=a,s.request=r,n[1](s)}o[e]=void 0}};var c=setTimeout((function(){i({type:"timeout",target:l})}),12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(t)},a.m=e,a.c=n,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a.oe=function(e){throw console.error(e),e};var r=window.controls_bundle_jsonpfunction=window.controls_bundle_jsonpfunction||[],i=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var s=i;a(a.s=26)}([function(e,t){e.exports=__kbnSharedDeps__.KbnI18n},function(e,t,n){e.exports=n(24)(2)},function(e,t,n){n.r(t);var o=__kbnBundles__.get("plugin/presentationUtil/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(o))},function(e,t){e.exports=__kbnSharedDeps__.EmotionReact},function(e,t){e.exports=__kbnSharedDeps__.React},function(e,t){e.exports=__kbnSharedDeps__.ElasticEui},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o="optionsListControl"},function(e,t,n){"use strict";n.r(t),n.d(t,"CONTROL_GROUP_TYPE",(function(){return o.a})),n.d(t,"controlGroupInputToRawControlGroupAttributes",(function(){return d})),n.d(t,"rawControlGroupAttributesToControlGroupInput",(function(){return g})),n.d(t,"rawControlGroupAttributesToSerializable",(function(){return p})),n.d(t,"serializableToRawControlGroupAttributes",(function(){return f})),n.d(t,"persistableControlGroupInputIsEqual",(function(){return u})),n.d(t,"getDefaultControlGroupInput",(function(){return c})),n.d(t,"DEFAULT_CONTROL_WIDTH",(function(){return l.b})),n.d(t,"DEFAULT_CONTROL_STYLE",(function(){return l.a})),n.d(t,"OPTIONS_LIST_CONTROL",(function(){return m.a})),n.d(t,"RANGE_SLIDER_CONTROL",(function(){return b.a})),n.d(t,"TIME_SLIDER_CONTROL",(function(){return y}));var o=n(15),a=n(8),r=n.n(a),i=n(19),l=n(13);const s=e=>{if(e||"string"==typeof e)try{return JSON.parse(e)}catch{return}},c=()=>({panels:{},defaultControlWidth:l.b,controlStyle:l.a,chainingSystem:"HIERARCHICAL",ignoreParentSettings:{ignoreFilters:!1,ignoreQuery:!1,ignoreTimerange:!1,ignoreValidations:!1}}),u=(e,t)=>{const n=c(),o={...n,...Object(i.pick)(e,["panels","chainingSystem","controlStyle","ignoreParentSettings"])},a={...n,...Object(i.pick)(t,["panels","chainingSystem","controlStyle","ignoreParentSettings"])};return!!r()(o,a)},d=e=>({controlStyle:e.controlStyle,chainingSystem:e.chainingSystem,panelsJSON:JSON.stringify(e.panels),ignoreParentSettingsJSON:JSON.stringify(e.ignoreParentSettings)}),g=e=>{const t=c(),{chainingSystem:n,controlStyle:o,ignoreParentSettingsJSON:a,panelsJSON:r}=e,i=s(r),l=s(a);return{...t,...n?{chainingSystem:n}:{},...o?{controlStyle:o}:{},...l?{ignoreParentSettings:l}:{},...i?{panels:i}:{}}},p=e=>{var t,n,o;const a=c();return{chainingSystem:null==e?void 0:e.chainingSystem,controlStyle:null!==(t=null==e?void 0:e.controlStyle)&&void 0!==t?t:a.controlStyle,ignoreParentSettings:null!==(n=s(null==e?void 0:e.ignoreParentSettingsJSON))&&void 0!==n?n:{},panels:null!==(o=s(null==e?void 0:e.panelsJSON))&&void 0!==o?o:{}}},f=e=>({controlStyle:e.controlStyle,chainingSystem:e.chainingSystem,ignoreParentSettingsJSON:JSON.stringify(e.ignoreParentSettings),panelsJSON:JSON.stringify(e.panels)});var m=n(6),b=n(12);const y="timeSlider"},function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var o,a,r;if(Array.isArray(t)){if((o=t.length)!=n.length)return!1;for(a=o;0!=a--;)if(!e(t[a],n[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((o=(r=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(a=o;0!=a--;)if(!Object.prototype.hasOwnProperty.call(n,r[a]))return!1;for(a=o;0!=a--;){var i=r[a];if(!e(t[i],n[i]))return!1}return!0}return t!=t&&n!=n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n(0);const a={getDisplayName:()=>o.i18n.translate("controls.optionsList.displayName",{defaultMessage:"Options list"}),getDescription:()=>o.i18n.translate("controls.optionsList.description",{defaultMessage:"Add a menu for selecting field values."}),summary:{getSeparator:()=>o.i18n.translate("controls.optionsList.summary.separator",{defaultMessage:", "}),getPlaceholder:()=>o.i18n.translate("controls.optionsList.summary.placeholder",{defaultMessage:"Select..."})},editor:{getDataViewTitle:()=>o.i18n.translate("controls.optionsList.editor.dataViewTitle",{defaultMessage:"Data view"}),getNoDataViewTitle:()=>o.i18n.translate("controls.optionsList.editor.noDataViewTitle",{defaultMessage:"Select data view"}),getFieldTitle:()=>o.i18n.translate("controls.optionsList.editor.fieldTitle",{defaultMessage:"Field"}),getAllowMultiselectTitle:()=>o.i18n.translate("controls.optionsList.editor.allowMultiselectTitle",{defaultMessage:"Allow multiple selections in dropdown"})},popover:{getLoadingMessage:()=>o.i18n.translate("controls.optionsList.popover.loading",{defaultMessage:"Loading options"}),getEmptyMessage:()=>o.i18n.translate("controls.optionsList.popover.empty",{defaultMessage:"No options found"}),getSelectionsEmptyMessage:()=>o.i18n.translate("controls.optionsList.popover.selectionsEmpty",{defaultMessage:"You have no selections"}),getAllOptionsButtonTitle:()=>o.i18n.translate("controls.optionsList.popover.allOptionsTitle",{defaultMessage:"Show all options"}),getSelectedOptionsButtonTitle:()=>o.i18n.translate("controls.optionsList.popover.selectedOptionsTitle",{defaultMessage:"Show only selected options"}),getClearAllSelectionsButtonTitle:()=>o.i18n.translate("controls.optionsList.popover.clearAllSelectionsTitle",{defaultMessage:"Clear selections"}),getTotalCardinalityTooltip:e=>o.i18n.translate("controls.optionsList.popover.cardinalityTooltip",{defaultMessage:"{totalOptions} available options.",values:{totalOptions:e}}),getTotalCardinalityPlaceholder:e=>o.i18n.translate("controls.optionsList.popover.cardinalityPlaceholder",{defaultMessage:"Search {totalOptions} available {totalOptions, plural, one {option} other {options}}",values:{totalOptions:e}}),getInvalidSelectionsTitle:e=>o.i18n.translate("controls.optionsList.popover.invalidSelectionsTitle",{defaultMessage:"{invalidSelectionCount} selected options ignored",values:{invalidSelectionCount:e}}),getInvalidSelectionsSectionTitle:e=>o.i18n.translate("controls.optionsList.popover.invalidSelectionsSectionTitle",{defaultMessage:"Ignored {invalidSelectionCount, plural, one {selection} other {selections}}",values:{invalidSelectionCount:e}}),getInvalidSelectionsAriaLabel:()=>o.i18n.translate("controls.optionsList.popover.invalidSelectionsAriaLabel",{defaultMessage:"Deselect all ignored selections"}),getInvalidSelectionsTooltip:e=>o.i18n.translate("controls.optionsList.popover.invalidSelectionsTooltip",{defaultMessage:"{selectedOptions} selected {selectedOptions, plural, one {option} other {options}} {selectedOptions, plural, one {is} other {are}} ignored because {selectedOptions, plural, one {it is} other {they are}} no longer in the data.",values:{selectedOptions:e}})},errors:{getDataViewNotFoundError:e=>o.i18n.translate("controls.optionsList.errors.dataViewNotFound",{defaultMessage:"Could not locate data view: {dataViewId}",values:{dataViewId:e}}),getfieldNotFoundError:e=>o.i18n.translate("controls.optionsList.errors.fieldNotFound",{defaultMessage:"Could not locate field: {fieldId}",values:{fieldId:e}})}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n(0);const a={getDisplayName:()=>o.i18n.translate("controls.rangeSlider.displayName",{defaultMessage:"Range slider"}),getDescription:()=>o.i18n.translate("controls.rangeSlider.description",{defaultMessage:"Add a control for selecting a range of field values."}),editor:{getDataViewTitle:()=>o.i18n.translate("controls.rangeSlider.editor.dataViewTitle",{defaultMessage:"Data view"}),getNoDataViewTitle:()=>o.i18n.translate("controls.rangeSlider.editor.noDataViewTitle",{defaultMessage:"Select data view"}),getFieldTitle:()=>o.i18n.translate("controls.rangeSlider.editor.fieldTitle",{defaultMessage:"Field"})},popover:{getAllOptionsButtonTitle:()=>o.i18n.translate("controls.rangeSlider.popover.allOptionsTitle",{defaultMessage:"Show all options"}),getClearRangeButtonTitle:()=>o.i18n.translate("controls.rangeSlider.popover.clearRangeTitle",{defaultMessage:"Clear range"}),getNoDataHelpText:()=>o.i18n.translate("controls.rangeSlider.popover.noDataHelpText",{defaultMessage:"Selected range is outside of available data. No filter was applied."})},errors:{getDataViewNotFoundError:e=>o.i18n.translate("controls.optionsList.errors.dataViewNotFound",{defaultMessage:"Could not locate data view: {dataViewId}",values:{dataViewId:e}}),getUpperLessThanLowerErrorMessage:()=>o.i18n.translate("controls.rangeSlider.popover.upperLessThanLowerErrorMessage",{defaultMessage:"The upper bound must be greater than or equal to the lower bound."})}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var o=n(2),a=n(1),r=n.n(a);class overlays_StubRef{constructor(){r()(this,"onClose",Promise.resolve())}close(){return this.onClose}}var i=n(14);let l,s=({field:e,query:t})=>Promise.resolve(["storybook","default","values"]),c=async(e,t)=>new Promise((e=>setTimeout((()=>e({suggestions:[],totalCardinality:100})),120)));const u={http:new o.PluginServiceProvider((()=>({fetch:async()=>({})}))),data:new o.PluginServiceProvider((()=>({autocomplete:{getValueSuggestions:s},query:{},searchSource:{create:()=>({setField:()=>{},fetch$:()=>Object(i.of)({resp:{rawResponse:{aggregations:{minAgg:{value:0},maxAgg:{value:1e3}}}}})})},timefilter:{createFilter:()=>{}},fetchFieldRange:()=>Promise.resolve({min:0,max:100}),fetchFieldRange$:()=>new i.Observable,getDataView:()=>Promise.resolve({}),getDataView$:()=>new i.Observable({})}))),overlays:new o.PluginServiceProvider((()=>({openFlyout:(e,t)=>new overlays_StubRef,openConfirm:(e,t)=>Promise.resolve(!0)}))),dataViews:new o.PluginServiceProvider((()=>({get:()=>new Promise((e=>setTimeout((()=>e(l)),100))),getIdsWithTitle:()=>new Promise((e=>setTimeout((()=>e([{id:l.id,title:l.title}])),100))),getDefaultId:()=>{var e;return Promise.resolve(null!==(l,e=void 0)&&void 0!==e?e:null)}}))),settings:new o.PluginServiceProvider((()=>({getTimezone:()=>"Browser",getDateFormat:()=>"MMM D, YYYY @ HH:mm:ss.SSS"}))),controls:new o.PluginServiceProvider((()=>(()=>{const e={};return{registerControlType:t=>{e[t.type]=t},getControlFactory:t=>e[t],getControlTypes:()=>Object.keys(e)}})())),optionsList:new o.PluginServiceProvider((()=>({runOptionsListRequest:c})))},d=(new o.PluginServiceRegistry(u),new o.PluginServices)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o="rangeSliderControl"},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));const o="auto",a="oneLine"},function(e,t){e.exports=__kbnSharedDeps__.Rxjs},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o="control_group"},function(e,t,n){"use strict";var o=n(15);n.d(t,"a",(function(){return o.a}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(25).__importDefault(n(28));t.default=function(e){o.default((function(){e()}))}},function(e,t,n){n.r(t);var o=__kbnBundles__.get("plugin/dataViews/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(o))},function(e,t){e.exports=__kbnSharedDeps__.Lodash},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));const o=()=>r,a={},r={registerControlType:e=>{a[e.type]=e},getControlFactory:e=>a[e],getControlTypes:()=>Object.keys(a)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n(0);const a={getEmbeddableTitle:()=>o.i18n.translate("controls.controlGroup.title",{defaultMessage:"Control group"}),getControlButtonTitle:()=>o.i18n.translate("controls.controlGroup.toolbarButtonTitle",{defaultMessage:"Controls"}),emptyState:{getCallToAction:()=>o.i18n.translate("controls.controlGroup.emptyState.callToAction",{defaultMessage:"Controls let you filter and interact with your dashboard data"}),getAddControlButtonTitle:()=>o.i18n.translate("controls.controlGroup.emptyState.addControlButtonTitle",{defaultMessage:"Add control"}),getTwoLineLoadingTitle:()=>o.i18n.translate("controls.controlGroup.emptyState.twoLineLoadingTitle",{defaultMessage:"..."}),getDismissButton:()=>o.i18n.translate("controls.controlGroup.emptyState.dismissButton",{defaultMessage:"Dismiss"})},manageControl:{getFlyoutCreateTitle:()=>o.i18n.translate("controls.controlGroup.manageControl.createFlyoutTitle",{defaultMessage:"Create control"}),getFlyoutEditTitle:()=>o.i18n.translate("controls.controlGroup.manageControl.editFlyoutTitle",{defaultMessage:"Edit control"}),getTitleInputTitle:()=>o.i18n.translate("controls.controlGroup.manageControl.titleInputTitle",{defaultMessage:"Label"}),getControlTypeTitle:()=>o.i18n.translate("controls.controlGroup.manageControl.controlTypesTitle",{defaultMessage:"Control type"}),getWidthInputTitle:()=>o.i18n.translate("controls.controlGroup.manageControl.widthInputTitle",{defaultMessage:"Control size"}),getSaveChangesTitle:()=>o.i18n.translate("controls.controlGroup.manageControl.saveChangesTitle",{defaultMessage:"Save and close"}),getCancelTitle:()=>o.i18n.translate("controls.controlGroup.manageControl.cancelTitle",{defaultMessage:"Cancel"})},management:{getAddControlTitle:()=>o.i18n.translate("controls.controlGroup.management.addControl",{defaultMessage:"Add control"}),getManageButtonTitle:()=>o.i18n.translate("controls.controlGroup.management.buttonTitle",{defaultMessage:"Settings"}),getFlyoutTitle:()=>o.i18n.translate("controls.controlGroup.management.flyoutTitle",{defaultMessage:"Control settings"}),getDefaultWidthTitle:()=>o.i18n.translate("controls.controlGroup.management.defaultWidthTitle",{defaultMessage:"Default size"}),getDeleteButtonTitle:()=>o.i18n.translate("controls.controlGroup.management.delete",{defaultMessage:"Delete control"}),getSetAllWidthsToDefaultTitle:()=>o.i18n.translate("controls.controlGroup.management.setAllWidths",{defaultMessage:"Set all sizes to default"}),getDeleteAllButtonTitle:()=>o.i18n.translate("controls.controlGroup.management.deleteAll",{defaultMessage:"Delete all"}),controlWidth:{getWidthSwitchLegend:()=>o.i18n.translate("controls.controlGroup.management.layout.controlWidthLegend",{defaultMessage:"Change control size"}),getAutoWidthTitle:()=>o.i18n.translate("controls.controlGroup.management.layout.auto",{defaultMessage:"Auto"}),getSmallWidthTitle:()=>o.i18n.translate("controls.controlGroup.management.layout.small",{defaultMessage:"Small"}),getMediumWidthTitle:()=>o.i18n.translate("controls.controlGroup.management.layout.medium",{defaultMessage:"Medium"}),getLargeWidthTitle:()=>o.i18n.translate("controls.controlGroup.management.layout.large",{defaultMessage:"Large"})},labelPosition:{getLabelPositionTitle:()=>o.i18n.translate("controls.controlGroup.management.labelPosition.title",{defaultMessage:"Label position"}),getLabelPositionLegend:()=>o.i18n.translate("controls.controlGroup.management.labelPosition.designSwitchLegend",{defaultMessage:"Switch label position between inline and above"}),getInlineTitle:()=>o.i18n.translate("controls.controlGroup.management.labelPosition.inline",{defaultMessage:"Inline"}),getAboveTitle:()=>o.i18n.translate("controls.controlGroup.management.labelPosition.above",{defaultMessage:"Above"})},deleteControls:{getDeleteAllTitle:()=>o.i18n.translate("controls.controlGroup.management.delete.deleteAllTitle",{defaultMessage:"Delete all controls?"}),getDeleteTitle:()=>o.i18n.translate("controls.controlGroup.management.delete.deleteTitle",{defaultMessage:"Delete control?"}),getSubtitle:()=>o.i18n.translate("controls.controlGroup.management.delete.sub",{defaultMessage:"Controls are not recoverable once removed."}),getConfirm:()=>o.i18n.translate("controls.controlGroup.management.delete.confirm",{defaultMessage:"Delete"}),getCancel:()=>o.i18n.translate("controls.controlGroup.management.delete.cancel",{defaultMessage:"Cancel"})},discardChanges:{getTitle:()=>o.i18n.translate("controls.controlGroup.management.discard.title",{defaultMessage:"Discard changes?"}),getSubtitle:()=>o.i18n.translate("controls.controlGroup.management.discard.sub",{defaultMessage:"Changes that you've made to this control will be discarded, are you sure you want to continue?"}),getConfirm:()=>o.i18n.translate("controls.controlGroup.management.discard.confirm",{defaultMessage:"Discard changes"}),getCancel:()=>o.i18n.translate("controls.controlGroup.management.discard.cancel",{defaultMessage:"Cancel"})},discardNewControl:{getTitle:()=>o.i18n.translate("controls.controlGroup.management.deleteNew.title",{defaultMessage:"Discard new control"}),getSubtitle:()=>o.i18n.translate("controls.controlGroup.management.deleteNew.sub",{defaultMessage:"Changes that you've made to this control will be discarded, are you sure you want to continue?"}),getConfirm:()=>o.i18n.translate("controls.controlGroup.management.deleteNew.confirm",{defaultMessage:"Discard control"}),getCancel:()=>o.i18n.translate("controls.controlGroup.management.deleteNew.cancel",{defaultMessage:"Cancel"})},validateSelections:{getValidateSelectionsTitle:()=>o.i18n.translate("controls.controlGroup.management.validate.title",{defaultMessage:"Validate user selections"}),getValidateSelectionsSubTitle:()=>o.i18n.translate("controls.controlGroup.management.validate.subtitle",{defaultMessage:"Automatically ignore any control selection that would result in no data."})},controlChaining:{getHierarchyTitle:()=>o.i18n.translate("controls.controlGroup.management.hierarchy.title",{defaultMessage:"Chain controls"}),getHierarchySubTitle:()=>o.i18n.translate("controls.controlGroup.management.hierarchy.subtitle",{defaultMessage:"Selections in one control narrow down available options in the next. Controls are chained from left to right."})},querySync:{getQuerySettingsTitle:()=>o.i18n.translate("controls.controlGroup.management.query.searchSettingsTitle",{defaultMessage:"Sync with query bar"}),getQuerySettingsSubtitle:()=>o.i18n.translate("controls.controlGroup.management.query.useAllSearchSettingsTitle",{defaultMessage:"Keeps the control group in sync with the query bar by applying time range, filter pills, and queries from the query bar"}),getAdvancedSettingsTitle:()=>o.i18n.translate("controls.controlGroup.management.query.advancedSettings",{defaultMessage:"Advanced"}),getIgnoreTimerangeTitle:()=>o.i18n.translate("controls.controlGroup.management.query.ignoreTimerange",{defaultMessage:"Ignore timerange"}),getIgnoreQueryTitle:()=>o.i18n.translate("controls.controlGroup.management.query.ignoreQuery",{defaultMessage:"Ignore query bar"}),getIgnoreFilterPillsTitle:()=>o.i18n.translate("controls.controlGroup.management.query.ignoreFilterPills",{defaultMessage:"Ignore filter pills"})}},floatingActions:{getEditButtonTitle:()=>o.i18n.translate("controls.controlGroup.floatingActions.editTitle",{defaultMessage:"Edit control"}),getRemoveButtonTitle:()=>o.i18n.translate("controls.controlGroup.floatingActions.removeTitle",{defaultMessage:"Remove control"})}}},function(e,t,n){"use strict";var o=n(6);n.d(t,"a",(function(){return o.a}))},function(e,t,n){"use strict";n(6);var o=n(12);n.d(t,"a",(function(){return o.a}))},function(e,t){e.exports=__kbnSharedDeps_npm__},function(e,t){e.exports=__kbnSharedDeps__.TsLib},function(e,t,n){n(27),__kbnBundles__.define("plugin/controls/public",n,29),__kbnBundles__.define("plugin/controls/common",n,7)},function(e,t,n){n.p=window.__kbnPublicPath__.controls},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(4);t.default=function(e){o.useEffect(e,[])}},function(e,t,n){"use strict";n.r(t),n.d(t,"CONTROL_GROUP_TYPE",(function(){return L.CONTROL_GROUP_TYPE})),n.d(t,"OPTIONS_LIST_CONTROL",(function(){return L.OPTIONS_LIST_CONTROL})),n.d(t,"RANGE_SLIDER_CONTROL",(function(){return L.RANGE_SLIDER_CONTROL})),n.d(t,"TIME_SLIDER_CONTROL",(function(){return L.TIME_SLIDER_CONTROL})),n.d(t,"ControlGroupContainer",(function(){})),n.d(t,"ControlGroupContainerFactory",(function(){return control_group_container_factory_ControlGroupContainerFactory})),n.d(t,"OptionsListEmbeddableFactory",(function(){return options_list_embeddable_factory_OptionsListEmbeddableFactory})),n.d(t,"OptionsListEmbeddable",(function(){})),n.d(t,"RangeSliderEmbeddableFactory",(function(){return range_slider_embeddable_factory_RangeSliderEmbeddableFactory})),n.d(t,"RangeSliderEmbeddable",(function(){})),n.d(t,"LazyControlsCallout",(function(){return E})),n.d(t,"plugin",(function(){return G}));var o=n(11),a=(n(6),n(1)),r=n.n(a),i=n(8),l=n.n(i),s=n(17),c=n.n(s),u=n(4),d=n.n(u),g=n(5),p=n(9),f=n(2),m=n(3);const b=Object(f.withSuspense)(f.LazyFieldPicker,null),y=Object(f.withSuspense)(f.LazyDataViewPicker,null),v=({onChange:e,initialInput:t,setValidState:n,setDefaultTitle:a,getRelevantDataViewId:r,setLastUsedDataViewId:i})=>{var l,s;const{dataViews:f}=o.a.getHooks(),{getIdsWithTitle:v,getDefaultId:S,get:h}=f.useService(),[T,w]=Object(u.useState)({fieldName:null==t?void 0:t.fieldName,singleSelect:null==t?void 0:t.singleSelect,dataViewListItems:[]});c()((()=>{let n=!0;return T.fieldName&&a(T.fieldName),(async()=>{var o,a;const i=await v(),l=null!==(o=null!==(a=null==t?void 0:t.dataViewId)&&void 0!==a?a:null==r?void 0:r())&&void 0!==o?o:await S();let s;l&&(e({dataViewId:l}),s=await h(l)),n&&w((e=>({...e,dataView:s,dataViewListItems:i})))})(),()=>{n=!1}})),Object(u.useEffect)((()=>n(Boolean(T.fieldName)&&Boolean(T.dataView))),[T.fieldName,n,T.dataView]);const{dataView:_,fieldName:O}=T;return Object(m.jsx)(d.a.Fragment,null,Object(m.jsx)(g.EuiFormRow,{label:p.a.editor.getDataViewTitle()},Object(m.jsx)(y,{dataViews:T.dataViewListItems,selectedDataViewId:null==_?void 0:_.id,onChangeDataViewId:t=>{null==i||i(t),t!==(null==_?void 0:_.id)&&(e({dataViewId:t}),w((e=>({...e,fieldName:void 0}))),h(t).then((e=>{w((t=>({...t,dataView:e})))})))},trigger:{label:null!==(l=null===(s=T.dataView)||void 0===s?void 0:s.title)&&void 0!==l?l:p.a.editor.getNoDataViewTitle()}})),Object(m.jsx)(g.EuiFormRow,{label:p.a.editor.getFieldTitle()},Object(m.jsx)(b,{filterPredicate:e=>e.aggregatable&&"string"===e.type||"boolean"===e.type,selectedFieldName:O,dataView:_,onSelectField:t=>{var n;a(null!==(n=t.displayName)&&void 0!==n?n:t.name),e({fieldName:t.name}),w((e=>({...e,fieldName:t.name})))}})),Object(m.jsx)(g.EuiFormRow,null,Object(m.jsx)(g.EuiSwitch,{label:p.a.editor.getAllowMultiselectTitle(),checked:!T.singleSelect,onChange:()=>{e({singleSelect:!T.singleSelect}),w((e=>({...e,singleSelect:!e.singleSelect})))}})))};var S=n(22),h=n(18);const T="optionsListDataView";class options_list_embeddable_factory_OptionsListEmbeddableFactory{constructor(){r()(this,"type",S.a),r()(this,"canCreateNew",(()=>!1)),r()(this,"presaveTransformFunction",((e,t)=>(t&&(e.fieldName&&!l()(e.fieldName,t.getInput().fieldName)||e.dataViewId&&!l()(e.dataViewId,t.getInput().dataViewId))&&(e.selectedOptions=[]),e))),r()(this,"controlEditorComponent",v),r()(this,"isEditable",(()=>Promise.resolve(!1))),r()(this,"getDisplayName",(()=>p.a.getDisplayName())),r()(this,"getIconType",(()=>"list")),r()(this,"getDescription",(()=>p.a.getDescription())),r()(this,"inject",((e,t)=>{const n={...e};return t.forEach((e=>{e.name===T&&(n.dataViewId=e.id)})),n})),r()(this,"extract",(e=>{const t={...e},n=[];return"dataViewId"in t&&(n.push({name:T,type:h.DATA_VIEW_SAVED_OBJECT_TYPE,id:t.dataViewId}),delete t.dataViewId),{state:t,references:n}}))}async create(e,t){const{OptionsListEmbeddable:o}=await Promise.all([n.e(0),n.e(4)]).then(n.bind(null,86));return Promise.resolve(new o(e,{},t))}}n(12);var w=n(10);const _=Object(f.withSuspense)(f.LazyFieldPicker,null),O=Object(f.withSuspense)(f.LazyDataViewPicker,null),C=({onChange:e,initialInput:t,setValidState:n,setDefaultTitle:a,getRelevantDataViewId:r,setLastUsedDataViewId:i})=>{var l,s;const{dataViews:p}=o.a.getHooks(),{getIdsWithTitle:f,getDefaultId:b,get:y}=p.useService(),[v,S]=Object(u.useState)({fieldName:null==t?void 0:t.fieldName,dataViewListItems:[]});c()((()=>{let n=!0;return v.fieldName&&a(v.fieldName),(async()=>{var o,a;const i=await f(),l=null!==(o=null!==(a=null==t?void 0:t.dataViewId)&&void 0!==a?a:null==r?void 0:r())&&void 0!==o?o:await b();let s;l&&(e({dataViewId:l}),s=await y(l)),n&&S((e=>({...e,dataView:s,dataViewListItems:i})))})(),()=>{n=!1}})),Object(u.useEffect)((()=>n(Boolean(v.fieldName)&&Boolean(v.dataView))),[v.fieldName,n,v.dataView]);const{dataView:h,fieldName:T}=v;return Object(m.jsx)(d.a.Fragment,null,Object(m.jsx)(g.EuiFormRow,{label:w.a.editor.getDataViewTitle()},Object(m.jsx)(O,{dataViews:v.dataViewListItems,selectedDataViewId:null==h?void 0:h.id,onChangeDataViewId:t=>{null==i||i(t),t!==(null==h?void 0:h.id)&&(e({dataViewId:t}),S((e=>({...e,fieldName:void 0}))),y(t).then((e=>{S((t=>({...t,dataView:e})))})))},trigger:{label:null!==(l=null===(s=v.dataView)||void 0===s?void 0:s.title)&&void 0!==l?l:w.a.editor.getNoDataViewTitle()}})),Object(m.jsx)(g.EuiFormRow,{label:w.a.editor.getFieldTitle()},Object(m.jsx)(_,{filterPredicate:e=>e.aggregatable&&"number"===e.type,selectedFieldName:T,dataView:h,onSelectField:t=>{var n;a(null!==(n=t.displayName)&&void 0!==n?n:t.name),e({fieldName:t.name}),S((e=>({...e,fieldName:t.name})))}})))};var M=n(23);const I="optionsListDataView";class range_slider_embeddable_factory_RangeSliderEmbeddableFactory{constructor(){r()(this,"type",M.a),r()(this,"canCreateNew",(()=>!1)),r()(this,"presaveTransformFunction",((e,t)=>(t&&(e.fieldName&&!l()(e.fieldName,t.getInput().fieldName)||e.dataViewId&&!l()(e.dataViewId,t.getInput().dataViewId))&&(e.value=["",""]),e))),r()(this,"controlEditorComponent",C),r()(this,"isEditable",(()=>Promise.resolve(!1))),r()(this,"getDisplayName",(()=>w.a.getDisplayName())),r()(this,"getIconType",(()=>"controlsHorizontal")),r()(this,"getDescription",(()=>w.a.getDescription())),r()(this,"inject",((e,t)=>{const n={...e};return t.forEach((e=>{e.name===I&&(n.dataViewId=e.id)})),n})),r()(this,"extract",(e=>{const t={...e},n=[];return"dataViewId"in t&&(n.push({name:I,type:h.DATA_VIEW_SAVED_OBJECT_TYPE,id:t.dataViewId}),delete t.dataViewId),{state:t,references:n}}))}async create(e,t){const{RangeSliderEmbeddable:o}=await Promise.all([n.e(0),n.e(5)]).then(n.bind(null,87));return Promise.resolve(new o(e,{},t))}}var D=n(20);class plugin_ControlsPlugin{async startControlsKibanaServices(e,t){const{registry:a}=await Promise.all([n.e(0),n.e(6)]).then(n.bind(null,85));o.a.setRegistry(a.start({coreStart:e,startPlugins:t}))}transferEditorFunctions(e,t){t.controlEditorComponent=e.controlEditorComponent,t.presaveTransformFunction=e.presaveTransformFunction}setup(e,t){const{registerControlType:n}=D.a,{embeddable:o}=t;return e.getStartServices().then((([,e])=>{o.registerEmbeddableFactory(L.CONTROL_GROUP_TYPE,new control_group_container_factory_ControlGroupContainerFactory(e.embeddable));const t=new options_list_embeddable_factory_OptionsListEmbeddableFactory,a=o.registerEmbeddableFactory(L.OPTIONS_LIST_CONTROL,t)();this.transferEditorFunctions(t,a),n(a);const r=new range_slider_embeddable_factory_RangeSliderEmbeddableFactory,i=o.registerEmbeddableFactory(L.RANGE_SLIDER_CONTROL,r)();this.transferEditorFunctions(r,i),n(i)})),{registerControlType:n}}start(e,t){this.startControlsKibanaServices(e,t);const{getControlFactory:n,getControlTypes:o}=D.a;return{getControlFactory:n,getControlTypes:o}}stop(){}}var L=n(7),P=n(16),N=n(21);const V=e=>`${e.explicitInput.id}:`;class control_group_container_factory_ControlGroupContainerFactory{constructor(e){r()(this,"isContainerType",!0),r()(this,"type",P.a),r()(this,"inject",void 0),r()(this,"extract",void 0),r()(this,"isEditable",(async()=>!1)),r()(this,"getDisplayName",(()=>N.a.getEmbeddableTitle())),r()(this,"create",(async(e,t)=>{const{ControlGroupContainer:o}=await Promise.all([n.e(0),n.e(2)]).then(n.bind(null,84));return new o(e,t)})),this.persistableStateService=e,this.inject=(e=>(t,n)=>{const o={...t};if("panels"in o){o.panels={...o.panels};for(const[t,a]of Object.entries(o.panels)){o.panels[t]={...a};const r=V(a),i=n.filter((e=>0===e.name.indexOf(r))).map((e=>({...e,name:e.name.replace(r,"")}))),l=0===i.length?n:i,{type:s,...c}=e.inject({...o.panels[t].explicitInput,type:o.panels[t].type},l);o.panels[t].explicitInput=c}}return o})(this.persistableStateService),this.extract=(e=>t=>{const n={...t},o=[];if("panels"in n){n.panels={...n.panels};for(const[t,a]of Object.entries(n.panels)){const r=V(a),{state:i,references:l}=e.extract({...a.explicitInput,type:a.type}),s=l.map((e=>({...e,name:`${r}${e.name}`})));o.push(...s);const{type:c,...u}=i;n.panels[t].explicitInput=u}}return{state:n,references:o}})(this.persistableStateService)}getDefaultInput(){return Object(L.getDefaultControlGroupInput)()}}const E=d.a.lazy((()=>n.e(3).then(n.bind(null,88))));function G(){return new plugin_ControlsPlugin}},function(e,t,n){n.r(t);var o=__kbnBundles__.get("plugin/embeddable/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(o))},function(e,t){e.exports=__kbnSharedDeps__.ReactDom},function(e,t){e.exports=__kbnSharedDeps__.Classnames},function(e,t){e.exports=__kbnSharedDeps__.RxjsOperators},function(e,t,n){n.r(t);var o=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(o))},function(e,t){e.exports=__kbnSharedDeps__.KbnDatemath},function(e,t){e.exports=__kbnSharedDeps__.MomentTimezone}]);